<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rewarder - Monetized Talent Competition</title>
    <style>
    :root {
        --primary-color: #6c5ce7;
        --primary-dark: #5549c0;
        --secondary-color: #fd79a8;
        --text-color: #2d3436;
        --light-text: #636e72;
        --background-color: #f9f9f9;
        --white: #ffffff;
        --error-color: #e74c3c;
        --success-color: #2ecc71;
        --border-color: #dfe6e9;
        --box-shadow: 0 10px 30px rgba(0, 0, 0, 0.05);
    }
    
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }
    
    body {
        font-family: 'Poppins', sans-serif;
        background-color: var(--background-color);
        color: var(--text-color);
        line-height: 1.6;
    }
    
    .container {
        min-height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 20px;
    }
    
    .split-screen {
        display: flex;
        background-color: var(--white);
        border-radius: 20px;
        overflow: hidden;
        box-shadow: var(--box-shadow);
        width: 100%;
        max-width: 1200px;
        min-height: 600px;
    }
    
    /* Left side styling */
    .left {
        flex: 1;
        background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
        color: var(--white);
        padding: 60px 40px;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        position: relative;
        overflow: hidden;
    }
    
    .left::before {
        content: '';
        position: absolute;
        top: -50px;
        right: -50px;
        width: 200px;
        height: 200px;
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.1);
    }
    
    .left::after {
        content: '';
        position: absolute;
        bottom: -80px;
        left: -80px;
        width: 300px;
        height: 300px;
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.1);
    }
    
    .logo h1 {
        font-size: 2.5rem;
        font-weight: 700;
        margin-bottom: 10px;
        letter-spacing: 1px;
    }
    
    .tagline {
        margin-top: 60px;
        z-index: 1;
    }
    
    .tagline h2 {
        font-size: 2rem;
        font-weight: 600;
        margin-bottom: 15px;
    }
    
    .tagline p {
        font-size: 1.1rem;
        opacity: 0.9;
    }
    
    .features {
        margin-top: 60px;
        z-index: 1;
    }
    
    .feature {
        display: flex;
        align-items: center;
        margin-bottom: 20px;
    }
    
    .feature i {
        font-size: 1.2rem;
        margin-right: 15px;
        background: rgba(255, 255, 255, 0.2);
        width: 40px;
        height: 40px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    
    .feature span {
        font-size: 1rem;
    }
    
    /* Right side styling */
    .right {
        flex: 1;
        padding: 40px;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    
    .auth-container {
        width: 100%;
        max-width: 400px;
        transition: all 0.3s ease;
    }
    
    .auth-container.hidden {
        display: none;
    }
    
    .auth-container h2 {
        font-size: 1.8rem;
        font-weight: 600;
        margin-bottom: 10px;
        color: var(--text-color);
    }
    
    .auth-container > p {
        color: var(--light-text);
        margin-bottom: 30px;
    }
    
    .social-login {
        margin-bottom: 25px;
    }
    
    .social-btn {
        width: 100%;
        padding: 12px;
        border-radius: 8px;
        border: 1px solid var(--border-color);
        background-color: var(--white);
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: all 0.3s ease;
    }
    
    .social-btn:hover {
        background-color: #f5f5f5;
    }
    
    .social-btn img {
        width: 20px;
        height: 20px;
        margin-right: 10px;
    }
    
    .divider {
        display: flex;
        align-items: center;
        margin: 25px 0;
    }
    
    .divider::before,
    .divider::after {
        content: '';
        flex: 1;
        height: 1px;
        background-color: var(--border-color);
    }
    
    .divider span {
        padding: 0 15px;
        color: var(--light-text);
        font-size: 0.9rem;
    }
    
    .form-group {
        margin-bottom: 20px;
    }
    
    .form-group label {
        display: block;
        margin-bottom: 8px;
        font-weight: 500;
        font-size: 0.9rem;
    }
    
    .form-group input,
    .form-group select {
        width: 100%;
        padding: 12px 15px;
        border: 1px solid var(--border-color);
        border-radius: 8px;
        font-size: 1rem;
        transition: all 0.3s ease;
    }
    
    .form-group input:focus,
    .form-group select:focus {
        border-color: var(--primary-color);
        outline: none;
    }
    
    .password-input {
        position: relative;
    }
    
    .toggle-password {
        position: absolute;
        right: 15px;
        top: 50%;
        transform: translateY(-50%);
        cursor: pointer;
        color: var(--light-text);
    }
    
    .password-strength {
        margin-top: 10px;
    }
    
    .strength-meter {
        display: flex;
        gap: 5px;
        margin-bottom: 5px;
    }
    
    .strength-segment {
        height: 4px;
        flex: 1;
        background-color: #ddd;
        border-radius: 2px;
    }
    
    .strength-segment.weak {
        background-color: var(--error-color);
    }
    
    .strength-segment.medium {
        background-color: #f39c12;
    }
    
    .strength-segment.strong {
        background-color: var(--success-color);
    }
    
    .strength-text {
        font-size: 0.8rem;
        color: var(--light-text);
    }
    
    .form-options {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 25px;
        font-size: 0.9rem;
    }
    
    .remember-me,
    .terms {
        display: flex;
        align-items: center;
    }
    
    .remember-me input,
    .terms input {
        margin-right: 8px;
    }
    
    .forgot-password,
    .terms a {
        color: var(--primary-color);
        text-decoration: none;
    }
    
    .forgot-password:hover,
    .terms a:hover {
        text-decoration: underline;
    }
    
    .auth-btn {
        width: 100%;
        padding: 14px;
        background-color: var(--primary-color);
        color: var(--white);
        border: none;
        border-radius: 8px;
        font-size: 1rem;
        font-weight: 500;
        cursor: pointer;
        transition: all 0.3s ease;
    }
    
    .auth-btn:hover {
        background-color: var(--primary-dark);
    }
    
    .auth-switch {
        text-align: center;
        margin-top: 25px;
        font-size: 0.9rem;
    }
    
    .auth-switch a {
        color: var(--primary-color);
        text-decoration: none;
        font-weight: 500;
    }
    
    .auth-switch a:hover {
        text-decoration: underline;
    }
    
    /* Error message styling */
    .error-message {
        color: var(--error-color);
        font-size: 0.85rem;
        margin-top: 5px;
        display: none;
    }
    
    .error-message.visible {
        display: block;
    }
    
    /* Success message styling */
    .success-message {
        color: var(--success-color);
        font-size: 0.85rem;
        margin-top: 5px;
        display: none;
    }
    
    .success-message.visible {
        display: block;
    }
    
    /* Loading indicator */
    .loading-spinner {
        display: inline-block;
        width: 20px;
        height: 20px;
        border: 2px solid rgba(255, 255, 255, 0.3);
        border-radius: 50%;
        border-top-color: var(--white);
        animation: spin 0.8s linear infinite;
        margin-left: 10px;
    }
    
    @keyframes spin {
        to {
            transform: rotate(360deg);
        }
    }
    
    .auth-btn.loading {
        display: flex;
        align-items: center;
        justify-content: center;
    }
    
    /* Toast notification */
    .toast {
        position: fixed;
        top: 20px;
        right: 20px;
        padding: 15px 20px;
        border-radius: 8px;
        color: var(--white);
        font-size: 0.9rem;
        max-width: 300px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        z-index: 1000;
        opacity: 0;
        transform: translateY(-20px);
        transition: all 0.3s ease;
    }
    
    .toast.success {
        background-color: var(--success-color);
    }
    
    .toast.error {
        background-color: var(--error-color);
    }
    
    .toast.visible {
        opacity: 1;
        transform: translateY(0);
    }
    
    /* Responsive styles */
    @media (max-width: 992px) {
        .split-screen {
            flex-direction: column;
            max-width: 600px;
        }
        
        .left {
            padding: 40px 30px;
            min-height: 300px;
        }
        
        .tagline {
            margin-top: 30px;
        }
        
        .features {
            margin-top: 30px;
        }
        
        .right {
            padding: 30px;
        }
    }
    
    @media (max-width: 768px) {
        .container {
            padding: 10px;
        }
        
        .split-screen {
            border-radius: 15px;
        }
        
        .left {
            padding: 30px 20px;
            min-height: 250px;
        }
        
        .logo h1 {
            font-size: 2rem;
        }
        
        .tagline h2 {
            font-size: 1.5rem;
        }
        
        .tagline p {
            font-size: 1rem;
        }
        
        .feature i {
            width: 35px;
            height: 35px;
            font-size: 1rem;
        }
        
        .feature span {
            font-size: 0.9rem;
        }
        
        .auth-container h2 {
            font-size: 1.5rem;
        }
    }
    
    @media (max-width: 480px) {
        .split-screen {
            border-radius: 10px;
        }
        
        .left {
            padding: 25px 15px;
            min-height: 200px;
        }
        
        .logo h1 {
            font-size: 1.8rem;
        }
        
        .tagline {
            margin-top: 20px;
        }
        
        .tagline h2 {
            font-size: 1.3rem;
            margin-bottom: 10px;
        }
        
        .tagline p {
            font-size: 0.9rem;
        }
        
        .features {
            margin-top: 20px;
        }
        
        .feature {
            margin-bottom: 15px;
        }
        
        .feature i {
            width: 30px;
            height: 30px;
            font-size: 0.9rem;
            margin-right: 10px;
        }
        
        .feature span {
            font-size: 0.85rem;
        }
        
        .right {
            padding: 25px 15px;
        }
        
        .auth-container h2 {
            font-size: 1.4rem;
        }
        
        .auth-container > p {
            font-size: 0.9rem;
            margin-bottom: 20px;
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        .form-group label {
            font-size: 0.85rem;
        }
        
        .form-group input,
        .form-group select {
            padding: 10px 12px;
            font-size: 0.9rem;
        }
        
        .form-options {
            flex-direction: column;
            align-items: flex-start;
            gap: 10px;
        }
        
        .auth-btn {
            padding: 12px;
        }
        
        .social-btn span {
            font-size: 0.9rem;
        }
        
        .divider span {
            font-size: 0.8rem;
        }
    }
    
    /* iOS specific adjustments */
    @supports (-webkit-touch-callout: none) {
        input, select {
            font-size: 16px !important; /* Prevents zoom on focus in iOS */
        }
        
        .form-group input,
        .form-group select {
            -webkit-appearance: none; /* Removes default styling */
            border-radius: 8px;
        }
        
        .auth-btn {
            -webkit-appearance: none;
        }
    }
    
    /* Dark mode support */
    @media (prefers-color-scheme: dark) {
        :root {
            --background-color: #1a1a2e;
            --text-color: #e6e6e6;
            --light-text: #a7a7a7;
            --white: #222236;
            --border-color: #393954;
        }
        
        .social-btn {
            background-color: #2a2a42;
            border-color: #393954;
        }
        
        .social-btn:hover {
            background-color: #33334d;
        }
        
        .strength-segment {
            background-color: #444;
        }
        
        .form-group input,
        .form-group select {
            background-color: #2a2a42;
            color: var(--text-color);
        }
        
        .form-group input::placeholder,
        .form-group select::placeholder {
            color: #777;
        }
    }
    
    /* Animations */
    @keyframes fadeIn {
        from {
            opacity: 0;
            transform: translateY(10px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }
    
    .auth-container {
        animation: fadeIn 0.5s ease forwards;
    }
    
    /* Accessibility improvements */
    .auth-btn:focus,
    .social-btn:focus,
    input:focus,
    select:focus {
        outline: 2px solid var(--primary-color);
        outline-offset: 2px;
    }
    
    /* For screen readers */
    .sr-only {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        white-space: nowrap;
        border-width: 0;
    }
 /* Menu Panel Styles */
.menu-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5);
    backdrop-filter: blur(4px);
    -webkit-backdrop-filter: blur(4px);
    z-index: 1000;
    display: none;
    opacity: 0;
    transition: opacity 0.3s ease;
}

.menu-overlay.active {
    display: block;
    opacity: 1;
}

.menu-panel {
    position: fixed;
    top: 0;
    right: -320px; /* Start off-screen */
    width: 300px;
    height: 100%;
    background-color: var(--bg-color);
    box-shadow: -5px 0 25px rgba(0, 0, 0, 0.15);
    display: flex;
    flex-direction: column;
    transition: right 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    z-index: 1001;
}

.menu-overlay.active .menu-panel {
    right: 0;
}

.menu-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1.5rem;
    border-bottom: 1px solid var(--border-color);
}

.menu-title {
    font-size: 1.4rem;
    font-weight: 700;
    color: var(--text-color);
}

.menu-close {
    background: transparent;
    border: none;
    color: var(--text-color-light);
    font-size: 1.2rem;
    cursor: pointer;
    width: 36px;
    height: 36px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
}

.menu-close:hover {
    background-color: rgba(0, 0, 0, 0.05);
    color: var(--text-color);
}

.menu-body {
    flex: 1;
    overflow-y: auto;
    padding: 1rem 0;
}

.menu-list {
    list-style: none;
    padding: 0;
    margin: 0;
}

.menu-item {
    margin: 0.5rem 0;
}

.menu-link {
    display: flex;
    align-items: center;
    padding: 0.8rem 1.5rem;
    color: var(--text-color);
    text-decoration: none;
    transition: all 0.3s ease;
    border-left: 3px solid transparent;
}

.menu-link:hover, .menu-link:focus {
    background-color: rgba(var(--primary-color-rgb), 0.1);
    border-left-color: var(--primary-color);
}

.menu-link i {
    width: 24px;
    margin-right: 1rem;
    font-size: 1.1rem;
    color: var(--text-color-light);
    text-align: center;
}

.menu-link:hover i, .menu-link:focus i {
    color: var(--primary-color);
}

.menu-link span {
    font-weight: 500;
    font-size: 1rem;
}

.menu-footer {
    padding: 1.5rem;
    border-top: 1px solid var(--border-color);
}

.logout-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    padding: 0.8rem;
    background-color: rgba(var(--error-color-rgb), 0.1);
    color: var(--error-color);
    border: none;
    border-radius: 8px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
}

.logout-btn:hover {
    background-color: var(--error-color);
    color: white;
}

.logout-btn i {
    margin-right: 0.5rem;
}

/* Custom scrollbar for menu */
.menu-body::-webkit-scrollbar {
    width: 5px;
}

.menu-body::-webkit-scrollbar-track {
    background: transparent;
}

.menu-body::-webkit-scrollbar-thumb {
    background-color: rgba(var(--text-color-rgb), 0.2);
    border-radius: 10px;
}

.menu-body::-webkit-scrollbar-thumb:hover {
    background-color: rgba(var(--text-color-rgb), 0.3);
}

/* Animation for menu items */
.menu-item {
    opacity: 0;
    transform: translateX(20px);
    transition: opacity 0.3s ease, transform 0.3s ease;
}

.menu-overlay.active .menu-item {
    opacity: 1;
    transform: translateX(0);
}

/* Staggered animation for menu items */
.menu-overlay.active .menu-item:nth-child(1) { transition-delay: 0.1s; }
.menu-overlay.active .menu-item:nth-child(2) { transition-delay: 0.15s; }
.menu-overlay.active .menu-item:nth-child(3) { transition-delay: 0.2s; }
.menu-overlay.active .menu-item:nth-child(4) { transition-delay: 0.25s; }
.menu-overlay.active .menu-item:nth-child(5) { transition-delay: 0.3s; }
.menu-overlay.active .menu-item:nth-child(6) { transition-delay: 0.35s; }
.menu-overlay.active .menu-item:nth-child(7) { transition-delay: 0.4s; }

/* Responsive adjustments */
@media (max-width: 480px) {
    .menu-panel {
        width: 280px;
    }
    
    .menu-header {
        padding: 1.2rem;
    }
    
    .menu-title {
        font-size: 1.2rem;
    }
    
    .menu-link {
        padding: 0.7rem 1.2rem;
    }
    
    .menu-link i {
        font-size: 1rem;
    }
    
    .menu-link span {
        font-size: 0.95rem;
    }
    
    .menu-footer {
        padding: 1.2rem;
    }
    
    .logout-btn {
        padding: 0.7rem;
    }
}

/* Prevent body scrolling when menu is open */
body.menu-open {
    overflow: hidden;
}

/* Touch-friendly adjustments */
@media (hover: none) {
    .menu-link {
        padding: 1rem 1.5rem; /* Larger touch target */
    }
    
    .menu-close, .logout-btn {
        -webkit-tap-highlight-color: transparent;
    }
}

/* Profile Button and Popup Styles */
.profile-btn {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background-color: var(--accent-color);
    color: white;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 600;
    cursor: pointer;
    transition: transform 0.3s, box-shadow 0.3s;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
    position: relative;
    overflow: hidden;
}

.profile-btn:hover {
    transform: scale(1.05);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.25);
}

.profile-btn img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

/* Profile Popup */
.profile-popup {
    position: absolute;
    top: 60px;
    right: 20px;
    width: 280px;
    background-color: var(--bg-color);
    border-radius: 12px;
    box-shadow: 0 5px 25px rgba(0, 0, 0, 0.15);
    z-index: 100;
    overflow: hidden;
    opacity: 0;
    visibility: hidden;
    transform: translateY(-10px);
    transition: all 0.3s ease;
}

.profile-popup.active {
    opacity: 1;
    visibility: visible;
    transform: translateY(0);
}

.profile-popup-header {
    display: flex;
    align-items: center;
    padding: 1.2rem;
    background-color: rgba(var(--primary-color-rgb), 0.05);
    border-bottom: 1px solid var(--border-color);
}

/* Profile Avatar with Upload Functionality */
.profile-avatar {
    width: 50px;
    height: 50px;
    border-radius: 50%;
    background-color: #4a6cf7;
    color: white;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 600;
    font-size: 1.2rem;
    margin-right: 1rem;
    overflow: hidden;
    position: relative;
}

.profile-avatar img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.avatar-upload {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5);
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    transition: opacity 0.3s ease;
    cursor: pointer;
}

.profile-avatar:hover .avatar-upload {
    opacity: 1;
}

.avatar-upload-label {
    color: white;
    font-size: 1rem;
    cursor: pointer;
}

/* Avatar upload progress indicator */
.avatar-upload-progress {
    position: absolute;
    bottom: 0;
    left: 0;
    height: 3px;
    background-color: #4a6cf7;
    transition: width 0.3s ease;
}

/* Toast notification for avatar upload */
.toast {
    position: fixed;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
    background-color: white;
    color: #333;
    padding: 0.8rem 1.5rem;
    border-radius: 8px;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
    z-index: 1000;
    display: flex;
    align-items: center;
    opacity: 0;
    visibility: hidden;
    transition: all 0.3s ease;
}

.toast.show {
    opacity: 1;
    visibility: visible;
    transform: translate(-50%, -10px);
}

.toast.success {
    border-left: 4px solid #4caf50;
}

.toast.error {
    border-left: 4px solid #f44336;
}

.toast i {
    margin-right: 0.8rem;
    font-size: 1.2rem;
}

.toast.success i {
    color: #4caf50;
}

.toast.error i {
    color: #f44336;
}

.profile-email {
    font-size: 0.85rem;
    color: var(--text-color-light);
    word-break: break-all;
}

.profile-popup-body {
    padding: 0.8rem 0;
}

.profile-popup-link {
    display: flex;
    align-items: center;
    padding: 0.8rem 1.2rem;
    color: var(--text-color);
    text-decoration: none;
    transition: background-color 0.3s;
}

.profile-popup-link:hover {
    background-color: rgba(var(--primary-color-rgb), 0.05);
}

.profile-popup-link i {
    width: 20px;
    margin-right: 0.8rem;
    color: var(--text-color-light);
}

.profile-popup-link:hover i {
    color: var(--primary-color);
}

.profile-popup-footer {
    padding: 0.8rem 1.2rem;
    border-top: 1px solid var(--border-color);
}

.logout-btn-sm {
    display: flex;
    align-items: center;
    width: 100%;
    padding: 0.7rem;
    background-color: rgba(var(--error-color-rgb), 0.1);
    color: var(--error-color);
    border: none;
    border-radius: 6px;
    font-weight: 600;
    font-size: 0.9rem;
    cursor: pointer;
    transition: all 0.3s ease;
}

.logout-btn-sm:hover {
    background-color: var(--error-color);
    color: white;
}

.logout-btn-sm i {
    margin-right: 0.5rem;
}

/* Arrow pointer for popup */
.profile-popup::before {
    content: '';
    position: absolute;
    top: -8px;
    right: 20px;
    width: 16px;
    height: 16px;
    background-color: var(--bg-color);
    transform: rotate(45deg);
    border-top: 1px solid var(--border-color);
    border-left: 1px solid var(--border-color);
}

/* Responsive adjustments */
@media (max-width: 480px) {
    .profile-popup {
        width: 250px;
        right: 10px;
    }
    
    .profile-popup-header {
        padding: 1rem;
    }
    
    .profile-avatar {
        width: 40px;
        height: 40px;
        font-size: 1rem;
    }
    
    .profile-name {
        font-size: 0.95rem;
    }
    
    .profile-email {
        font-size: 0.8rem;
    }
    
    .profile-popup-link {
        padding: 0.7rem 1rem;
    }
    
    .logout-btn-sm {
        padding: 0.6rem;
        font-size: 0.85rem;
    }
}

/* Click outside to close */
.profile-popup-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 99;
    display: none;
}

.profile-popup-overlay.active {
    display: block;
}

/* Dashboard Styles */
.dashboard {
    display: none; /* Hidden by default until user logs in */
    width: 100%;
    min-height: 100vh;
    background-color: var(--bg-color);
    color: var(--text-color);
    font-family: var(--font-family);
}

/* Header Styles */
.header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1rem 2rem;
    background-color: var(--primary-color);
    color: white;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    position: sticky;
    top: 0;
    z-index: 100;
}

.header-logo {
    font-size: 1.8rem;
    font-weight: 700;
    color: white;
    text-decoration: none;
    letter-spacing: 0.5px;
}

.header-actions {
    display: flex;
    align-items: center;
    gap: 1rem;
}

.icon-btn {
    background: transparent;
    border: none;
    color: white;
    font-size: 1.2rem;
    cursor: pointer;
    position: relative;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background-color 0.3s;
}

.icon-btn:hover {
    background-color: rgba(255, 255, 255, 0.1);
}

.notification-badge {
    position: absolute;
    top: 0;
    right: 0;
    background-color: var(--error-color);
    color: white;
    font-size: 0.7rem;
    width: 18px;
    height: 18px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 600;
}

.profile-btn {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background-color: var(--accent-color);
    color: white;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 600;
    cursor: pointer;
    transition: transform 0.3s;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
}

.profile-btn:hover {
    transform: scale(1.05);
}

/* Responsive adjustments for header */
@media (max-width: 768px) {
    .header {
        padding: 0.8rem 1rem;
    }
    
    .header-logo {
        font-size: 1.5rem;
    }
    
    .icon-btn, .profile-btn {
        width: 36px;
        height: 36px;
    }
}

@media (max-width: 480px) {
    .header-logo {
        font-size: 1.3rem;
    }
    
    .icon-btn, .profile-btn {
        width: 32px;
        height: 32px;
    }
    
    .notification-badge {
        width: 16px;
        height: 16px;
        font-size: 0.6rem;
    }
}

/* Ad Banner Styles */
.ad-banner {
    position: relative;
    width: 80%;
    height: 120px; /* Increased height */
    margin: 1.5rem auto; /* Center horizontally with auto margins */
    overflow: hidden;
    border-radius: 8px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    display: flex;
    justify-content: center;
    align-items: center;
}

.ad-banner img {
    width: 100%;
    height: 100%; /* Make image fill the container height */
    object-fit: cover; /* Maintain aspect ratio while filling */
    display: block;
    animation: adScroll 30s linear infinite;
}

.ad-label {
    position: absolute;
    top: 10px;
    right: 10px;
    background-color: rgba(0, 0, 0, 0.6);
    color: white;
    font-size: 0.8rem;
    padding: 3px 8px;
    border-radius: 4px;
    z-index: 1;
}

/* Ad Banner Animation */
@keyframes adScroll {
    0% {
        transform: translateX(0);
    }
    25% {
        transform: translateX(-5%);
    }
    50% {
        transform: translateX(0);
    }
    75% {
        transform: translateX(5%);
    }
    100% {
        transform: translateX(0);
    }
}

/* Hover effect to pause animation */
.ad-banner:hover img {
    animation-play-state: paused;
}

/* Responsive adjustments */
@media (max-width: 768px) {
    .ad-banner {
        width: 90%;
        height: 100px;
        margin: 1.2rem auto;
    }
}

@media (max-width: 480px) {
    .ad-banner {
        width: 95%;
        height: 80px;
        margin: 1rem auto;
    }
    
    .ad-label {
        font-size: 0.7rem;
        padding: 2px 6px;
    }
}
/* Ad Carousel Styles */
.ad-carousel {
    position: relative;
    width: 80%;
    height: 150px;
    margin: 2rem auto;
    overflow: hidden;
    border-radius: 12px;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
}

.ad-carousel-container {
    display: flex;
    width: 300%; /* 100% for each ad */
    height: 100%;
    transition: transform 0.5s ease-in-out;
}

.ad-banner {
    flex: 1;
    position: relative;
    overflow: hidden;
}

.ad-banner img,
.ad-banner video {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.ad-label {
    position: absolute;
    top: 10px;
    right: 10px;
    background-color: rgba(0, 0, 0, 0.6);
    color: white;
    font-size: 0.8rem;
    padding: 3px 8px;
    border-radius: 4px;
    z-index: 1;
}

/* Video ad specific styles */
.video-ad {
    position: relative;
}

.video-controls {
    position: absolute;
    bottom: 10px;
    right: 10px;
    z-index: 2;
}

.video-control-btn {
    background-color: rgba(0, 0, 0, 0.6);
    color: white;
    border: none;
    border-radius: 50%;
    width: 30px;
    height: 30px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: background-color 0.3s;
}

.video-control-btn:hover {
    background-color: rgba(0, 0, 0, 0.8);
}

/* Carousel navigation dots */
.carousel-dots {
    position: absolute;
    bottom: 10px;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    gap: 8px;
}

.dot {
    width: 10px;
    height: 10px;
    border-radius: 50%;
    background-color: rgba(255, 255, 255, 0.5);
    cursor: pointer;
    transition: background-color 0.3s, transform 0.3s;
}

.dot.active {
    background-color: white;
    transform: scale(1.2);
}

/* Responsive adjustments */
@media (max-width: 768px) {
    .ad-carousel {
        width: 90%;
        height: 120px;
    }
    
    .video-control-btn {
        width: 25px;
        height: 25px;
        font-size: 0.8rem;
    }
    
    .dot {
        width: 8px;
        height: 8px;
    }
}

@media (max-width: 480px) {
    .ad-carousel {
        width: 95%;
        height: 100px;
    }
    
    .ad-label {
        font-size: 0.7rem;
        padding: 2px 6px;
    }
    
    .video-control-btn {
        width: 22px;
        height: 22px;
        font-size: 0.7rem;
    }
    
    .dot {
        width: 6px;
        height: 6px;
    }
}
/* Ad Carousel Styles */
.ad-carousel {
    position: relative;
    width: 80%;
    height: 150px;
    margin: 2rem auto;
    overflow: hidden;
    border-radius: 12px;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
}

.ad-carousel-container {
    display: flex;
    width: 300%; /* 100% for each ad */
    height: 100%;
    transition: transform 0.5s ease-in-out;
}

.ad-banner {
    flex: 1;
    position: relative;
    overflow: hidden;
}

.ad-banner img,
.ad-banner video {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.ad-label {
    position: absolute;
    top: 10px;
    right: 10px;
    background-color: rgba(0, 0, 0, 0.6);
    color: white;
    font-size: 0.8rem;
    padding: 3px 8px;
    border-radius: 4px;
    z-index: 1;
}

/* Video ad specific styles */
.video-ad {
    position: relative;
}

.video-controls {
    position: absolute;
    bottom: 10px;
    right: 10px;
    z-index: 2;
}

.video-control-btn {
    background-color: rgba(0, 0, 0, 0.6);
    color: white;
    border: none;
    border-radius: 50%;
    width: 30px;
    height: 30px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: background-color 0.3s;
}

.video-control-btn:hover {
    background-color: rgba(0, 0, 0, 0.8);
}

/* Carousel navigation dots */
.carousel-dots {
    position: absolute;
    bottom: 10px;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    gap: 8px;
}

.dot {
    width: 10px;
    height: 10px;
    border-radius: 50%;
    background-color: rgba(255, 255, 255, 0.5);
    cursor: pointer;
    transition: background-color 0.3s, transform 0.3s;
}

.dot.active {
    background-color: white;
    transform: scale(1.2);
}

/* Responsive adjustments */
@media (max-width: 768px) {
    .ad-carousel {
        width: 90%;
        height: 120px;
    }
    
    .video-control-btn {
        width: 25px;
        height: 25px;
        font-size: 0.8rem;
    }
    
    .dot {
        width: 8px;
        height: 8px;
    }
}

@media (max-width: 480px) {
    .ad-carousel {
        width: 95%;
        height: 100px;
    }
    
    .ad-label {
        font-size: 0.7rem;
        padding: 2px 6px;
    }
    
    .video-control-btn {
        width: 22px;
        height: 22px;
        font-size: 0.7rem;
    }
    
    .dot {
        width: 6px;
        height: 6px;
    }
}

     
/* Tabs Styles - Professional & Fully Responsive */
.tabs {
    display: flex;
    justify-content: center;
    align-items: center;
    width: 100%;
    max-width: 600px;
    margin: 2rem auto 1.5rem;
    background-color: var(--bg-color-light);
    border-radius: 12px;
    padding: 0.5rem;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
    position: relative;
    overflow: hidden;
}

.tab {
    flex: 1;
    padding: 1rem 1.5rem;
    font-weight: 600;
    font-size: 1rem;
    color: var(--text-color-light);
    background: transparent;
    border: none;
    cursor: pointer;
    position: relative;
    z-index: 2;
    transition: color 0.3s ease;
    text-align: center;
    border-radius: 8px;
    user-select: none;
    -webkit-tap-highlight-color: transparent;
}

.tab:focus {
    outline: none;
}

.tab:hover {
    color: var(--primary-color);
}

.tab.active {
    color: white;
}

/* Active tab indicator */
.tabs::before {
    content: '';
    position: absolute;
    top: 0.5rem;
    bottom: 0.5rem;
    left: 0.5rem;
    width: calc(50% - 0.5rem);
    background-color: var(--primary-color);
    border-radius: 8px;
    transition: transform 0.3s cubic-bezier(0.645, 0.045, 0.355, 1);
    z-index: 1;
}

.tabs .tab:nth-child(2).active ~ .tabs::before {
    transform: translateX(100%);
}

/* Fix for the active indicator when second tab is active */
.tab:nth-child(2).active ~ .tabs::before,
.tab:nth-child(2).active + .tabs::before {
    transform: translateX(100%);
}

/* JavaScript will add this class to move the indicator */
.tabs.second-tab-active::before {
    transform: translateX(calc(100% - 1rem));
}

/* Tab content container */
.tab-content {
    display: none;
    padding: 1.5rem;
    background-color: var(--bg-color);
    border-radius: 12px;
    box-shadow: 0 2px 15px rgba(0, 0, 0, 0.05);
    margin: 0 auto;
    max-width: 1200px;
}

.tab-content.active {
    display: block;
    animation: fadeIn 0.4s ease;
}

@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(8px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Touch-friendly adjustments for mobile */
@media (hover: none) {
    .tab:hover {
        color: var(--text-color-light); /* Prevent hover state on touch devices */
    }
    
    .tab.active {
        color: white;
    }
}

/* Responsive adjustments */
@media (max-width: 768px) {
    .tabs {
        max-width: 90%;
        margin: 1.5rem auto 1rem;
        padding: 0.4rem;
    }
    
    .tab {
        padding: 0.8rem 1rem;
        font-size: 0.95rem;
    }
    
    .tab-content {
        padding: 1.2rem;
        border-radius: 10px;
    }
}

@media (max-width: 480px) {
    .tabs {
        max-width: 95%;
        margin: 1.2rem auto 0.8rem;
        padding: 0.3rem;
    }
    
    .tab {
        padding: 0.7rem 0.5rem;
        font-size: 0.9rem;
    }
    
    .tab-content {
        padding: 1rem;
        border-radius: 8px;
    }
}

/* Ensure proper display on very small screens */
@media (max-width: 320px) {
    .tabs {
        padding: 0.25rem;
    }
    
    .tab {
        padding: 0.6rem 0.4rem;
        font-size: 0.85rem;
    }
}
/* Leaderboard Styles */
.leaderboard {
    background-color: var(--bg-color-light);
    border-radius: 16px;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
    padding: 1.5rem;
    margin: 2rem auto;
    max-width: 1000px;
    overflow: hidden;
}

.leaderboard-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1.5rem;
    padding-bottom: 0.8rem;
    border-bottom: 1px solid var(--border-color);
}

.leaderboard-title {
    font-size: 1.4rem;
    font-weight: 700;
    color: var(--text-color);
}

.btn-outline {
    background: transparent;
    border: 1.5px solid var(--primary-color);
    color: var(--primary-color);
    padding: 0.5rem 1rem;
    border-radius: 8px;
    font-weight: 600;
    font-size: 0.9rem;
    cursor: pointer;
    transition: all 0.3s ease;
}

.btn-outline:hover {
    background-color: var(--primary-color);
    color: white;
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(var(--primary-color-rgb), 0.25);
}

.btn-outline:active {
    transform: translateY(0);
}

.leaderboard-body {
    padding: 0.5rem 0;
}

.top-contestants {
    display: flex;
    justify-content: center;
    align-items: flex-end;
    gap: 1.5rem;
    padding: 1rem 0;
}

.contestant-podium {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    transition: transform 0.3s ease;
}

.contestant-podium:hover {
    transform: translateY(-5px);
}

.podium-position {
    position: relative;
    margin-bottom: 1rem;
    border-radius: 50%;
    overflow: hidden;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
}

.podium-position img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.5s ease;
}

.contestant-podium:hover .podium-position img {
    transform: scale(1.05);
}

.position-number {
    position: absolute;
    bottom: 0;
    right: 0;
    width: 30px;
    height: 30px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    font-size: 0.9rem;
    color: white;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
}

/* First place styling */
.podium-position.first {
    width: 120px;
    height: 120px;
    border: 3px solid #FFD700; /* Gold */
}

.position-number.first {
    background-color: #FFD700; /* Gold */
}

/* Second place styling */
.podium-position.second {
    width: 100px;
    height: 100px;
    border: 3px solid #C0C0C0; /* Silver */
}

.position-number.second {
    background-color: #C0C0C0; /* Silver */
}

/* Third place styling */
.podium-position.third {
    width: 90px;
    height: 90px;
    border: 3px solid #CD7F32; /* Bronze */
}

.position-number.third {
    background-color: #CD7F32; /* Bronze */
}

.contestant-name {
    font-weight: 600;
    font-size: 1rem;
    color: var(--text-color);
    margin-bottom: 0.3rem;
}

.contestant-votes {
    font-size: 0.9rem;
    color: var(--text-color-light);
    font-weight: 500;
}

/* Responsive adjustments */
@media (max-width: 768px) {
    .leaderboard {
        padding: 1.2rem;
        margin: 1.5rem auto;
        border-radius: 12px;
    }
    
    .leaderboard-title {
        font-size: 1.2rem;
    }
    
    .top-contestants {
        gap: 1rem;
    }
    
    .podium-position.first {
        width: 100px;
        height: 100px;
    }
    
    .podium-position.second {
        width: 85px;
        height: 85px;
    }
    
    .podium-position.third {
        width: 75px;
        height: 75px;
    }
    
    .position-number {
        width: 25px;
        height: 25px;
        font-size: 0.8rem;
    }
    
    .contestant-name {
        font-size: 0.9rem;
    }
    
    .contestant-votes {
        font-size: 0.8rem;
    }
}

@media (max-width: 480px) {
    .leaderboard {
        padding: 1rem;
        margin: 1rem auto;
        border-radius: 10px;
    }
    
    .leaderboard-header {
        margin-bottom: 1rem;
    }
    
    .leaderboard-title {
        font-size: 1.1rem;
    }
    
    .btn-outline {
        padding: 0.4rem 0.8rem;
        font-size: 0.8rem;
    }
    
    .top-contestants {
        gap: 0.7rem;
    }
    
    .podium-position.first {
        width: 80px;
        height: 80px;
        border-width: 2px;
    }
    
    .podium-position.second {
        width: 70px;
        height: 70px;
        border-width: 2px;
    }
    
    .podium-position.third {
        width: 60px;
        height: 60px;
        border-width: 2px;
    }
    
    .position-number {
        width: 22px;
        height: 22px;
        font-size: 0.7rem;
    }
    
    .contestant-name {
        font-size: 0.8rem;
        margin-bottom: 0.2rem;
    }
    
    .contestant-votes {
        font-size: 0.7rem;
    }
}

/* Ensure proper display on very small screens */
@media (max-width: 360px) {
    .top-contestants {
        flex-direction: column;
        align-items: center;
        gap: 1.5rem;
    }
    
    .top-contestants .contestant-podium:nth-child(1) {
        order: 2;
    }
    
    .top-contestants .contestant-podium:nth-child(2) {
        order: 1;
    }
    
    .top-contestants .contestant-podium:nth-child(3) {
        order: 3;
    }
    
    .podium-position.first {
        width: 100px;
        height: 100px;
    }
    
    .podium-position.second,
    .podium-position.third {
        width: 80px;
        height: 80px;
    }
}

/* Auth Modals */
.auth-modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 1000;
    opacity: 0;
    visibility: hidden;
    transition: all 0.3s ease;
}

.auth-modal.active {
    opacity: 1;
    visibility: visible;
}

.auth-modal-content {
    width: 90%;
    max-width: 450px;
    background-color: white;
    border-radius: 12px;
    overflow: hidden;
    box-shadow: 0 5px 25px rgba(0, 0, 0, 0.2);
    transform: translateY(-20px);
    transition: transform 0.3s ease;
}

.auth-modal.active .auth-modal-content {
    transform: translateY(0);
}

.auth-modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 15px 20px;
    border-bottom: 1px solid #eee;
}

.auth-modal-header h3 {
    margin: 0;
    font-size: 1.2rem;
    color: #333;
}

.auth-modal-close {
    background: transparent;
    border: none;
    color: #666;
    font-size: 1.2rem;
    cursor: pointer;
    width: 30px;
    height: 30px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    transition: all 0.3s ease;
}

.auth-modal-close:hover {
    background-color: #f5f5f5;
    color: #333;
}

.auth-modal-body {
    padding: 20px;
}

.form-group {
    margin-bottom: 15px;
}

.form-group label {
    display: block;
    margin-bottom: 5px;
    font-weight: 500;
    color: #555;
}

.form-group input {
    width: 100%;
    padding: 10px 12px;
    border: 1px solid #ddd;
    border-radius: 6px;
    font-size: 1rem;
    transition: border-color 0.3s;
}

.form-group input:focus {
    border-color: #4a6cf7;
    outline: none;
}

.password-input-group {
    position: relative;
    display: flex;
    align-items: center;
}

.password-input-group input {
    flex: 1;
    padding-right: 40px;
}

.toggle-password {
    position: absolute;
    right: 10px;
    background: transparent;
    border: none;
    color: #666;
    cursor: pointer;
}

.auth-btn {
    width: 100%;
    padding: 12px;
    background-color: #4a6cf7;
    color: white;
    border: none;
    border-radius: 6px;
    font-weight: 600;
    cursor: pointer;
    transition: background-color 0.3s;
}

.auth-btn:hover {
    background-color: #3a5bd9;
}

/* Password Strength Meter */
.password-strength {
    margin-bottom: 15px;
}

.strength-meter {
    height: 4px;
    background-color: #eee;
    border-radius: 2px;
    margin-bottom: 5px;
}

.strength-meter-fill {
    height: 100%;
    border-radius: 2px;
    transition: width 0.3s, background-color 0.3s;
    width: 0;
}
.strength-text {
    font-size: 0.8rem;
    color: #666;
}

/* Two-Factor Authentication Styles */
.two-factor-status {
    display: flex;
    align-items: center;
    padding: 15px;
    background-color: #f8f9fa;
    border-radius: 8px;
    margin-bottom: 20px;
}

.status-icon {
    font-size: 1.8rem;
    color: #4a6cf7;
    margin-right: 15px;
}

.status-text {
    flex: 1;
}

.status-text h4 {
    margin: 0 0 5px 0;
    font-size: 1rem;
}

.status-text p {
    margin: 0;
    font-size: 0.85rem;
    color: #666;
}

.status-toggle {
    margin-left: 15px;
}

/* Toggle Switch */
.switch {
    position: relative;
    display: inline-block;
    width: 50px;
    height: 24px;
}

.switch input {
    opacity: 0;
    width: 0;
    height: 0;
}

.slider {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: #ccc;
    transition: .4s;
}

.slider:before {
    position: absolute;
    content: "";
    height: 16px;
    width: 16px;
    left: 4px;
    bottom: 4px;
    background-color: white;
    transition: .4s;
}

input:checked + .slider {
    background-color: #4a6cf7;
}

input:focus + .slider {
    box-shadow: 0 0 1px #4a6cf7;
}

input:checked + .slider:before {
    transform: translateX(26px);
}

.slider.round {
    border-radius: 24px;
}

.slider.round:before {
    border-radius: 50%;
}

.two-factor-methods {
    margin-bottom: 20px;
}

.two-factor-methods h4 {
    margin-top: 0;
    margin-bottom: 15px;
    font-size: 1rem;
}

.method-option {
    margin-bottom: 10px;
}

.method-option input[type="radio"] {
    display: none;
}

.method-option label {
    display: flex;
    align-items: center;
    padding: 12px 15px;
    border: 1px solid #ddd;
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.3s;
}

.method-option input[type="radio"]:checked + label {
    border-color: #4a6cf7;
    background-color: rgba(74, 108, 247, 0.05);
}

.method-option label i {
    font-size: 1.2rem;
    color: #4a6cf7;
    margin-right: 12px;
}

.method-option label span {
    font-weight: 500;
}

.method-option label small {
    display: block;
    margin-top: 3px;
    color: #666;
    font-size: 0.8rem;
}

.verification-setup {
    background-color: #f8f9fa;
    padding: 15px;
    border-radius: 8px;
}

.verification-setup h4 {
    margin-top: 0;
    margin-bottom: 10px;
    font-size: 1rem;
}

.verification-setup p {
    margin-bottom: 15px;
    font-size: 0.9rem;
    color: #555;
}

.qr-container {
    background-color: white;
    padding: 15px;
    border-radius: 8px;
    display: inline-block;
    margin-bottom: 15px;
}

.secret-key {
    font-family: monospace;
    background-color: #eee;
    padding: 10px;
    border-radius: 4px;
    text-align: center;
    margin-bottom: 15px;
    font-size: 1rem;
    letter-spacing: 1px;
}

/* Verification Code Modal */
.verification-message {
    text-align: center;
    margin-bottom: 20px;
}

.verification-message i {
    font-size: 3rem;
    color: #4a6cf7;
    margin-bottom: 15px;
}

.verification-message p {
    margin: 0;
    color: #555;
}

.verification-message span {
    font-weight: 600;
}

.verification-code-container {
    display: flex;
    justify-content: space-between;
    margin-bottom: 20px;
}

.verification-input {
    width: 40px;
    height: 50px;
    text-align: center;
    font-size: 1.5rem;
    border: 1px solid #ddd;
    border-radius: 8px;
}

.verification-input:focus {
    border-color: #4a6cf7;
    outline: none;
}

.resend-code {
    text-align: center;
    margin-bottom: 20px;
    font-size: 0.9rem;
}

.resend-code span {
    color: #666;
}

.resend-code button {
    background: none;
    border: none;
    color: #4a6cf7;
    font-weight: 600;
    cursor: pointer;
    padding: 0;
    margin-left: 5px;
}

.resend-code button:disabled {
    color: #999;
    cursor: not-allowed;
}

.countdown {
    margin-top: 5px;
    color: #666;
}

.strength-segment.weak {
    background-color: #f44336; /* Red */
}

.strength-segment.medium {
    background-color: #f39c12; /* Orange */
}

.strength-segment.strong {
    background-color: #4caf50; /* Green */
}

/* Password Reset Modal */
.modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: rgba(0, 0, 0, 0.5);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 1000;
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.3s ease, visibility 0.3s ease;
}

.modal-overlay.active {
    opacity: 1;
    visibility: visible;
}

.modal-container {
    background-color: white;
    border-radius: 8px;
    width: 90%;
    max-width: 450px;
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2);
    transform: translateY(-20px);
    transition: transform 0.3s ease;
}

.modal-overlay.active .modal-container {
    transform: translateY(0);
}

.modal-header {
    padding: 16px 20px;
    border-bottom: 1px solid #eee;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.modal-header h3 {
    margin: 0;
    font-size: 18px;
    color: #333;
}

.modal-close {
    background: none;
    border: none;
    font-size: 24px;
    cursor: pointer;
    color: #999;
    padding: 0;
    line-height: 1;
}

.modal-close:hover {
    color: #333;
}

.modal-body {
    padding: 20px;
}

.modal-body p {
    margin-top: 0;
    margin-bottom: 20px;
    color: #666;
}

.form-actions {
    display: flex;
    justify-content: flex-end;
    gap: 12px;
    margin-top: 24px;
}

.cancel-btn {
    background-color: transparent;
    border: 1px solid #ddd;
    color: #666;
    padding: 10px 16px;
    border-radius: 4px;
    cursor: pointer;
    font-weight: 500;
    transition: background-color 0.2s;
}

.cancel-btn:hover {
    background-color: #f5f5f5;
}

.submit-btn {
    background-color: #4285F4;
    border: none;
    color: white;
    padding: 10px 16px;
    border-radius: 4px;
    cursor: pointer;
    font-weight: 500;
    transition: background-color 0.2s;
}

.submit-btn:hover {
    background-color: #3367D6;
}

.submit-btn:disabled {
    background-color: #A4C2F4;
    cursor: not-allowed;
}

.form-error {
    color: #F44336;
    font-size: 14px;
    margin-top: 8px;
    margin-bottom: 8px;
}

.loading-spinner {
    display: inline-block;
    width: 12px;
    height: 12px;
    border: 2px solid rgba(255, 255, 255, 0.3);
    border-radius: 50%;
    border-top-color: white;
    animation: spin 1s linear infinite;
    margin-left: 8px;
    vertical-align: middle;
}

@keyframes spin {
    to {
        transform: rotate(360deg);
    }
}

/* Sponsors and Partners Banners */
.sponsors-banner,
.partners-banner {
    padding: 40px 0;
    background-color: #f8f9fa;
    overflow: hidden;
    position: relative;
}

.sponsors-banner {
    background-color: #f8f9fa;
}

.partners-banner {
    background-color: #ffffff;
}

.sponsors-title,
.partners-title {
    text-align: center;
    font-size: 28px;
    font-weight: 600;
    margin-bottom: 30px;
    color: #333;
    position: relative;
}

.sponsors-title:after,
.partners-title:after {
    content: '';
    display: block;
    width: 60px;
    height: 3px;
    background: linear-gradient(90deg, #4285F4, #34A853);
    margin: 12px auto 0;
    border-radius: 2px;
}

.auto-scroll-container {
    width: 100%;
    overflow: hidden;
    position: relative;
}

.auto-scroll-container:before,
.auto-scroll-container:after {
    content: '';
    position: absolute;
    top: 0;
    width: 100px;
    height: 100%;
    z-index: 2;
    pointer-events: none;
}

.auto-scroll-container:before {
    left: 0;
    background: linear-gradient(90deg, rgba(248, 249, 250, 1) 0%, rgba(248, 249, 250, 0) 100%);
}

.auto-scroll-container:after {
    right: 0;
    background: linear-gradient(90deg, rgba(248, 249, 250, 0) 0%, rgba(248, 249, 250, 1) 100%);
}

.partners-banner .auto-scroll-container:before {
    background: linear-gradient(90deg, rgba(255, 255, 255, 1) 0%, rgba(255, 255, 255, 0) 100%);
}

.partners-banner .auto-scroll-container:after {
    background: linear-gradient(90deg, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 1) 100%);
}

.auto-scroll {
    display: flex;
    animation: scrollX 30s linear infinite;
    width: max-content;
    padding: 10px 0;
}

.auto-scroll:hover {
    animation-play-state: paused;
}

.sponsor-item,
.partner-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    margin: 0 30px;
    width: 120px;
    transition: transform 0.3s ease;
}

.sponsor-item:hover,
.partner-item:hover {
    transform: translateY(-5px);
}

.sponsor-logo,
.partner-logo {
    width: 80px;
    height: 80px;
    object-fit: contain;
    border-radius: 8px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
    background-color: white;
    padding: 10px;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.sponsor-logo:hover,
.partner-logo:hover {
    transform: scale(1.05);
    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1);
}

.sponsor-name,
.partner-name {
    margin-top: 12px;
    font-size: 14px;
    font-weight: 500;
    color: #555;
    text-align: center;
}

/* Animation keyframes */
@keyframes scrollX {
    0% {
        transform: translateX(0);
    }
    100% {
        transform: translateX(calc(-120px * 8 - 60px * 8)); /* Width of items + margins */
    }
}

/* Add a duplicate set of items for seamless looping */
.auto-scroll {
    display: flex;
}

/* Clone the items for seamless looping */
.auto-scroll > div {
    animation: fadeInOut 30s linear infinite;
}

@keyframes fadeInOut {
    0%, 100% {
        opacity: 0.7;
    }
    50% {
        opacity: 1;
    }
}

/* Responsive adjustments */
@media (max-width: 768px) {
    .sponsors-title,
    .partners-title {
        font-size: 24px;
    }
    
    .sponsor-item,
    .partner-item {
        margin: 0 20px;
        width: 100px;
    }
    
    .sponsor-logo,
    .partner-logo {
        width: 70px;
        height: 70px;
    }
    
    .sponsor-name,
    .partner-name {
        font-size: 12px;
    }
    
    @keyframes scrollX {
        0% {
            transform: translateX(0);
        }
        100% {
            transform: translateX(calc(-100px * 8 - 40px * 8)); /* Adjusted for mobile */
        }
    }
}

/* Footer Styles */
.footer {
    background-color: #1a1a1a;
    color: #fff;
    padding: 40px 20px;
    text-align: center;
}

.footer-logo {
    font-size: 28px;
    font-weight: 700;
    margin-bottom: 20px;
    color: #fff;
    letter-spacing: 1px;
}

.footer-links {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 20px;
    margin-bottom: 30px;
}

.footer-link {
    color: #ccc;
    text-decoration: none;
    font-size: 14px;
    transition: color 0.3s ease;
    position: relative;
}

.footer-link:after {
    content: '';
    position: absolute;
    width: 0;
    height: 2px;
    bottom: -4px;
    left: 0;
    background-color: #4285F4;
    transition: width 0.3s ease;
}

.footer-link:hover {
    color: #fff;
}

.footer-link:hover:after {
    width: 100%;
}

.footer-social {
    display: flex;
    justify-content: center;
    gap: 20px;
    margin-bottom: 30px;
}

.social-link {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background-color: #333;
    color: #fff;
    text-decoration: none;
    transition: all 0.3s ease;
}

.social-link:hover {
    background-color: #4285F4;
    transform: translateY(-3px);
}

.footer-copyright {
    font-size: 14px;
    color: #888;
}

/* Modal Styles */
.modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: rgba(0, 0, 0, 0.7);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 1000;
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.3s ease, visibility 0.3s ease;
}

.modal-overlay.active {
    opacity: 1;
    visibility: visible;
}

.modal-content {
    background-color: #fff;
    border-radius: 8px;
    max-width: 600px;
    width: 90%;
    max-height: 80vh;
    overflow-y: auto;
    padding: 30px;
    position: relative;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
    transform: translateY(20px);
    opacity: 0;
    transition: transform 0.4s ease, opacity 0.4s ease;
}

.modal-overlay.active .modal-content {
    transform: translateY(0);
    opacity: 1;
}

.modal-close {
    position: absolute;
    top: 15px;
    right: 20px;
    font-size: 28px;
    color: #999;
    cursor: pointer;
    transition: color 0.2s ease;
    background: none;
    border: none;
    padding: 0;
    line-height: 1;
}

.modal-close:hover {
    color: #333;
}

#modal-text {
    color: #333;
}

#modal-text h2 {
    margin-top: 0;
    color: #1a1a1a;
    font-size: 24px;
    margin-bottom: 20px;
    padding-bottom: 10px;
    border-bottom: 2px solid #f0f0f0;
}

#modal-text p {
    line-height: 1.6;
    margin-bottom: 15px;
}

#modal-text ul {
    padding-left: 20px;
    margin-bottom: 15px;
}

#modal-text li {
    margin-bottom: 8px;
}

/* Scrollbar styling for modal */
.modal-content::-webkit-scrollbar {
    width: 8px;
}

.modal-content::-webkit-scrollbar-track {
    background: #f1f1f1;
    border-radius: 4px;
}

.modal-content::-webkit-scrollbar-thumb {
    background: #ccc;
    border-radius: 4px;
}

.modal-content::-webkit-scrollbar-thumb:hover {
    background: #999;
}

/* Animation for modal content */
@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.modal-content.animate {
    animation: fadeInUp 0.4s ease forwards;
}

/* Responsive adjustments */
@media (max-width: 768px) {
    .footer-links {
        flex-direction: column;
        gap: 15px;
    }
    
    .footer-social {
        gap: 15px;
    }
    
    .social-link {
        width: 36px;
        height: 36px;
    }
    
    .modal-content {
        padding: 20px;
    }
}

/* Chat Support System Styles */
:root {
  --primary-color: #4285F4;
  --secondary-color: #34A853;
  --danger-color: #EA4335;
  --warning-color: #FBBC05;
  --light-color: #f8f9fa;
  --dark-color: #343a40;
  --gray-color: #6c757d;
  --border-color: #dee2e6;
  --shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  --transition: all 0.3s ease;
}

/* Chat Support Button */
.chat-support-container {
  position: fixed;
  bottom: 30px;
  right: 30px;
  z-index: 9999;
}

.chat-support-btn {
  background-color: var(--primary-color);
  color: white;
  border: none;
  border-radius: 50px;
  padding: 12px 24px;
  font-size: 16px;
  font-weight: 500;
  display: flex;
  align-items: center;
  gap: 10px;
  cursor: pointer;
  box-shadow: var(--shadow);
  transition: var(--transition);
}

.chat-support-btn:hover {
  background-color: #3367D6;
  transform: translateY(-2px);
  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
}

.chat-support-btn i {
  font-size: 20px;
}

/* Chat Request Modal */
.chat-modal {
  display: none;
  position: fixed;
  bottom: 100px;
  right: 30px;
  z-index: 9999;
  width: 350px;
  background-color: white;
  border-radius: 10px;
  box-shadow: 0 5px 25px rgba(0, 0, 0, 0.2);
  overflow: hidden;
  animation: slideUp 0.3s ease;
}

@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.chat-modal-content {
  padding: 20px;
}

.chat-modal-close {
  position: absolute;
  top: 15px;
  right: 15px;
  font-size: 24px;
  color: var(--gray-color);
  cursor: pointer;
  transition: var(--transition);
}

.chat-modal-close:hover {
  color: var(--dark-color);
}

.chat-modal h3 {
  margin-top: 0;
  margin-bottom: 15px;
  color: var(--dark-color);
  font-size: 18px;
}

.form-group {
  margin-bottom: 15px;
}

.form-group label {
  display: block;
  margin-bottom: 5px;
  font-size: 14px;
  color: var(--dark-color);
}

.form-group input,
.form-group select,
.form-group textarea {
  width: 100%;
  padding: 10px;
  border: 1px solid var(--border-color);
  border-radius: 4px;
  font-size: 14px;
  transition: var(--transition);
}

.form-group input:focus,
.form-group select:focus,
.form-group textarea:focus {
  border-color: var(--primary-color);
  outline: none;
  box-shadow: 0 0 0 3px rgba(66, 133, 244, 0.1);
}

.chat-request-btn {
  background-color: var(--primary-color);
  color: white;
  border: none;
  border-radius: 4px;
  padding: 10px 15px;
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  transition: var(--transition);
  width: 100%;
}

.chat-request-btn:hover {
  background-color: #3367D6;
}

.chat-request-status {
  margin-top: 15px;
  padding: 10px;
  border-radius: 4px;
  font-size: 14px;
  text-align: center;
  display: none;
}

.status-success {
  background-color: rgba(52, 168, 83, 0.1);
  color: var(--secondary-color);
  border: 1px solid rgba(52, 168, 83, 0.2);
}

.status-error {
  background-color: rgba(234, 67, 53, 0.1);
  color: var(--danger-color);
  border: 1px solid rgba(234, 67, 53, 0.2);
}

.status-warning {
  background-color: rgba(251, 188, 5, 0.1);
  color: var(--warning-color);
  border: 1px solid rgba(251, 188, 5, 0.2);
}

#chat-availability-message {
  margin-bottom: 15px;
  padding: 10px;
  border-radius: 4px;
  font-size: 14px;
  background-color: rgba(251, 188, 5, 0.1);
  color: #d39e00;
  border: 1px solid rgba(251, 188, 5, 0.2);
}

/* Live Chat Room */
.chat-room {
  display: none;
  position: fixed;
  bottom: 100px;
  right: 30px;
  width: 350px;
  height: 450px;
  background-color: white;
  border-radius: 10px;
  box-shadow: 0 5px 25px rgba(0, 0, 0, 0.2);
  overflow: hidden;
  display: flex;
  flex-direction: column;
  z-index: 9999;
  animation: slideUp 0.3s ease;
}

.chat-header {
  background-color: var(--primary-color);
  color: white;
  padding: 15px;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.chat-title {
  display: flex;
  flex-direction: column;
}

#chat-with {
  font-weight: 500;
  font-size: 16px;
}

.status-online {
  font-size: 12px;
  color: #34A853;
  display: flex;
  align-items: center;
  gap: 5px;
}

.status-online:before {
  content: '';
  display: inline-block;
  width: 8px;
  height: 8px;
  background-color: #34A853;
  border-radius: 50%;
}

.chat-actions {
  display: flex;
  gap: 10px;
}

.chat-action-btn {
  background: none;
  border: none;
  color: white;
  cursor: pointer;
  font-size: 16px;
  opacity: 0.8;
  transition: var(--transition);
}

.chat-action-btn:hover {
  opacity: 1;
}

.chat-messages {
  flex: 1;
  padding: 15px;
  overflow-y: auto;
  background-color: #f5f7f9;
}

.message {
  margin-bottom: 15px;
  max-width: 80%;
  padding: 10px 15px;
  border-radius: 18px;
  position: relative;
  line-height: 1.5;
  font-size: 14px;
}

.message-user {
  background-color: var(--primary-color);
  color: white;
  margin-left: auto;
  border-bottom-right-radius: 4px;
}
.message-support {
  background-color: white;
  color: var(--dark-color);
  margin-right: auto;
  border-bottom-left-radius: 4px;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
}

.message-time {
  font-size: 10px;
  color: rgba(255, 255, 255, 0.7);
  margin-top: 5px;
  text-align: right;
}

.message-support .message-time {
  color: var(--gray-color);
}

.message-image {
  max-width: 100%;
  border-radius: 8px;
  margin-top: 5px;
  cursor: pointer;
  transition: var(--transition);
}

.message-image:hover {
  opacity: 0.9;
}

.message-voice {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-top: 5px;
}

.voice-play-btn {
  background: none;
  border: none;
  color: inherit;
  cursor: pointer;
  font-size: 16px;
}

.voice-waveform {
  flex: 1;
  height: 20px;
  background-color: rgba(255, 255, 255, 0.2);
  border-radius: 10px;
  overflow: hidden;
  position: relative;
}

.message-support .voice-waveform {
  background-color: rgba(0, 0, 0, 0.05);
}

.voice-duration {
  font-size: 12px;
  margin-left: 5px;
}

.chat-input-area {
  padding: 15px;
  background-color: white;
  border-top: 1px solid var(--border-color);
  display: flex;
  align-items: center;
  gap: 10px;
}

.chat-attachments {
  display: flex;
  gap: 10px;
}

.attachment-btn {
  background: none;
  border: none;
  color: var(--gray-color);
  cursor: pointer;
  font-size: 18px;
  transition: var(--transition);
}

.attachment-btn:hover {
  color: var(--primary-color);
}

#chat-input, #mod-chat-input {
  flex: 1;
  border: 1px solid var(--border-color);
  border-radius: 20px;
  padding: 10px 15px;
  font-size: 14px;
  resize: none;
  max-height: 100px;
  transition: var(--transition);
}

#chat-input:focus, #mod-chat-input:focus {
  outline: none;
  border-color: var(--primary-color);
}

.send-btn {
  background-color: var(--primary-color);
  color: white;
  border: none;
  border-radius: 50%;
  width: 36px;
  height: 36px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: var(--transition);
}

.send-btn:hover {
  background-color: #3367D6;
  transform: scale(1.05);
}

.send-btn i {
  font-size: 16px;
}

/* Moderator Dashboard Styles */
.moderator-dashboard {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: white;
  z-index: 10000;
  overflow: hidden;
}

.dashboard-header {
  background-color: var(--primary-color);
  color: white;
  padding: 15px 20px;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.dashboard-header h2 {
  margin: 0;
  font-size: 20px;
}

.dashboard-controls {
  display: flex;
  align-items: center;
  gap: 20px;
}

.dashboard-status {
  display: flex;
  align-items: center;
  gap: 10px;
}

.toggle-status-btn {
  background-color: white;
  color: var(--primary-color);
  border: none;
  border-radius: 4px;
  padding: 6px 12px;
  font-size: 14px;
  cursor: pointer;
  transition: var(--transition);
}

.toggle-status-btn:hover {
  background-color: rgba(255, 255, 255, 0.9);
}

.logout-btn {
  background-color: rgba(255, 255, 255, 0.2);
  color: white;
  border: none;
  border-radius: 4px;
  padding: 6px 12px;
  font-size: 14px;
  cursor: pointer;
  transition: var(--transition);
}

.logout-btn:hover {
  background-color: rgba(255, 255, 255, 0.3);
}

.dashboard-content {
  display: flex;
  height: calc(100% - 60px);
}

.dashboard-sidebar {
  width: 300px;
  background-color: #f5f7f9;
  border-right: 1px solid var(--border-color);
  overflow-y: auto;
  padding: 20px;
}

.access-code-container {
  margin-bottom: 20px;
  padding-bottom: 20px;
  border-bottom: 1px solid var(--border-color);
}

.access-code-container h3 {
  margin-top: 0;
  margin-bottom: 15px;
  font-size: 16px;
  color: var(--dark-color);
}

#access-code-form {
  display: flex;
  gap: 10px;
}

#access-code {
  flex: 1;
  padding: 8px 12px;
  border: 1px solid var(--border-color);
  border-radius: 4px;
  font-size: 14px;
}

.verify-btn {
  background-color: var(--primary-color);
  color: white;
  border: none;
  border-radius: 4px;
  padding: 8px 12px;
  font-size: 14px;
  cursor: pointer;
  transition: var(--transition);
}

.verify-btn:hover {
  background-color: #3367D6;
}

#access-status {
  margin-top: 10px;
  font-size: 14px;
}

.chat-requests-container {
  display: none;
}

.chat-requests-container.visible {
  display: block;
}

.chat-requests-container h3 {
  margin-top: 20px;
  margin-bottom: 10px;
  font-size: 16px;
  color: var(--dark-color);
}

.chat-requests, .active-chats, .chat-history {
  display: flex;
  flex-direction: column;
  gap: 10px;
  margin-bottom: 20px;
}

.chat-card {
  background-color: white;
  border-radius: 8px;
  padding: 15px;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
  cursor: pointer;
  transition: var(--transition);
}

.chat-card:hover {
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.15);
  transform: translateY(-2px);
}

.chat-card-header {
  display: flex;
  justify-content: space-between;
  margin-bottom: 10px;
}

.chat-card-name {
  font-weight: 500;
  color: var(--dark-color);
}

.chat-card-time {
  font-size: 12px;
  color: var(--gray-color);
}

.chat-card-issue {
  font-size: 12px;
  color: var(--primary-color);
  margin-bottom: 8px;
}

.chat-card-message {
  font-size: 13px;
  color: var(--gray-color);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.chat-card-actions {
  display: flex;
  justify-content: flex-end;
  gap: 10px;
  margin-top: 10px;
}

.chat-card-btn {
  background: none;
  border: none;
  font-size: 12px;
  cursor: pointer;
  padding: 5px 10px;
  border-radius: 4px;
  transition: var(--transition);
}

.accept-btn {
  background-color: rgba(52, 168, 83, 0.1);
  color: var(--secondary-color);
}

.accept-btn:hover {
  background-color: rgba(52, 168, 83, 0.2);
}

.decline-btn {
  background-color: rgba(234, 67, 53, 0.1);
  color: var(--danger-color);
}

.decline-btn:hover {
  background-color: rgba(234, 67, 53, 0.2);
}

.moderator-chat-container {
  flex: 1;
  display: none;
  position: relative;
}

.moderator-chat-container.visible {
  display: block;
}

.no-chat-selected {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 100%;
  color: var(--gray-color);
}

.no-chat-selected i {
  font-size: 48px;
  margin-bottom: 15px;
  opacity: 0.5;
}

.no-chat-selected p {
  font-size: 16px;
}

.moderator-chat-room {
  display: none;
  height: 100%;
  flex-direction: column;
}

.moderator-chat-room.visible {
  display: flex;
}

.chat-user-info {
  display: flex;
  flex-direction: column;
}

#user-name {
  font-weight: 500;
  font-size: 16px;
}

#user-email {
  font-size: 12px;
  opacity: 0.8;
}

.end-chat-btn {
  background-color: var(--danger-color);
  color: white;
  border: none;
  border-radius: 4px;
  padding: 6px 12px;
  font-size: 14px;
  cursor: pointer;
  transition: var(--transition);
}

.end-chat-btn:hover {
  background-color: #d33426;
}

/* Utility Classes */
.hidden {
  display: none !important;
}

.visible {
  display: block !important;
}

/* Responsive Adjustments */
@media (max-width: 768px) {
  .chat-support-container {
    bottom: 20px;
    right: 20px;
  }
  
  .chat-modal, .chat-room {
    width: 300px;
    right: 20px;
  }
  
  .moderator-dashboard {
    display: flex;
    flex-direction: column;
  }
  
  .dashboard-content {
    flex-direction: column;
    height: calc(100% - 60px);
  }
  
  .dashboard-sidebar {
    width: 100%;
    height: auto;
    max-height: 40%;
    border-right: none;
    border-bottom: 1px solid var(--border-color);
  }
  
  .moderator-chat-container {
    height: 60%;
  }
}

 /* Wallet Button Styles */
 .wallet-button {
    display: flex;
    align-items: center;
    gap: 10px;
    background-color: #3f51b5;
    color: white;
    border: none;
    border-radius: 8px;
    padding: 12px 20px;
    font-size: 16px;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s ease;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  }
  
  .wallet-button:hover {
    background-color: #303f9f;
    transform: translateY(-2px);
    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
  }
  
  .wallet-button i {
    font-size: 18px;
  }
  
  /* Hide the wallet container by default */
  .wallet-container {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: #f5f7fa;
    z-index: 1000;
    overflow-y: auto;
    animation: slideIn 0.3s ease;
  }
  
  @keyframes slideIn {
    from {
      transform: translateY(20px);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }
  
  /* Show wallet container when active */
  .wallet-container.active {
    display: block;
  }
  
  /* Back button functionality */
  .back-button {
    cursor: pointer;
  }

/* Header Styles */
.wallet-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 1rem;
  background-color: var(--primary-color);
  color: var(--white);
  position: sticky;
  top: 0;
  z-index: 10;
}

.wallet-header h1 {
  font-size: 1.25rem;
  font-weight: 600;
}

.back-button, .settings-button {
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  border-radius: 50%;
  transition: background-color 0.3s;
}

.back-button:hover, .settings-button:hover {
  background-color: rgba(255, 255, 255, 0.1);
}

/* Balance Section Styles */
.balance-section {
  padding: 1rem;
}

.balance-card {
  background-color: var(--primary-color);
  color: var(--white);
  border-radius: 12px;
  padding: 1.5rem;
  box-shadow: var(--box-shadow);
  margin-bottom: 1.5rem;
}

.balance-info {
  margin-bottom: 1.5rem;
}

.balance-info h2 {
  font-size: 1rem;
  font-weight: 500;
  margin-bottom: 0.5rem;
  opacity: 0.9;
}

.balance-amount {
  display: flex;
  align-items: center;
  font-size: 2rem;
  font-weight: 700;
  margin-bottom: 0.5rem;
}

.currency {
  font-size: 1.5rem;
  margin-right: 0.25rem;
}

.toggle-visibility {
  background: none;
  border: none;
  color: var(--white);
  opacity: 0.8;
  cursor: pointer;
  margin-left: 0.5rem;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0.25rem;
}

.toggle-visibility:hover {
  opacity: 1;
}

.coin-balance {
  display: flex;
  align-items: center;
  font-size: 0.9rem;
  opacity: 0.9;
}

.coin-icon {
  width: 20px;
  height: 20px;
  margin-right: 0.5rem;
}

.balance-actions {
  display: flex;
  justify-content: space-between;
}

.action-button {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  background-color: rgba(255, 255, 255, 0.15);
  border: none;
  border-radius: 8px;
  color: var(--white);
  padding: 0.75rem;
  cursor: pointer;
  width: 30%;
  transition: background-color 0.3s;
}

.action-button:hover {
  background-color: rgba(255, 255, 255, 0.25);
}

.action-button i {
  font-size: 1.25rem;
  margin-bottom: 0.5rem;
}

/* Quick Actions Styles */
.quick-actions {
  padding: 1rem;
  background-color: var(--white);
  border-radius: 12px;
  margin: 0 1rem 1.5rem;
  box-shadow: var(--box-shadow);
}

.quick-actions h3 {
  font-size: 1rem;
  font-weight: 600;
  margin-bottom: 1rem;
  color: var(--text-color);
}

.actions-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 1rem;
}

.action-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  cursor: pointer;
}

.action-icon {
  width: 50px;
  height: 50px;
  border-radius: 50%;
  background-color: rgba(108, 92, 231, 0.1);
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 0.5rem;
  color: var(--primary-color);
  transition: transform 0.3s;
}

.action-item:hover .action-icon {
  transform: scale(1.1);
}

.action-item span {
  font-size: 0.8rem;
  color: var(--light-text);
  text-align: center;
}

/* Transaction History Styles */
.transaction-history {
  padding: 1rem;
  background-color: var(--white);
  border-radius: 12px 12px 0 0;
  margin: 0 1rem;
  box-shadow: 0 -5px 20px rgba(0, 0, 0, 0.03);
  min-height: 300px;
}

.section-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 1rem;
}

.section-header h3 {
  font-size: 1rem;
  font-weight: 600;
  color: var(--text-color);
}

.view-all-btn {
  background: none;
  border: none;
  color: var(--primary-color);
  font-size: 0.9rem;
  cursor: pointer;
}

.transaction-list {
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
}

.transaction-item {
  display: flex;
  align-items: center;
  padding: 0.75rem;
  border-radius: 8px;
  background-color: var(--background-color);
  cursor: pointer;
  transition: background-color 0.3s;
}

.transaction-item:hover {
  background-color: rgba(0, 0, 0, 0.03);
}

.transaction-icon {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-right: 0.75rem;
  flex-shrink: 0;
}

.transaction-icon.deposit {
  background-color: rgba(46, 204, 113, 0.1);
  color: var(--success-color);
}

.transaction-icon.withdraw {
  background-color: rgba(231, 76, 60, 0.1);
  color: var(--error-color);
}

.transaction-icon.transfer {
  background-color: rgba(108, 92, 231, 0.1);
  color: var(--primary-color);
}

.transaction-icon.purchase {
  background-color: rgba(253, 121, 168, 0.1);
  color: var(--secondary-color);
}

.transaction-details {
  flex-grow: 1;
}

.transaction-title {
  font-weight: 500;
  color: var(--text-color);
  margin-bottom: 0.25rem;
}

.transaction-date {
  font-size: 0.8rem;
  color: var(--light-text);
}

.transaction-amount {
  font-weight: 600;
  text-align: right;
}

.transaction-amount.credit {
  color: var(--success-color);
}

.transaction-amount.debit {
  color: var(--error-color);
}

.empty-state {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 2rem;
  color: var(--light-text);
}

.empty-state i {
  font-size: 3rem;
  margin-bottom: 1rem;
  opacity: 0.5;
}

/* Modal Styles */
.modal {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.5);
  z-index: 100;
  overflow-y: auto;
}

.modal-content {
  background-color: var(--white);
  border-radius: 12px;
  width: 90%;
  max-width: 500px;
  margin: 2rem auto;
  box-shadow: 0 4px 24px rgba(0, 0, 0, 0.2);
  animation: modalFadeIn 0.3s ease;
}

@keyframes modalFadeIn {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.modal-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 1rem 1.5rem;
  border-bottom: 1px solid var(--border-color);
}

.modal-header h2 {
  font-size: 1.25rem;
  font-weight: 600;
  color: var(--text-color);
}

.close-modal {
  background: none;
  border: none;
  font-size: 1.5rem;
  color: var(--light-text);
  cursor: pointer;
  line-height: 1;
}

.modal-body {
  padding: 1.5rem;
}

.modal-body p {
  margin-bottom: 1.5rem;
  color: var(--light-text);
}

/* PIN Input Styles */
.pin-container, .otp-container {
  display: flex;
  justify-content: space-between;
  margin: 1.5rem 0;
}

.pin-input, .pin-confirm-input, .otp-input, .current-pin-input, .new-pin-input, 
.confirm-new-pin-input, .withdraw-pin-input, .buy-pin-input, .transfer-pin-input {
  width: 45px;
  height: 55px;
  border: 2px solid var(--border-color);
  border-radius: 8px;
  text-align: center;
  font-size: 1.25rem;
  font-weight: 600;
  color: var(--text-color);
  background-color: var(--background-color);
  transition: border-color 0.3s;
}

.pin-input:focus, .pin-confirm-input:focus, .otp-input:focus, .current-pin-input:focus,
.new-pin-input:focus, .confirm-new-pin-input:focus, .withdraw-pin-input:focus,
.buy-pin-input:focus, .transfer-pin-input:focus {
  border-color: var(--primary-color);
  outline: none;
}

.pin-confirm-container, .new-pin-section, .confirm-pin-section {
  margin-top: 1.5rem;
}

/* Button Styles */
.primary-button {
  width: 100%;
  padding: 1rem;
  background-color: var(--primary-color);
  color: var(--white);
  border: none;
  border-radius: 8px;
  font-size: 1rem;
  font-weight: 500;
  cursor: pointer;
  transition: background-color 0.3s;
}

.primary-button:hover {
  background-color: var(--primary-dark);
}

.primary-button:disabled {
  background-color: #b2b2b2;
  cursor: not-allowed;
}

.secondary-button {
  padding: 0.75rem 1rem;
  background-color: transparent;
  color: var(--primary-color);
  border: 1px solid var(--primary-color);
  border-radius: 8px;
  font-size: 0.9rem;
  font-weight: 500;
  cursor: pointer;
  transition: background-color 0.3s;
}

.secondary-button:hover {
  background-color: rgba(108, 92, 231, 0.05);
}

/* OTP Styles */
.resend-otp {
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 1.5rem;
  font-size: 0.9rem;
}

#resend-otp-btn {
  background: none;
  border: none;
  color: var(--primary-color);
  font-weight: 500;
  cursor: pointer;
  margin: 0 0.5rem;
}

#otp-timer {
  color: var(--light-text);
}

/* Deposit Modal Styles */
.amount-input-container {
  position: relative;
  margin-bottom: 1.5rem;
}

.currency-symbol {
  position: absolute;
  left: 1rem;
  top: 50%;
  transform: translateY(-50%);
  font-size: 1.25rem;
  color: var(--light-text);
}

#deposit-amount, #withdraw-amount {
  width: 100%;
  padding: 1rem 1rem 1rem 2.5rem;
  font-size: 1.5rem;
  border: 2px solid var(--border-color);
  border-radius: 8px;
  color: var(--text-color);
  transition: border-color 0.3s;
}

#deposit-amount:focus, #withdraw-amount:focus {
  border-color: var(--primary-color);
  outline: none;
}

.payment-methods h4, .bank-account-section h4, .pin-verification h4 {
  margin-bottom: 1rem;
  font-size: 1rem;
  font-weight: 600;
  color: var(--text-color);
}

.payment-options {
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
  margin-bottom: 1.5rem;
}

.payment-option {
  display: flex;
  align-items: center;
}

.payment-option input[type="radio"] {
  display: none;
}

.payment-option label {
  display: flex;
  align-items: center;
  padding: 0.75rem;
  border: 2px solid var(--border-color);
  border-radius: 8px;
  width: 100%;
  cursor: pointer;
  transition: border-color 0.3s;
}

.payment-option input[type="radio"]:checked + label {
  border-color: var(--primary-color);
  background-color: rgba(108, 92, 231, 0.05);
}

.payment-option label i {
  margin-right: 0.75rem;
  font-size: 1.25rem;
  color: var(--primary-color);
}

/* Bank Account Styles */
.bank-accounts {
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
  margin-bottom: 1.5rem;
}

.bank-account {
  display: flex;
  align-items: center;
  padding: 0.75rem;
  border: 2px solid var(--border-color);
  border-radius: 8px;
  cursor: pointer;
  transition: border-color 0.3s;
}

.bank-account.selected {
  border-color: var(--primary-color);
  background-color: rgba(108, 92, 231, 0.05);
}

.bank-logo {
  width: 40px;
  height: 40px;
  border-radius: 8px;
  margin-right: 0.75rem;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: var(--background-color);
}

.bank-details {
  flex-grow: 1;
}

.bank-name {
  font-weight: 500;
  color: var(--text-color);
}

.account-number {
  font-size: 0.8rem;
  color: var(--light-text);
}

.add-bank-account {
  display: flex;
  align-items: center;
  padding: 0.75rem;
  border: 2px dashed var(--border-color);
  border-radius: 8px;
  cursor: pointer;
  transition: border-color 0.3s;
  color: var(--primary-color);
}

.add-bank-account:hover {
  border-color: var(--primary-color);
  background-color: rgba(108, 92, 231, 0.05);
}

.add-bank-account i {
  margin-right: 0.75rem;
  font-size: 1.25rem;
}

/* Form Styles */
.form-group {
  margin-bottom: 1.5rem;
}

.form-group label {
  display: block;
  margin-bottom: 0.5rem;
  font-weight: 500;
  color: var(--text-color);
}

.form-group input, .form-group select, .form-group textarea {
  width: 100%;
  padding: 0.75rem;
  border: 2px solid var(--border-color);
  border-radius: 8px;
  font-size: 1rem;
  color: var(--text-color);
  transition: border-color 0.3s;
}

.form-group input:focus, .form-group select:focus, .form-group textarea:focus {
  border-color: var(--primary-color);
  outline: none;
}

.form-group textarea {
  resize: vertical;
  min-height: 100px;
}


.payment-summary {
  background-color: var(--background-color);
  padding: 1rem;
  border-radius: 8px;
  margin-bottom: 1.5rem;
}

.summary-item {
  display: flex;
  justify-content: space-between;
  margin-bottom: 0.5rem;
  font-size: 0.9rem;
  color: var(--light-text);
}

.summary-item.total {
  margin-top: 0.5rem;
  padding-top: 0.5rem;
  border-top: 1px solid var(--border-color);
  font-weight: 600;
  color: var(--text-color);
  font-size: 1rem;
}



/* Transaction Details Modal Styles */
.transaction-status {
  display: flex;
  flex-direction: column;
  align-items: center;
  margin-bottom: 1.5rem;
}

.status-icon {
  width: 60px;
  height: 60px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 0.75rem;
  font-size: 2rem;
}

.status-icon.success {
  background-color: rgba(46, 204, 113, 0.1);
  color: var(--success-color);
}

.status-icon.failed {
  background-color: rgba(231, 76, 60, 0.1);
  color: var(--error-color);
}

.status-icon.pending {
  background-color: rgba(241, 196, 15, 0.1);
  color: #f1c40f;
}

.status-text {
  font-weight: 600;
  font-size: 1.25rem;
  color: var(--text-color);
}

.transaction-details {
  background-color: var(--background-color);
  padding: 1rem;
  border-radius: 8px;
  margin-bottom: 1.5rem;
}

.detail-item {
  display: flex;
  justify-content: space-between;
  padding: 0.75rem 0;
  border-bottom: 1px solid var(--border-color);
}

.detail-item:last-child {
  border-bottom: none;
}

.detail-label {
  color: var(--light-text);
  font-size: 0.9rem;
}

.detail-value {
  font-weight: 500;
  color: var(--text-color);
  text-align: right;
}

/* Toast Styles */
.toast {
  position: fixed;
  bottom: 2rem;
  left: 50%;
  transform: translateX(-50%);
  background-color: var(--white);
  color: var(--text-color);
  padding: 1rem;
  border-radius: 8px;
  box-shadow: var(--box-shadow);
  display: flex;
  align-items: center;
  z-index: 1000;
  min-width: 300px;
  max-width: 90%;
  opacity: 0;
  transition: opacity 0.3s, transform 0.3s;
  pointer-events: none;
}

.toast.show {
  opacity: 1;
  transform: translate(-50%, -20px);
}

.toast-icon {
  margin-right: 0.75rem;
  font-size: 1.25rem;
}

.toast-icon.success {
  color: var(--success-color);
}

.toast-icon.error {
  color: var(--error-color);
}

.toast-message {
  flex-grow: 1;
}

/* Loading Overlay */
.loading-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.5);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  z-index: 1000;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.3s;
}

.loading-overlay.show {
  opacity: 1;
  pointer-events: all;
}

.spinner {
  width: 50px;
  height: 50px;
  border: 4px solid rgba(255, 255, 255, 0.3);
  border-radius: 50%;
  border-top-color: var(--white);
  animation: spin 1s linear infinite;
  margin-bottom: 1rem;
}

@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}

.loading-text {
  color: var(--white);
  font-size: 1rem;
}

/* Utility Classes */
.hidden {
  display: none !important;
}

/* Open Wallet Button */
.open-wallet-btn {
  position: fixed;
  bottom: 2rem;
  right: 2rem;
  width: 60px;
  height: 60px;
  border-radius: 50%;
  background-color: var(--primary-color);
  color: var(--white);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.5rem;
  box-shadow: var(--box-shadow);
  cursor: pointer;
  transition: transform 0.3s, background-color 0.3s;
  z-index: 90;
  border: none;
}

.open-wallet-btn:hover {
  background-color: var(--primary-dark);
  transform: scale(1.05);
}

.open-wallet-btn i {
  transition: transform 0.3s;
}

.open-wallet-btn:hover i {
  transform: rotate(15deg);
}

/* Responsive Styles */
@media (max-width: 768px) {
  .actions-grid {
    grid-template-columns: repeat(4, 1fr);
    gap: 0.75rem;
  }
  
  .action-icon {
    width: 45px;
    height: 45px;
    font-size: 1.1rem;
  }
  
  .action-item span {
    font-size: 0.75rem;
  }
  
  .package-options {
    grid-template-columns: 1fr;
  }
}

@media (max-width: 480px) {
  .actions-grid {
    grid-template-columns: repeat(4, 1fr);
    gap: 0.5rem;
  }
  
  .action-icon {
    width: 40px;
    height: 40px;
    font-size: 1rem;
  }
  
  .action-item span {
    font-size: 0.7rem;
  }
  
  .balance-amount {
    font-size: 1.75rem;
  }
  
  .pin-input, .pin-confirm-input, .otp-input, .current-pin-input, .new-pin-input, 
  .confirm-new-pin-input, .withdraw-pin-input, .buy-pin-input, .transfer-pin-input {
    width: 40px;
    height: 50px;
    font-size: 1.1rem;
  }
  
  .modal-content {
    width: 95%;
    margin: 1rem auto;
  }
}

.wallet-btn-special {
    display: flex;
    align-items: center;
    background-color: var(--primary-color);
    color: white;
    border: none;
    border-radius: 20px;
    padding: 0.4rem 0.8rem;
    font-size: 0.9rem;
    cursor: pointer;
    transition: all 0.3s ease;
    margin: 0 0.5rem;
}

.wallet-btn-special i {
    margin-right: 5px;
}

.wallet-btn-special:hover {
    background-color: var(--primary-dark);
    transform: translateY(-2px);
}

/* Buy Coins Styles */
.buy-step {
  transition: all 0.3s ease;
}

.hidden {
  display: none;
}

/* Coin Packages */
.coin-packages {
  margin-bottom: 1.5rem;
}

.package-options {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 0.75rem;
  margin-bottom: 1rem;
}

.package-option {
  display: flex;
}

.package-option input[type="radio"] {
  display: none;
}

.package-option label {
  display: flex;
  flex-direction: column;
  padding: 1rem;
  border: 2px solid var(--border-color);
  border-radius: 8px;
  width: 100%;
  cursor: pointer;
  transition: border-color 0.3s;
}

.package-option input[type="radio"]:checked + label {
  border-color: var(--primary-color);
  background-color: rgba(108, 92, 231, 0.05);
}

.package-details {
  display: flex;
  flex-direction: column;
  align-items: center;
}

.coin-amount {
  font-weight: 600;
  color: var(--text-color);
  margin-bottom: 0.5rem;
}

.package-price {
  color: var(--light-text);
  font-size: 0.9rem;
}

/* Custom Amount */
.custom-amount {
  margin-bottom: 1.5rem;
}

.custom-coin-input {
  position: relative;
}

#custom-coin-amount {
  width: 100%;
  padding: 0.75rem;
  border: 2px solid var(--border-color);
  border-radius: 8px;
  font-size: 1rem;
  color: var(--text-color);
  transition: border-color 0.3s;
}

#custom-coin-amount:focus {
  border-color: var(--primary-color);
  outline: none;
}

.estimated-price {
  margin-top: 0.5rem;
  font-size: 0.9rem;
  color: var(--light-text);
  text-align: right;
}

/* Conversion Rate */
.conversion-rate {
  font-size: 0.9rem;
  color: var(--light-text);
  margin: 0.5rem 0 1.5rem;
  text-align: center;
}

/* Merchant Account Details */
.merchant-account-details {
  background-color: var(--background-color);
  padding: 1rem;
  border-radius: 8px;
  margin: 1rem 0;
}

.bank-info, .account-info {
  display: flex;
  align-items: center;
  margin-bottom: 0.75rem;
}

.account-info:last-child {
  margin-bottom: 0;
}

.bank-label, .account-label {
  width: 120px;
  font-size: 0.9rem;
  color: var(--light-text);
}

.bank-value, .account-value {
  font-weight: 600;
  color: var(--text-color);
  flex-grow: 1;
}

.copy-btn {
  background: none;
  border: none;
  color: var(--primary-color);
  cursor: pointer;
  padding: 0.25rem;
  margin-left: 0.5rem;
}

.copy-btn:hover {
  color: var(--primary-dark);
}

/* Important Notice */
.important-notice {
  display: flex;
  align-items: flex-start;
  background-color: rgba(241, 196, 15, 0.1);
  padding: 0.75rem;
  border-radius: 8px;
  margin: 1rem 0;
}

.important-notice i {
  color: #f1c40f;
  margin-right: 0.75rem;
  margin-top: 0.25rem;
}

.important-notice p {
  margin: 0;
  font-size: 0.9rem;
  color: var(--text-color);
}

/* Verification Notice */
.verification-notice {
  background-color: rgba(108, 92, 231, 0.05);
  padding: 0.75rem;
  border-radius: 8px;
  margin: 1rem 0;
}

.verification-notice p {
  margin: 0;
  font-size: 0.9rem;
  color: var(--text-color);
}

/* Success Message */
.success-message {
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  padding: 1rem 0;
}

.status-icon {
  width: 60px;
  height: 60px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 1rem;
  font-size: 1.5rem;
}

.status-icon.pending {
  background-color: rgba(241, 196, 15, 0.1);
  color: #f1c40f;
}

.verification-info {
  background-color: var(--background-color);
  padding: 0.75rem;
  border-radius: 8px;
  margin: 1rem 0;
  text-align: left;
}

.verification-info p {
  margin: 0;
  font-size: 0.9rem;
  color: var(--text-color);
}



  /* Withdraw Modal Styles */
.withdraw-step {
  transition: all 0.3s ease;
}

.hidden {
  display: none;
}
/* Deposit Steps */
.deposit-step {
  transition: all 0.3s ease;
}

.hidden {
  display: none;
}

/* Conversion Rate */
.conversion-rate {
  font-size: 0.9rem;
  color: var(--light-text);
  margin: 0.5rem 0;
}

.talent-equivalent {
  background-color: var(--background-color);
  padding: 0.75rem;
  border-radius: 8px;
  margin: 1rem 0 1.5rem;
}

.talent-equivalent p {
  margin: 0;
  font-size: 0.9rem;
  color: var(--text-color);
}

#talent-amount {
  font-weight: 600;
  color: var(--primary-color);
}

/* Merchant Account Details */
.merchant-account-details {
  background-color: var(--background-color);
  padding: 1rem;
  border-radius: 8px;
  margin: 1rem 0;
}

.bank-info, .account-info {
  display: flex;
  align-items: center;
  margin-bottom: 0.75rem;
}

.account-info:last-child {
  margin-bottom: 0;
}

.bank-label, .account-label {
  width: 120px;
  font-size: 0.9rem;
  color: var(--light-text);
}

.bank-value, .account-value {
  font-weight: 600;
  color: var(--text-color);
  flex-grow: 1;
}

.copy-btn {
  background: none;
  border: none;
  color: var(--primary-color);
  cursor: pointer;
  padding: 0.25rem;
  margin-left: 0.5rem;
}

.copy-btn:hover {
  color: var(--primary-dark);
}

/* Important Notice */
.important-notice {
  display: flex;
  align-items: flex-start;
  background-color: rgba(241, 196, 15, 0.1);
  padding: 0.75rem;
  border-radius: 8px;
  margin: 1rem 0;
}

.important-notice i {
  color: #f1c40f;
  margin-right: 0.75rem;
  margin-top: 0.25rem;
}

.important-notice p {
  margin: 0;
  font-size: 0.9rem;
  color: var(--text-color);
}

/* Verification Notice */
.verification-notice {
  background-color: rgba(108, 92, 231, 0.05);
  padding: 0.75rem;
  border-radius: 8px;
  margin: 1rem 0;
}

.verification-notice p {
  margin: 0;
  font-size: 0.9rem;
  color: var(--text-color);
}

/* Success Message */
.success-message {
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  padding: 1rem 0;
}

.status-icon {
  width: 60px;
  height: 60px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 1rem;
  font-size: 1.5rem;
}

.status-icon.pending {
  background-color: rgba(241, 196, 15, 0.1);
  color: #f1c40f;
}

.verification-info {
  background-color: var(--background-color);
  padding: 0.75rem;
  border-radius: 8px;
  margin: 1rem 0;
  text-align: left;
}

.verification-info p {
  margin: 0;
  font-size: 0.9rem;
  color: var(--text-color);
}

/* Balance Breakdown */
.balance-breakdown {
  display: flex;
  justify-content: space-between;
  background-color: rgba(255, 255, 255, 0.1);
  border-radius: 8px;
  padding: 0.75rem;
  margin-bottom: 1.5rem;
}

.balance-item {
  display: flex;
  flex-direction: column;
}

.balance-label {
  font-size: 0.8rem;
  color: rgba(255, 255, 255, 0.8);
  margin-bottom: 0.25rem;
}

.balance-value {
  display: flex;
  align-items: center;
  font-weight: 600;
  color: white;
}

.coin-icon-small {
  width: 16px;
  height: 16px;
  margin-right: 0.25rem;
}

.pending-info-icon {
  margin-left: 0.25rem;
  font-size: 0.8rem;
  cursor: pointer;
  opacity: 0.8;
}

.pending-info-icon:hover {
  opacity: 1;
}

/* Available Balance Info */
.available-balance-info {
  display: flex;
  justify-content: space-between;
  align-items: center;
  background-color: var(--background-color);
  padding: 0.75rem 1rem;
  border-radius: 8px;
  margin-bottom: 1.5rem;
}

.available-amount {
  display: flex;
  align-items: center;
  font-weight: 600;
  color: var(--text-color);
}

.coin-icon-small {
  width: 16px;
  height: 16px;
  margin-right: 0.25rem;
}

/* Amount Input */
.amount-input-container {
  display: flex;
  align-items: center;
  border: 2px solid var(--border-color);
  border-radius: 8px;
  padding: 0.5rem 0.75rem;
  margin-bottom: 0.75rem;
}

.amount-input-container img {
  margin-right: 0.5rem;
}

#withdraw-amount {
  flex-grow: 1;
  border: none;
  font-size: 1.1rem;
  color: var(--text-color);
  background: transparent;
}

#withdraw-amount:focus {
  outline: none;
}

/* Naira Equivalent */
.naira-equivalent-withdraw {
  background-color: rgba(108, 92, 231, 0.05);
  padding: 0.75rem;
  border-radius: 8px;
  margin-bottom: 1rem;
}

.naira-equivalent-withdraw p {
  margin: 0;
  font-size: 0.9rem;
  color: var(--text-color);
  text-align: center;
}

#withdraw-naira-amount {
  font-weight: 600;
  color: var(--primary-color);
}

/* Conversion Rate */
.conversion-rate {
  font-size: 0.9rem;
  color: var(--light-text);
  margin: 0.5rem 0;
  text-align: center;
}

.min-withdraw-notice {
  font-size: 0.85rem;
  color: var(--light-text);
  margin-bottom: 1.5rem;
  text-align: center;
}

/* Bank Details Form */
.form-group {
  margin-bottom: 1.25rem;
}

.form-group label {
  display: block;
  margin-bottom: 0.5rem;
  font-size: 0.9rem;
  color: var(--text-color);
}

.bank-select, 
.form-group input {
  width: 100%;
  padding: 0.75rem;
  border: 2px solid var(--border-color);
  border-radius: 8px;
  font-size: 1rem;
  color: var(--text-color);
  background-color: var(--input-bg);
  transition: border-color 0.3s;
}

.bank-select:focus, 
.form-group input:focus {
  border-color: var(--primary-color);
  outline: none;
}

/* Withdrawal Summary */
.withdrawal-summary {
  background-color: var(--background-color);
  padding: 1rem;
  border-radius: 8px;
  margin: 1.5rem 0;
}

.summary-item {
  display: flex;
  justify-content: space-between;
  margin-bottom: 0.5rem;
}

.summary-item:last-child {
  margin-bottom: 0;
  padding-top: 0.5rem;
  border-top: 1px solid var(--border-color);
}

.summary-label {
  color: var(--light-text);
  font-size: 0.9rem;
}

.summary-value {
  font-weight: 600;
  color: var(--text-color);
}

/* Processing Notice */
.processing-notice {
  display: flex;
  align-items: flex-start;
  background-color: rgba(108, 92, 231, 0.05);
  padding: 0.75rem;
  border-radius: 8px;
  margin: 1rem 0 1.5rem;
}

.processing-notice i {
  color: var(--primary-color);
  margin-right: 0.75rem;
  margin-top: 0.25rem;
}

.processing-notice p {
  margin: 0;
  font-size: 0.9rem;
  color: var(--text-color);
}

/* Success Message */
.success-message {
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  padding: 1rem 0;
}

.status-icon {
  width: 60px;
  height: 60px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 1rem;
  font-size: 1.5rem;
}

.status-icon.pending {
  background-color: rgba(241, 196, 15, 0.1);
  color: #f1c40f;
}

.verification-info {
  background-color: var(--background-color);
  padding: 0.75rem;
  border-radius: 8px;
  margin: 1rem 0;
  text-align: left;
}

.verification-info p {
  margin: 0 0 0.75rem;
  font-size: 0.9rem;
  color: var(--text-color);
}

/* Bank Details Summary */
.bank-details-summary {
  background-color: rgba(255, 255, 255, 0.5);
  padding: 0.75rem;
  border-radius: 6px;
}

.bank-detail-item {
  display: flex;
  margin-bottom: 0.5rem;
}

.bank-detail-item:last-child {
  margin-bottom: 0;
}

.bank-detail-label {
  width: 70px;
  font-size: 0.85rem;
  color: var(--light-text);
}

.bank-detail-value {
  font-weight: 600;
  font-size: 0.9rem;
  color: var(--text-color);
}
/* PIN Input Styles */
.pin-container {
  display: flex;
  justify-content: center;
  margin: 1.5rem 0;
}

.pin-input-wrapper {
  display: flex;
  gap: 0.75rem;
}

.pin-input {
  width: 50px;
  height: 60px;
  border: 2px solid var(--border-color);
  border-radius: 8px;
  font-size: 1.5rem;
  text-align: center;
  color: var(--text-color);
  background-color: var(--input-bg);
  transition: border-color 0.3s;
}

.pin-input:focus {
  border-color: var(--primary-color);
  outline: none;
}

/* PIN Error Message */
.pin-error {
  display: flex;
  align-items: center;
  color: #e74c3c;
  font-size: 0.9rem;
  margin-bottom: 1rem;
  padding: 0.5rem;
  background-color: rgba(231, 76, 60, 0.1);
  border-radius: 6px;
}

.pin-error i {
  margin-right: 0.5rem;
}

.pin-error.hidden {
  display: none;
}

/* Forgot PIN Link */
.forgot-pin {
  text-align: center;
  margin-bottom: 1.5rem;
}

.forgot-pin a {
  color: var(--primary-color);
  font-size: 0.9rem;
  text-decoration: none;
}

.forgot-pin a:hover {
  text-decoration: underline;
}

/* Withdrawal Confirmation */
.withdrawal-confirmation {
  background-color: rgba(108, 92, 231, 0.05);
  padding: 0.75rem;
  border-radius: 8px;
  margin-bottom: 1.5rem;
  text-align: center;
}

.withdrawal-confirmation p {
  margin: 0;
  font-size: 0.95rem;
  color: var(--text-color);
}

#pinConfirmAmount, #pinConfirmNaira {
  font-weight: 600;
  color: var(--primary-color);
}


/* Admin Dashboard Styles */
.admin-dashboard {
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  background-color: #f5f7fa;
  border-radius: 12px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
  margin: 20px;
  padding: 0;
  overflow: hidden;
  max-width: 1400px;
  margin: 0 auto;
  display: none; /* Hide dashboard by default */
}

/* Admin Access Container */
.admin-access-container {
  background-color: #ffffff;
  border-radius: 12px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
  width: 400px;
  max-width: 90%;
  padding: 30px;
  text-align: center;
  margin: 50px auto;
  position: relative;
  z-index: 10;
}

.admin-access-title {
  font-size: 24px;
  font-weight: 600;
  color: #333;
  margin-bottom: 20px;
}

.admin-access-description {
  font-size: 14px;
  color: #666;
  margin-bottom: 25px;
}

.passcode-input {
  width: 100%;
  padding: 12px 15px;
  border: 1px solid #e0e0e0;
  border-radius: 8px;
  font-size: 16px;
  margin-bottom: 20px;
  text-align: center;
  letter-spacing: 2px;
  transition: all 0.2s ease;
}

.passcode-input:focus {
  outline: none;
  border-color: #3f51b5;
  box-shadow: 0 0 0 2px rgba(63, 81, 181, 0.1);
}

.admin-access-btn {
  background-color: #3f51b5;
  color: white;
  border: none;
  border-radius: 8px;
  padding: 12px 20px;
  font-size: 16px;
  font-weight: 500;
  width: 100%;
  cursor: pointer;
  transition: background-color 0.2s ease;
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 10px;
}

.admin-access-btn:hover {
  background-color: #303f9f;
}

.admin-access-btn:disabled {
  background-color: #c5cae9;
  cursor: not-allowed;
}

.error-message {
  color: #f44336;
  font-size: 14px;
  margin-top: 10px;
  display: none;
}

.error-message.show {
  display: block;
  animation: shake 0.5s ease-in-out;
}

@keyframes shake {
  0%, 100% { transform: translateX(0); }
  10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
  20%, 40%, 60%, 80% { transform: translateX(5px); }
}


/* Admin Button */
.admin-button {
  position: fixed;
  bottom: 30px;
  right: 30px;
  width: 60px;
  height: 60px;
  border-radius: 50%;
  background-color: #4267B2;
  color: white;
  border: none;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
  cursor: pointer;
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 100;
  transition: all 0.3s ease;
}

.admin-button i {
  font-size: 24px;
}

.admin-button:hover {
  background-color: #365899;
  transform: scale(1.05);
}

/* Admin Dashboard */
.admin-dashboard {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: #f0f2f5;
  z-index: 1000;
  overflow-y: auto;
  display: none;
}

/* Close Dashboard Button */
.close-dashboard-btn {
  position: absolute;
  top: 20px;
  right: 20px;
  background-color: #f0f2f5;
  border: none;
  border-radius: 50%;
  width: 36px;
  height: 36px;
  display: flex;
  justify-content: center;
  align-items: center;
  cursor: pointer;
  z-index: 10;
  transition: all 0.2s ease;
}
.close-dashboard-btn:hover {
  background-color: #e4e6eb;
}

.close-dashboard-btn i {
  font-size: 18px;
  color: #555;
}

/* Admin Access Container */
.admin-access-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 100%;
  padding: 20px;
  background-color: #fff;
  border-radius: 10px;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
  max-width: 500px;
  margin: 0 auto;
  position: relative;
  top: 50%;
  transform: translateY(-50%);
}

.admin-access-title {
  font-size: 28px;
  color: #1877F2;
  margin-bottom: 10px;
  text-align: center;
}

.admin-access-description {
  color: #65676B;
  margin-bottom: 30px;
  text-align: center;
}

.passcode-input {
  width: 100%;
  padding: 15px;
  border: 1px solid #dddfe2;
  border-radius: 8px;
  font-size: 16px;
  margin-bottom: 20px;
  text-align: center;
  letter-spacing: 4px;
  transition: border-color 0.3s;
}

.passcode-input:focus {
  border-color: #1877F2;
  outline: none;
}

.admin-access-btn {
  width: 100%;
  padding: 12px;
  background-color: #1877F2;
  color: white;
  border: none;
  border-radius: 8px;
  font-size: 16px;
  font-weight: bold;
  cursor: pointer;
  transition: background-color 0.3s;
}

.admin-access-btn:disabled {
  background-color: #E4E6EB;
  color: #BCC0C4;
  cursor: not-allowed;
}

.admin-access-btn:not(:disabled):hover {
  background-color: #166FE5;
}

.error-message {
  color: #c00;
  margin-top: 15px;
  text-align: center;
  display: none;
}

/* Admin Content */
.admin-content {
  padding: 20px;
  max-width: 1400px;
  margin: 0 auto;
}

.admin-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
  padding-bottom: 15px;
  border-bottom: 1px solid #dddfe2;
}

.admin-header h1 {
  color: #1877F2;
  font-size: 24px;
}

.admin-actions {
  display: flex;
  gap: 10px;
}

.refresh-btn {
  display: flex;
  align-items: center;
  gap: 5px;
  padding: 8px 15px;
  background-color: #E4E6EB;
  border: none;
  border-radius: 6px;
  cursor: pointer;
  transition: background-color 0.3s;
}

.refresh-btn:hover {
  background-color: #dddfe2;
}

/* Admin Tabs */
.admin-tabs {
  display: flex;
  border-bottom: 1px solid #dddfe2;
  margin-bottom: 20px;
}

.admin-tab {
  padding: 12px 20px;
  background: none;
  border: none;
  border-bottom: 3px solid transparent;
  cursor: pointer;
  font-size: 16px;
  font-weight: 500;
  color: #65676B;
  transition: all 0.3s;
}

.admin-tab:hover {
  color: #1877F2;
}

.admin-tab.active {
  color: #1877F2;
  border-bottom-color: #1877F2;
}

/* Tab Content */
.admin-tab-content {
  display: none;
}

.tab-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
}

.tab-header h2 {
  font-size: 20px;
  color: #1c1e21;
}

.tab-actions {
  display: flex;
  gap: 10px;
  align-items: center;
}

.search-box {
  position: relative;
  width: 250px;
}

.search-box i {
  position: absolute;
  left: 10px;
  top: 50%;
  transform: translateY(-50%);
  color: #65676B;
}

.search-box input {
  width: 100%;
  padding: 8px 10px 8px 35px;
  border: 1px solid #dddfe2;
  border-radius: 6px;
  font-size: 14px;
}

.filter-select {
  padding: 8px 10px;
  border: 1px solid #dddfe2;
  border-radius: 6px;
  font-size: 14px;
  background-color: white;
}

/* Table Styles */
.table-container {
  background-color: white;
  border-radius: 8px;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
  overflow: hidden;
}

.admin-table {
  width: 100%;
  border-collapse: collapse;
}

.admin-table th,
.admin-table td {
  padding: 12px 15px;
  text-align: left;
  border-bottom: 1px solid #dddfe2;
}

.admin-table th {
  background-color: #F5F6F7;
  font-weight: 600;
  color: #65676B;
}

.admin-table tbody tr:hover {
  background-color: #F5F6F7;
}

.admin-table td:last-child {
  width: 150px;
}

.user-cell {
  display: flex;
  align-items: center;
  gap: 10px;
}

.user-avatar {
  width: 32px;
  height: 32px;
  border-radius: 50%;
  background-color: #E4E6EB;
  display: flex;
  align-items: center;
  justify-content: center;
  color: #65676B;
}

.user-info {
  display: flex;
  flex-direction: column;
}

.user-name {
  font-weight: 500;
  color: #1c1e21;
}

.user-email {
  font-size: 12px;
  color: #65676B;
}

.status-badge {
  display: inline-block;
  padding: 4px 8px;
  border-radius: 4px;
  font-size: 12px;
  font-weight: 500;
}

.pending {
  background-color: #FFF3CD;
  color: #856404;
}

.approved {
  background-color: #D4EDDA;
  color: #155724;
}

.rejected {
  background-color: #F8D7DA;
  color: #721C24;
}

.action-buttons {
  display: flex;
  gap: 5px;
}

.action-buttons button {
  padding: 5px 10px;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  font-size: 12px;
  font-weight: 500;
  transition: background-color 0.3s;
}

.view-btn {
  background-color: #E4E6EB;
  color: #1c1e21;
}

.view-btn:hover {
  background-color: #dddfe2;
}

.approve-btn {
  background-color: #42B72A;
  color: white;
}

.approve-btn:hover {
  background-color: #36A420;
}

.reject-btn {
  background-color: #FA383E;
  color: white;
}

.reject-btn:hover {
  background-color: #E4313D;
}

/* Settings Styles */
.settings-container {
  background-color: white;
  border-radius: 8px;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
  padding: 20px;
}

.settings-group {
  margin-bottom: 30px;
}

.settings-group h3 {
  font-size: 18px;
  color: #1c1e21;
  margin-bottom: 15px;
  padding-bottom: 10px;
  border-bottom: 1px solid #dddfe2;
}

.setting-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 15px;
  padding-bottom: 15px;
  border-bottom: 1px solid #f0f2f5;
}

.setting-item label {
  font-weight: 500;
}

.settings-input {
  width: 200px;
  padding: 8px 10px;
  border: 1px solid #dddfe2;
  border-radius: 6px;
  font-size: 14px;
}

.settings-actions {
  display: flex;
  justify-content: flex-end;
  gap: 10px;
  margin-top: 20px;
}

/* Switch Toggle */
.switch {
  position: relative;
  display: inline-block;
  width: 50px;
  height: 24px;
}

.switch input {
  opacity: 0;
  width: 0;
  height: 0;
}

.slider {
  position: absolute;
  cursor: pointer;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: #ccc;
  transition: .4s;
}

.slider:before {
  position: absolute;
  content: "";
  height: 16px;
  width: 16px;
  left: 4px;
  bottom: 4px;
  background-color: white;
  transition: .4s;
}

input:checked + .slider {
  background-color: #1877F2;
}

input:focus + .slider {
  box-shadow: 0 0 1px #1877F2;
}

input:checked + .slider:before {
  transform: translateX(26px);
}

.slider.round {
  border-radius: 34px;
}

.slider.round:before {
  border-radius: 50%;
}

/* Modal Styles */
.modal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.5);
  display: none;
  justify-content: center;
  align-items: center;
  z-index: 2000;
}

.modal.show {
  display: flex !important;
}

.modal-content {
  background-color: white;
  border-radius: 8px;
  width: 90%;
  max-width: 600px;
  max-height: 90vh;
  overflow-y: auto;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  position: relative;
}

.modal-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 15px 20px;
  border-bottom: 1px solid #dddfe2;
}

.modal-header h2 {
  font-size: 20px;
  color: #1c1e21;
}

.close-modal {
  background: none;
  border: none;
  font-size: 24px;
  cursor: pointer;
  color: #65676B;
}

.modal-body {
  padding: 20px;
}

/* Transaction Details Modal */
.transaction-id-container {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
  padding-bottom: 15px;
  border-bottom: 1px solid #dddfe2;
}

.transaction-id {
  font-weight: 600;
  color: #1877F2;
}

.user-profile {
  display: flex;
  align-items: center;
  gap: 15px;
  margin-bottom: 20px;
  padding-bottom: 15px;
  border-bottom: 1px solid #dddfe2;
}

.user-profile-image {
  width: 60px;
  height: 60px;
  border-radius: 50%;
  background-color: #E4E6EB;
  display: flex;
  align-items: center;
  justify-content: center;
}

.user-profile-image i {
  font-size: 30px;
  color: #65676B;
}

.user-profile-info h4 {
  font-size: 18px;
  margin-bottom: 5px;
}

.user-profile-info p {
  color: #65676B;
}

.transaction-details-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 15px;
  margin-bottom: 20px;
}

.transaction-detail-item {
  display: flex;
  flex-direction: column;
}

.detail-label {
  font-size: 14px;
  color: #65676B;
  margin-bottom: 5px;
}

.detail-value {
  font-size: 16px;
  font-weight: 500;
}

.transaction-notes,
.transaction-attachments,
.admin-message {
  margin-bottom: 20px;
  padding-bottom: 15px;
  border-bottom: 1px solid #dddfe2;
}

.transaction-notes h4,
.transaction-attachments h4,
.admin-message h4 {
  font-size: 16px;
  margin-bottom: 10px;
}

.attachment-item {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 10px;
  background-color: #F5F6F7;
  border-radius: 6px;
}

.view-attachment-btn {
  margin-left: auto;
  padding: 5px 10px;
  background-color: #E4E6EB;
  border: none;
  border-radius: 4px;
  cursor: pointer;
}

.admin-message textarea {
  width: 100%;
  height: 100px;
  padding: 10px;
  border: 1px solid #dddfe2;
  border-radius: 6px;
  resize: none;
  margin-bottom: 10px;
}

.admin-message-actions {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.file-upload {
  display: flex;
  align-items: center;
  gap: 10px;
}

.file-upload-btn {
  background: none;
  border: none;
  color: #1877F2;
  cursor: pointer;
}

.file-name {
  font-size: 14px;
  color: #65676B;
}

.send-message-btn {
  padding: 8px 15px;
  background-color: #1877F2;
  color: white;
  border: none;
  border-radius: 6px;
  cursor: pointer;
  transition: background-color 0.3s;
}

.send-message-btn:hover {
  background-color: #166FE5;
}

.transaction-actions {
  display: flex;
  justify-content: space-between;
  gap: 10px;
}

.transaction-actions button {
  flex: 1;
  padding: 10px;
  border: none;
  border-radius: 6px;
  font-weight: 500;
  cursor: pointer;
  transition: background-color 0.3s;
}

/* Confirmation Modal */
.confirmation-message {
  font-size: 16px;
  margin-bottom: 20px;
  text-align: center;
}

.confirmation-details {
  background-color: #F5F6F7;
  border-radius: 6px;
  padding: 15px;
  margin-bottom: 20px;
}

.confirmation-detail {
  display: flex;
  justify-content: space-between;
  margin-bottom: 10px;
}

.confirmation-detail:last-child {
  margin-bottom: 0;
}

.confirmation-actions {
  display: flex;
  justify-content: flex-end;
  gap: 10px;
}

/* Success Modal */
.success-icon {
  display: flex;
  justify-content: center;
  margin-bottom: 20px;
}

.success-icon i {
  font-size: 60px;
  color: #42B72A;
}

.success-message {
  text-align: center;
  font-size: 18px;
  margin-bottom: 20px;
}

/* Button Styles */
.primary-button {
  padding: 10px 20px;
  background-color: #1877F2;
  color: white;
  border: none;
  border-radius: 6px;
  font-weight: 500;
  cursor: pointer;
  transition: background-color 0.3s;
}

.primary-button:hover {
  background-color: #166FE5;
}

.secondary-button {
  padding: 10px 20px;
  background-color: #E4E6EB;
  color: #1c1e21;
  border: none;
  border-radius: 6px;
  font-weight: 500;
  cursor: pointer;
  transition: background-color 0.3s;
}

.secondary-button:hover {
  background-color: #dddfe2;
}

/* Responsive Styles */
@media (max-width: 768px) {
  .admin-header {
    flex-direction: column;
    align-items: flex-start;
    gap: 10px;
  }
  
  .tab-header {
    flex-direction: column;
    align-items: flex-start;
    gap: 10px;
  }
  
  .tab-actions {
    width: 100%;
    flex-wrap: wrap;
  }
  
  .search-box {
    width: 100%;
  }
  
  .filter-select {
    width: 100%;
  }
  
  .transaction-details-grid {
    grid-template-columns: 1fr;
  }
  
  .transaction-actions {
    flex-direction: column;
  }
  
  .admin-table {
    display: block;
    overflow-x: auto;
  }
}

/* Animation Styles */
@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

.admin-dashboard, .modal.show {
  animation: fadeIn 0.3s ease-in-out;
}



  



 </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <div class="split-screen">
            <div class="left">
                <div class="logo">
                    <h1>Rewarder</h1>
                </div>
                <div class="tagline">
                    <h2>Discover Talent. Vote. Win.</h2>
                    <p>Join the platform where talent gets rewarded and voters earn too!</p>
                </div>
                <div class="features">
                    <div class="feature">
                        <i class="fas fa-trophy"></i>
                        <span>Compete in exciting talent categories</span>
                    </div>
                    <div class="feature">
                        <i class="fas fa-vote-yea"></i>
                        <span>Vote for your favorites and earn rewards</span>
                    </div>
                    <div class="feature">
                        <i class="fas fa-coins"></i>
                        <span>Win cash prizes and recognition</span>
                    </div>
                </div>
            </div>
            <div class="right">
                <div class="auth-container" id="loginForm">
                    <h2>Welcome Back</h2>
                    <p>Sign in to continue your journey</p>
                    
                    <div class="social-login">
                        <button class="social-btn google-btn">
                            <img src="https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg" alt="Google">
                            <span>Continue with Google</span>
                        </button>
                    </div>
                    
                    <div class="divider">
                        <span>or sign in with email</span>
                    </div>
                    
                    <form id="loginFormElement">
                        <div class="form-group">
                            <label for="loginEmail">Email</label>
                            <input type="email" id="loginEmail" placeholder="Enter your email" required>
                        </div>
                        <div class="form-group">
                            <label for="loginPassword">Password</label>
                            <div class="password-input">
                                <input type="password" id="loginPassword" placeholder="Enter your password" required>
                                <i class="fas fa-eye-slash toggle-password"></i>
                            </div>
                        </div>
                        <div class="form-options">
                            <div class="remember-me">
                                <input type="checkbox" id="remember">
                                <label for="remember">Remember me</label>
                            </div>
                            <a href="#" class="forgot-password">Forgot password?</a>
                        </div>
                        <button type="submit" class="auth-btn">Sign In</button>
                    </form>
                    
                    <div class="auth-switch">
                        <p>Don't have an account? <a href="#" id="showSignup">Sign up</a></p>
                    </div>
                </div>
                
                <div class="auth-container hidden" id="signupForm">
                    <h2>Create Account</h2>
                    <p>Join the talent revolution</p>
                    
                    <div class="social-login">
                        <button class="social-btn google-btn">
                            <img src="https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg" alt="Google">
                            <span>Continue with Google</span>
                        </button>
                    </div>
                    
                    <div class="divider">
                        <span>or sign up with email</span>
                    </div>
                    
                    <form id="signupFormElement">
                        <div class="form-group">
                            <label for="fullName">Full Name</label>
                            <input type="text" id="fullName" placeholder="Enter your full name" required>
                        </div>
                        <div class="form-group">
                            <label for="signupEmail">Email</label>
                            <input type="email" id="signupEmail" placeholder="Enter your email" required>
                        </div>
                        <div class="form-group">
                            <label for="signupPassword">Password</label>
                            <div class="password-input">
                                <input type="password" id="signupPassword" placeholder="Create a password" required>
                                <i class="fas fa-eye-slash toggle-password"></i>
                            </div>
                            <div class="password-strength">
                                <div class="strength-meter">
                                    <div class="strength-segment"></div>
                                    <div class="strength-segment"></div>
                                    <div class="strength-segment"></div>
                                    <div class="strength-segment"></div>
                                </div>
                                <span class="strength-text">Password strength</span>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="userType">I want to join as</label>
                            <select id="userType" required>
                                <option value="" disabled selected>Select your role</option>
                                <option value="contestant">Contestant</option>
                                <option value="voter">Voter</option>
                                <option value="both">Both</option>
                            </select>
                        </div>
                        <div class="form-options">
                            <div class="terms">
                                <input type="checkbox" id="terms" required>
                                <label for="terms">I agree to the <a href="#">Terms of Service</a> and <a href="#">Privacy Policy</a></label>
                            </div>
                        </div>
                        <button type="submit" class="auth-btn">Create Account</button>
                    </form>
                    
                    <div class="auth-switch">
                        <p>Already have an account? <a href="#" id="showLogin">Sign in</a></p>
                    </div>
                </div>
            </div>
        </div>
    </div>

<!-- Add the dashboard HTML structure after the auth container closing div -->
<div class="dashboard" id="dashboard">
    <header class="header">
        <div class="header-logo">Rewarder</div>
        <div class="header-actions">
            <button class="icon-btn" id="notificationBtn">
                <i class="fas fa-bell"></i>
                <span class="notification-badge">3</span>
            </button>
            <button class="icon-btn" id="menuBtn">
                <i class="fas fa-bars"></i>
            </button>
            <!-- Wallet Button -->
<button id="walletButton" class="wallet-button">
    <i class="fas fa-wallet"></i>
    <span>My Wallet</span>
  </button>
           
    <div class="header">
        <div class="profile-btn" id="profileBtn">
            <span id="profileInitial">J</span>
        </div>
    </div>
    
    <!-- Profile Popup -->
    <div class="profile-popup" id="profilePopup">
        <div class="profile-popup-header">
            <div class="profile-avatar" id="profileAvatarContainer">
                <span id="popupProfileInitial">J</span>
                <div class="avatar-upload">
                    <label for="avatarUpload" class="avatar-upload-label">
                        <i class="fas fa-camera"></i>
                    </label>
                    <input type="file" id="avatarUpload" accept="image/*" hidden>
                </div>
            </div>
            <div class="profile-info">
                <div class="profile-name" id="profileName">John Doe</div>
                <div class="profile-email" id="profileEmail">john.doe@example.com</div>
            </div>
        </div>
        
        <div class="profile-popup-body">
            <a href="#" class="profile-popup-link" id="changeProfileLink">
                <i class="fas fa-user-edit"></i>
                <span>Change Profile</span>
            </a>
            <a href="#" class="profile-popup-link" id="changeEmailLink">
                <i class="fas fa-envelope"></i>
                <span>Change Email</span>
            </a>
            <a href="#" class="profile-popup-link" id="changePasswordLink">
                <i class="fas fa-lock"></i>
                <span>Change Password</span>
            </a>
            <a href="#" class="profile-popup-link" id="enable2FALink">
                <i class="fas fa-shield-alt"></i>
                <span>Two-Factor Authentication</span>
            </a>
        </div>
        
        
    </div>
    
        </div>
    </header>

    <!-- Profile Change Modal -->
<div class="auth-modal" id="profileChangeModal">
    <div class="auth-modal-content">
        <div class="auth-modal-header">
            <h3>Update Profile</h3>
            <button class="auth-modal-close" id="closeProfileModal">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="auth-modal-body">
            <form id="profileUpdateForm">
                <div class="form-group">
                    <label for="displayName">Display Name</label>
                    <input type="text" id="displayName" placeholder="Enter your name" required>
                </div>
                <div class="form-group">
                    <label for="phoneNumber">Phone Number (optional)</label>
                    <input type="tel" id="phoneNumber" placeholder="Enter your phone number">
                </div>
                <button type="submit" class="auth-btn">Update Profile</button>
            </form>
        </div>
    </div>
</div>

<!-- Email Change Modal -->
<div class="auth-modal" id="emailChangeModal">
    <div class="auth-modal-content">
        <div class="auth-modal-header">
            <h3>Change Email Address</h3>
            <button class="auth-modal-close" id="closeEmailModal">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="auth-modal-body">
            <form id="emailChangeForm">
                <div class="form-group">
                    <label for="currentEmail">Current Email</label>
                    <input type="email" id="currentEmail" readonly>
                </div>
                <div class="form-group">
                    <label for="newEmail">New Email</label>
                    <input type="email" id="newEmail" placeholder="Enter new email address" required>
                </div>
                <div class="form-group">
                    <label for="currentPassword">Current Password</label>
                    <div class="password-input-group">
                        <input type="password" id="currentPassword" placeholder="Enter your current password" required>
                        <button type="button" class="toggle-password">
                            <i class="fas fa-eye"></i>
                        </button>
                    </div>
                </div>
                <button type="submit" class="auth-btn">Send Verification Email</button>
            </form>
        </div>
    </div>
</div>

<!-- Password Change Modal -->
<div class="auth-modal" id="passwordChangeModal">
    <div class="auth-modal-content">
        <div class="auth-modal-header">
            <h3>Change Password</h3>
            <button class="auth-modal-close" id="closePasswordModal">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="auth-modal-body">
            <form id="passwordChangeForm">
                <div class="form-group">
                    <label for="oldPassword">Current Password</label>
                    <div class="password-input-group">
                        <input type="password" id="oldPassword" placeholder="Enter current password" required>
                        <button type="button" class="toggle-password">
                            <i class="fas fa-eye"></i>
                        </button>
                    </div>
                </div>
                <div class="form-group">
                    <label for="newPassword">New Password</label>
                    <div class="password-input-group">
                        <input type="password" id="newPassword" placeholder="Enter new password" required>
                        <button type="button" class="toggle-password">
                            <i class="fas fa-eye"></i>
                        </button>
                    </div>
                </div>
                <div class="password-strength">
                    <div class="strength-meter">
                        <div class="strength-meter-fill" id="strengthMeter"></div>
                    </div>
                    <div class="strength-text" id="strengthText">Password strength</div>
                </div>
                <div class="form-group">
                    <label for="confirmNewPassword">Confirm New Password</label>
                    <div class="password-input-group">
                        <input type="password" id="confirmNewPassword" placeholder="Confirm new password" required>
                        <button type="button" class="toggle-password">
                            <i class="fas fa-eye"></i>
                        </button>
                    </div>
                </div>
                <button type="submit" class="auth-btn">Update Password</button>
            </form>
        </div>
    </div>
</div>

<!-- 2FA Setup Modal -->
<div class="auth-modal" id="twoFactorModal">
    <div class="auth-modal-content">
        <div class="auth-modal-header">
            <h3>Two-Factor Authentication</h3>
            <button class="auth-modal-close" id="close2FAModal">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="auth-modal-body">
            <div class="two-factor-setup" id="twoFactorSetup">
                <div class="two-factor-status">
                    <div class="status-icon">
                        <i class="fas fa-shield-alt"></i>
                    </div>
                    <div class="status-text">
                        <h4>Enhance Your Account Security</h4>
                        <p>Two-factor authentication adds an extra layer of security to your account by requiring a verification code in addition to your password.</p>
                    </div>
                    <div class="status-toggle">
                        <label class="switch">
                            <input type="checkbox" id="twoFactorToggle">
                            <span class="slider round"></span>
                        </label>
                    </div>
                </div>
                
                <div class="two-factor-methods" id="twoFactorMethods" style="display: none;">
                    <h4>Choose Verification Method</h4>
                    <div class="method-option">
                        <input type="radio" id="emailMethod" name="twoFactorMethod" value="email" checked>
                        <label for="emailMethod">
                            <i class="fas fa-envelope"></i>
                            <span>Email</span>
                            <small id="twoFactorEmail">john.doe@example.com</small>
                        </label>
                    </div>
                    <div class="method-option">
                        <input type="radio" id="authenticatorMethod" name="twoFactorMethod" value="authenticator">
                        <label for="authenticatorMethod">
                            <i class="fas fa-mobile-alt"></i>
                            <span>Authenticator App</span>
                            <small>Google Authenticator, Authy, etc.</small>
                        </label>
                    </div>
                </div>
                
                <div class="verification-setup" id="emailVerificationSetup" style="display: none;">
                    <h4>Email Verification</h4>
                    <p>We'll send a verification code to your email when you sign in.</p>
                    <button class="auth-btn" id="setupEmailVerification">Enable Email Verification</button>
                </div>
                
                <div class="verification-setup" id="authenticatorSetup" style="display: none;">
                    <h4>Authenticator App Setup</h4>
                    <p>Scan this QR code with your authenticator app:</p>
                    <div class="qr-container" id="qrCodeContainer">
                        <!-- QR code will be inserted here -->
                    </div>
                    <p>Or enter this code manually:</p>
                    <div class="secret-key" id="secretKey">XXXX XXXX XXXX XXXX</div>
                    
                    <div class="form-group">
                        <label for="verificationCode">Enter the 6-digit code from your app</label>
                        <input type="text" id="verificationCode" placeholder="000000" maxlength="6" pattern="[0-9]*" inputmode="numeric">
                    </div>
                    <button class="auth-btn" id="verifyAuthenticatorCode">Verify & Enable</button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Verification Code Modal -->
<div class="auth-modal" id="verificationCodeModal">
    <div class="auth-modal-content">
        <div class="auth-modal-header">
            <h3>Verify Your Email</h3>
            <button class="auth-modal-close" id="closeVerificationModal">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="auth-modal-body">
            <div class="verification-message">
                <i class="fas fa-envelope-open-text"></i>
                <p>We've sent a verification code to <span id="verificationEmail">your email</span></p>
            </div>
            <form id="verificationForm">
                <div class="verification-code-container">
                    <input type="text" maxlength="1" pattern="[0-9]" inputmode="numeric" class="verification-input" required>
                    <input type="text" maxlength="1" pattern="[0-9]" inputmode="numeric" class="verification-input" required>
                    <input type="text" maxlength="1" pattern="[0-9]" inputmode="numeric" class="verification-input" required>
                    <input type="text" maxlength="1" pattern="[0-9]" inputmode="numeric" class="verification-input" required>
                    <input type="text" maxlength="1" pattern="[0-9]" inputmode="numeric" class="verification-input" required>
                    <input type="text" maxlength="1" pattern="[0-9]" inputmode="numeric" class="verification-input" required>
                </div>
                <div class="resend-code">
                    <span>Didn't receive the code?</span>
                    <button type="button" id="resendCodeBtn">Resend Code</button>
                    <div class="countdown" id="resendCountdown"></div>
                </div>
                <button type="submit" class="auth-btn">Verify</button>
            </form>
        </div>
    </div>
</div>

    <div class="main-content">
        <!-- Ad Banner Carousel -->
<div class="ad-carousel">
    <div class="ad-carousel-container">
        <!-- Image Ad 1 -->
        <div class="ad-banner">
            <img src="https://images.unsplash.com/photo-1611162617213-7d7a39e9b1d7?ixlib=rb-1.2.1&auto=format&fit=crop&w=1200&h=300&q=80" alt="Technology Advertisement">
            <span class="ad-label">Ad</span>
        </div>
        
        <!-- Video Ad -->
        <div class="ad-banner video-ad">
            <video muted loop>
                <source src="https://cdn.coverr.co/videos/coverr-downloading-app-on-smartphone-3695/1080p.mp4" type="video/mp4">
                Your browser does not support the video tag.
            </video>
            <div class="video-controls">
                <button class="video-control-btn mute-btn">
                    <i class="fas fa-volume-mute"></i>
                </button>
            </div>
            <span class="ad-label">Video Ad</span>
        </div>
        
        <!-- Image Ad 2 -->
        <div class="ad-banner">
            <img src="https://images.unsplash.com/photo-1560472355-536de3962603?ixlib=rb-1.2.1&auto=format&fit=crop&w=1200&h=300&q=80" alt="Lifestyle Advertisement">
            <span class="ad-label">Ad</span>
        </div>
        
        <!-- Video Ad 2 -->
        <div class="ad-banner video-ad">
            <video muted loop>
                <source src="https://cdn.coverr.co/videos/coverr-person-using-smartphone-4584/1080p.mp4" type="video/mp4">
                Your browser does not support the video tag.
            </video>
            <div class="video-controls">
                <button class="video-control-btn mute-btn">
                    <i class="fas fa-volume-mute"></i>
                </button>
            </div>
            <span class="ad-label">Video Ad</span>
        </div>
        
        <!-- Image Ad 3 -->
        <div class="ad-banner">
            <img src="https://images.unsplash.com/photo-1542744173-8e7e53415bb0?ixlib=rb-1.2.1&auto=format&fit=crop&w=1200&h=300&q=80" alt="Business Advertisement">
            <span class="ad-label">Ad</span>
        </div>
    </div>
    
    <!-- Navigation Dots -->
    <div class="carousel-dots">
        <span class="dot active" data-index="0"></span>
        <span class="dot" data-index="1"></span>
        <span class="dot" data-index="2"></span>
        <span class="dot" data-index="3"></span>
        <span class="dot" data-index="4"></span>
    </div>
</div>


        <!-- Tabs -->
        <div class="tabs">
            <div class="tab active" data-tab="pending">Pending</div>
            <div class="tab" data-tab="live">Live</div>
        </div>

        <!-- Pending Tab Content -->
        <div class="tab-content active" id="pendingTab">
           
            
            
        </div>

        <!-- Live Tab Content -->
        <div class="tab-content" id="liveTab">
           
                
               
            
        </div>

        <!-- Leaderboard -->
        <div class="leaderboard">
            <div class="leaderboard-header">
                <div class="leaderboard-title">Current Leaderboard</div>
                <button class="btn btn-outline" id="seeAllBtn">See All</button>
            </div>
            <div class="leaderboard-body">
                <div class="top-contestants">
                    <div class="contestant-podium">
                        <div class="podium-position second">
                            <img src="https://via.placeholder.com/150" alt="Second Place">
                            <div class="position-number second">2</div>
                        </div>
                        <div class="contestant-name">Emma Johnson</div>
                        <div class="contestant-votes">1,245 votes</div>
                    </div>
                    
                    <div class="contestant-podium">
                        <div class="podium-position first">
                            <img src="https://via.placeholder.com/150" alt="First Place">
                            <div class="position-number first">1</div>
                        </div>
                        <div class="contestant-name">Michael Smith</div>
                        <div class="contestant-votes">1,876 votes</div>
                    </div>
                    
                    <div class="contestant-podium">
                        <div class="podium-position third">
                            <img src="https://via.placeholder.com/150" alt="Third Place">
                            <div class="position-number third">3</div>
                        </div>
                        <div class="contestant-name">Sophia Williams</div>
                        <div class="contestant-votes">987 votes</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Sponsors Banner -->
        <div class="sponsors-banner">
            <div class="sponsors-title">Our Sponsors</div>
            <div class="auto-scroll-container">
                <div class="auto-scroll">
                    <div class="sponsor-item">
                        <img src="https://via.placeholder.com/80" alt="Sponsor 1" class="sponsor-logo">
                        <div class="sponsor-name">TechCorp</div>
                    </div>
                    <div class="sponsor-item">
                        <img src="https://via.placeholder.com/80" alt="Sponsor 2" class="sponsor-logo">
                        <div class="sponsor-name">MediaGroup</div>
                    </div>
                    <div class="sponsor-item">
                        <img src="https://via.placeholder.com/80" alt="Sponsor 3" class="sponsor-logo">
                        <div class="sponsor-name">GlobalBrands</div>
                    </div>
                    <div class="sponsor-item">
                        <img src="https://via.placeholder.com/80" alt="Sponsor 4" class="sponsor-logo">
                        <div class="sponsor-name">CreativeStudio</div>
                    </div>
                    <div class="sponsor-item">
                        <img src="https://via.placeholder.com/80" alt="Sponsor 5" class="sponsor-logo">
                        <div class="sponsor-name">InnovateX</div>
                    </div>
                    <div class="sponsor-item">
                        <img src="https://via.placeholder.com/80" alt="Sponsor 6" class="sponsor-logo">
                        <div class="sponsor-name">FutureTech</div>
                    </div>
                    <div class="sponsor-item">
                        <img src="https://via.placeholder.com/80" alt="Sponsor 7" class="sponsor-logo">
                        <div class="sponsor-name">DigitalWave</div>
                    </div>
                    <div class="sponsor-item">
                        <img src="https://via.placeholder.com/80" alt="Sponsor 8" class="sponsor-logo">
                        <div class="sponsor-name">NextGen</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Partners Banner -->
        <div class="partners-banner">
            <div class="partners-title">Our Partners</div>
            <div class="auto-scroll-container">
                <div class="auto-scroll">
                    <div class="partner-item">
                        <img src="https://via.placeholder.com/80" alt="Partner 1" class="partner-logo">
                        <div class="partner-name">EventPro</div>
                    </div>
                    <div class="partner-item">
                        <img src="https://via.placeholder.com/80" alt="Partner 2" class="partner-logo">
                        <div class="partner-name">TalentHub</div>
                    </div>
                    <div class="partner-item">
                        <img src="https://via.placeholder.com/80" alt="Partner 3" class="partner-logo">
                        <div class="partner-name">ArtistConnect</div>
                    </div>
                    <div class="partner-item">
                        <img src="https://via.placeholder.com/80" alt="Partner 4" class="partner-logo">
                        <div class="partner-name">MusicWorld</div>
                    </div>
                    <div class="partner-item">
                        <img src="https://via.placeholder.com/80" alt="Partner 5" class="partner-logo">
                        <div class="partner-name">DanceAcademy</div>
                    </div>
                    <div class="partner-item">
                        <img src="https://via.placeholder.com/80" alt="Partner 6" class="partner-logo">
                        <div class="partner-name">PerformArts</div>
                    </div>
                    <div class="partner-item">
                        <img src="https://via.placeholder.com/80" alt="Partner 7" class="partner-logo">
                        <div class="partner-name">StageLight</div>
                    </div>
                    <div class="partner-item">
                        <img src="https://via.placeholder.com/80" alt="Partner 8" class="partner-logo">
                        <div class="partner-name">VocalMasters</div>
                    </div>
                </div>
            </div>
        </div>

       <!-- Footer -->
<footer class="footer">
    <div class="footer-logo">Rewarder</div>
  
    <div class="footer-links">
      <a href="#" class="footer-link" data-modal="about">About Us</a>
      <a href="#" class="footer-link" data-modal="how">How It Works</a>
      <a href="#" class="footer-link" data-modal="faq">FAQ</a>
      <a href="#" class="footer-link" data-modal="contact">Contact</a>
      <a href="#" class="footer-link" data-modal="terms">Terms of Service</a>
      <a href="#" class="footer-link" data-modal="privacy">Privacy Policy</a>
    </div>
  
    <div class="footer-social">
      <a href="#" class="social-link"><i class="fab fa-facebook-f"></i></a>
      <a href="#" class="social-link"><i class="fab fa-twitter"></i></a>
      <a href="#" class="social-link"><i class="fab fa-instagram"></i></a>
      <a href="#" class="social-link"><i class="fab fa-youtube"></i></a>
      <a href="#" class="social-link"><i class="fab fa-tiktok"></i></a>
    </div>
  
    <div class="footer-copyright">
      &copy; <span id="year"></span> Rewarder. All rights reserved.
    </div>
  </footer>
   <!-- Admin Button for Main Page -->
   <button id="adminButton" class="admin-button" title="Admin Access">
    <i class="fas fa-user-shield"></i>
  </button>
  <!-- Pop-up Modals -->
  <div class="modal-overlay" id="modal">
    <div class="modal-content">
      <span class="modal-close">&times;</span>
      <div id="modal-text"></div>
    </div>
  </div>
    </div>
</div>
<!-- Leaderboard Modal -->
<div class="modal-overlay" id="leaderboardModal">
    <div class="modal">
        <div class="modal-header">
            <div class="modal-title">Complete Leaderboard</div>
            <button class="modal-close" id="closeLeaderboardModal">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="modal-body">
            <ul class="leaderboard-list">
                <li class="leaderboard-item">
                    <div class="leaderboard-rank top-1">1</div>
                    <div class="leaderboard-avatar">
                        <img src="https://via.placeholder.com/40" alt="Michael Smith">
                    </div>
                    <div class="leaderboard-info">
                        <div class="leaderboard-name">Michael Smith</div>
                        <div class="leaderboard-votes">1,876 votes</div>
                    </div>
                </li>
                <li class="leaderboard-item">
                    <div class="leaderboard-rank top-2">2</div>
                    <div class="leaderboard-avatar">
                        <img src="https://via.placeholder.com/40" alt="Emma Johnson">
                    </div>
                    <div class="leaderboard-info">
                        <div class="leaderboard-name">Emma Johnson</div>
                        <div class="leaderboard-votes">1,245 votes</div>
                    </div>
                </li>
                <li class="leaderboard-item">
                    <div class="leaderboard-rank top-3">3</div>
                    <div class="leaderboard-avatar">
                        <img src="https://via.placeholder.com/40" alt="Sophia Williams">
                    </div>
                    <div class="leaderboard-info">
                        <div class="leaderboard-name">Sophia Williams</div>
                        <div class="leaderboard-votes">987 votes</div>
                    </div>
                </li>
                <li class="leaderboard-item">
                    <div class="leaderboard-rank">4</div>
                    <div class="leaderboard-avatar">
                        <img src="https://via.placeholder.com/40" alt="James Brown">
                    </div>
                    <div class="leaderboard-info">
                        <div class="leaderboard-name">James Brown</div>
                        <div class="leaderboard-votes">854 votes</div>
                    </div>
                </li>
                <li class="leaderboard-item">
                    <div class="leaderboard-rank">5</div>
                    <div class="leaderboard-avatar">
                        <img src="https://via.placeholder.com/40" alt="Olivia Davis">
                    </div>
                    <div class="leaderboard-info">
                        <div class="leaderboard-name">Olivia Davis</div>
                        <div class="leaderboard-votes">742 votes</div>
                    </div>
                </li>
                <li class="leaderboard-item">
                    <div class="leaderboard-rank">6</div>
                    <div class="leaderboard-avatar">
                        <img src="https://via.placeholder.com/40" alt="William Miller">
                    </div>
                    <div class="leaderboard-info">
                        <div class="leaderboard-name">William Miller</div>
                        <div class="leaderboard-votes">689 votes</div>
                    </div>
                </li>
                <li class="leaderboard-item">
                    <div class="leaderboard-rank">7</div>
                    <div class="leaderboard-avatar">
                        <img src="https://via.placeholder.com/40" alt="Ava Wilson">
                    </div>
                    <div class="leaderboard-info">
                        <div class="leaderboard-name">Ava Wilson</div>
                        <div class="leaderboard-votes">621 votes</div>
                    </div>
                </li>
                <li class="leaderboard-item">
                    <div class="leaderboard-rank">8</div>
                    <div class="leaderboard-avatar">
                        <img src="https://via.placeholder.com/40" alt="Noah Taylor">
                    </div>
                    <div class="leaderboard-info">
                        <div class="leaderboard-name">Noah Taylor</div>
                        <div class="leaderboard-votes">598 votes</div>
                    </div>
                </li>
                <li class="leaderboard-item">
                    <div class="leaderboard-rank">9</div>
                    <div class="leaderboard-avatar">
                        <img src="https://via.placeholder.com/40" alt="Isabella Anderson">
                    </div>
                    <div class="leaderboard-info">
                        <div class="leaderboard-name">Isabella Anderson</div>
                        <div class="leaderboard-votes">543 votes</div>
                    </div>
                </li>
                <li class="leaderboard-item">
                    <div class="leaderboard-rank">10</div>
                    <div class="leaderboard-avatar">
                        <img src="https://via.placeholder.com/40" alt="Liam Thomas">
                    </div>
                    <div class="leaderboard-info">
                        <div class="leaderboard-name">Liam Thomas</div>
                        <div class="leaderboard-votes">512 votes</div>
                    </div>
                </li>
            </ul>
        </div>
    </div>
</div>

<!-- Menu Panel -->
<div class="menu-overlay" id="menuOverlay">
    <div class="menu-panel">
        <div class="menu-header">
            <div class="menu-title">Menu</div>
            <button class="menu-close" id="closeMenu">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="menu-body">
            <ul class="menu-list">
               
                
                
                  
            
                
                <li class="menu-item">
                    <a href="#" class="menu-link">
                        <i class="fas fa-cog"></i>
                        <span>Settings</span>
                    </a>
                </li>
                
            </ul>
        </div>
        <div class="menu-footer">
            <button class="logout-btn" id="logoutBtn">
                <i class="fas fa-sign-out-alt"></i>
                <span>Logout</span>
            </button>
        </div>
    </div>
</div>
 


  <!-- Admin Dashboard Container -->
  <div class="admin-dashboard" style="display: none;">
    <!-- Close Dashboard Button -->
    <button id="closeDashboardBtn" class="close-dashboard-btn">
      <i class="fas fa-times"></i>
    </button>

    <!-- Admin Access Container (Shown First) -->
    <div class="admin-access-container">
      <h1 class="admin-access-title">Admin Access</h1>
      <p class="admin-access-description">Please enter the admin passcode to access the dashboard</p>
      
      <input type="password" id="passcodeInput" class="passcode-input" placeholder="Enter passcode" maxlength="10">
      
      <button id="accessBtn" class="admin-access-btn" disabled>
        <i class="fas fa-lock"></i> Access Dashboard
      </button>
      
      <div id="errorMessage" class="error-message" style="display: none;">
        Incorrect passcode. Please try again.
      </div>
    </div>

    <!-- Admin Dashboard Content (Hidden Initially) -->
    <div class="admin-content" style="display: none;">
      <div class="admin-header">
        <h1>Admin Dashboard</h1>
        <div class="admin-actions">
          <button class="refresh-btn">
            <i class="fas fa-sync-alt"></i> Refresh
          </button>
        </div>
      </div>

      <!-- Admin Tabs -->
      <div class="admin-tabs">
        <button class="admin-tab active" data-tab="transactions">Transactions</button>
        <button class="admin-tab" data-tab="users">Users</button>
        <button class="admin-tab" data-tab="settings">Settings</button>
      </div>

      <!-- Transactions Tab Content -->
      <div class="admin-tab-content" id="transactions-tab" style="display: block;">
        <div class="tab-header">
          <h2>Transaction Management</h2>
          <div class="tab-actions">
            <div class="search-box">
              <i class="fas fa-search"></i>
              <input type="text" placeholder="Search transactions...">
            </div>
            <select class="filter-select">
              <option value="all">All Status</option>
              <option value="pending">Pending</option>
              <option value="approved">Approved</option>
              <option value="rejected">Rejected</option>
            </select>
            <select class="filter-select">
              <option value="newest">Sort by: Newest</option>
              <option value="oldest">Sort by: Oldest</option>
              <option value="highest">Sort by: Highest Amount</option>
              <option value="lowest">Sort by: Lowest Amount</option>
            </select>
          </div>
        </div>

        <div class="table-container">
          <table class="admin-table">
            <thead>
              <tr>
                <th>ID</th>
                <th>User</th>
                <th>Amount</th>
                <th>Date</th>
                <th>Type</th>
                <th>Status</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody id="transactionsTableBody">
              <!-- Transaction rows will be populated from Firebase -->
            </tbody>
          </table>
        </div>
      </div>

      <!-- Users Tab Content -->
      <div class="admin-tab-content" id="users-tab" style="display: none;">
        <div class="tab-header">
          <h2>User Management</h2>
          <div class="tab-actions">
            <div class="search-box">
              <i class="fas fa-search"></i>
              <input type="text" placeholder="Search users...">
            </div>
            <select class="filter-select">
              <option value="all">All Users</option>
              <option value="active">Active</option>
              <option value="inactive">Inactive</option>
              <option value="blocked">Blocked</option>
            </select>
          </div>
        </div>

        <div class="table-container">
          <table class="admin-table">
            <thead>
              <tr>
                <th>ID</th>
                <th>User</th>
                <th>Email</th>
                <th>Joined</th>
                <th>Status</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody id="usersTableBody">
              <!-- User rows will be populated from Firebase -->
            </tbody>
          </table>
        </div>
      </div>

      <!-- Settings Tab Content -->
      <div class="admin-tab-content" id="settings-tab" style="display: none;">
        <div class="tab-header">
          <h2>System Settings</h2>
        </div>

        <div class="settings-container">
          <div class="settings-group">
            <h3>General Settings</h3>
            <div class="setting-item">
              <label>System Maintenance Mode</label>
              <label class="switch">
                <input type="checkbox" id="maintenanceMode">
                <span class="slider round"></span>
              </label>
            </div>
            <div class="setting-item">
              <label>Allow New Registrations</label>
              <label class="switch">
                <input type="checkbox" id="allowRegistrations" checked>
                <span class="slider round"></span>
              </label>
            </div>
          </div>

          <div class="settings-group">
            <h3>Transaction Settings</h3>
            <div class="setting-item">
              <label>Minimum Transaction Amount</label>
              <input type="number" id="minTransactionAmount" value="100" class="settings-input">
            </div>
            <div class="setting-item">
              <label>Maximum Transaction Amount</label>
              <input type="number" id="maxTransactionAmount" value="1000000" class="settings-input">
            </div>
            <div class="setting-item">
              <label>Auto-approve Transactions Below</label>
              <input type="number" id="autoApproveThreshold" value="1000" class="settings-input">
            </div>
          </div>

          <div class="settings-actions">
            <button class="secondary-button">Reset to Default</button>
            <button class="primary-button">Save Changes</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Transaction Details Modal -->
    <div class="modal" id="transaction-details-modal">
      <div class="modal-content">
        <div class="modal-header">
          <h2>Transaction Details</h2>
          <button class="close-modal">&times;</button>
        </div>
        <div class="modal-body">
          <div class="transaction-id-container">
            <span>Transaction ID:</span>
            <span class="transaction-id">TX123456789</span>
          </div>
          
          <div class="user-profile">
            <div class="user-profile-image">
              <i class="fas fa-user-circle"></i>
            </div>
            <div class="user-profile-info">
              <h4>John Doe</h4>
              <p>john.doe@example.com</p>
            </div>
          </div>
          
          <div class="transaction-details-grid">
            <div class="transaction-detail-item">
              <span class="detail-label">Amount</span>
              <span class="detail-value" id="transaction-amount">50,000.00</span>
            </div>
            <div class="transaction-detail-item">
              <span class="detail-label">Date</span>
              <span class="detail-value">May 15, 2023 - 10:30 AM</span>
            </div>
            <div class="transaction-detail-item">
              <span class="detail-label">Type</span>
              <span class="detail-value">Withdrawal</span>
            </div>
            <div class="transaction-detail-item">
              <span class="detail-label">Status</span>
              <span class="detail-value status-badge pending">Pending</span>
            </div>
          </div>
          
          <div class="transaction-notes">
            <h4>Transaction Notes</h4>
            <p>Withdrawal request to Bank Account: GTBank - 0123456789</p>
          </div>
          
          <div class="transaction-attachments">
            <h4>Attachments</h4>
            <div class="attachment-item">
              <i class="fas fa-file-image"></i>
              <span>proof_of_payment.jpg</span>
              <button class="view-attachment-btn">View</button>
            </div>
          </div>
          
          <div class="admin-message">
            <h4>Send Message to User</h4>
            <textarea placeholder="Type your message here..."></textarea>
            <div class="admin-message-actions">
              <div class="file-upload">
                <button class="file-upload-btn"><i class="fas fa-paperclip"></i></button>
                <span class="file-name">No file chosen</span>
                <input type="file" id="message-attachment" hidden>
              </div>
              <button class="send-message-btn">Send Message</button>
            </div>
          </div>
          
          <div class="transaction-actions">
            <button class="reject-btn" id="reject-transaction-btn">Reject Transaction</button>
            <button class="approve-btn" id="approve-transaction-btn">Approve Transaction</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Confirmation Modal -->
    <div class="modal" id="confirmation-modal">
      <div class="modal-content">
        <div class="modal-header">
          <h2 id="confirmation-title">Confirm Approval</h2>
          <button class="close-modal">&times;</button>
        </div>
        <div class="modal-body">
          <div class="confirmation-message" id="confirmation-message">
            Are you sure you want to approve this transaction?
          </div>
          <div class="confirmation-details">
            <div class="confirmation-detail">
              <span>Transaction ID:</span>
              <span id="confirm-transaction-id">TX123456789</span>
            </div>
            <div class="confirmation-detail">
              <span>User:</span>
              <span id="confirm-user">John Doe</span>
            </div>
            <div class="confirmation-detail">
              <span>Amount:</span>
              <span id="confirm-amount">50,000.00</span>
            </div>
          </div>
          <div class="confirmation-actions">
            <button class="secondary-button" id="cancel-action-btn">Cancel</button>
            <button class="primary-button" id="confirm-action-btn">Confirm</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Success Modal -->
    <div class="modal" id="success-modal">
      <div class="modal-content">
        <div class="modal-header">
          <h2>Success</h2>
          <button class="close-modal">&times;</button>
        </div>
        <div class="modal-body">
          <div class="success-icon">
            <i class="fas fa-check-circle"></i>
          </div>
          <div class="success-message" id="success-message">
            Transaction has been successfully approved!
          </div>
          <button class="primary-button" id="success-done-btn">Done</button>
        </div>
      </div>
    </div>
  </div>


  
    <div class="wallet-container">
      <!-- Header Section -->
      <header class="wallet-header">
        <div class="back-button">
          <i class="fas fa-arrow-left"></i>
        </div>
        <h1>Talent Coin Wallet</h1>
        <div class="settings-button">
          <i class="fas fa-cog"></i>
        </div>
      </header>
  
      <div class="balance-section">
        <div class="balance-card">
          <div class="balance-info">
            <h2>Talent Coins</h2>
            <div class="balance-amount">
              <img src="assets/images/talent-coin.png" alt="Talent Coin" class="coin-icon">
              <span id="coinBalance">0</span>
            </div>
            <div class="naira-equivalent">
               <span id="nairaEquivalent">0.00</span>
            </div>
          </div>
          
          <!-- Available and Pending Balance -->
          <div class="balance-breakdown">
            <div class="balance-item">
              <span class="balance-label">Available</span>
              <div class="balance-value">
                <img src="assets/images/talent-coin.png" alt="Talent Coin" class="coin-icon-small">
                <span id="availableBalance">0</span>
              </div>
            </div>
            <div class="balance-item">
              <span class="balance-label">Pending</span>
              <div class="balance-value">
                <img src="assets/images/talent-coin.png" alt="Talent Coin" class="coin-icon-small">
                <span id="pendingBalance">0</span>
                <i class="fas fa-info-circle pending-info-icon" id="pendingInfoIcon"></i>
              </div>
            </div>
          </div>
                <!-- Quick Actions Section -->
      <section class="quick-actions">
        <h3>Quick Actions</h3>
        <div class="actions-grid">
          <div class="action-item" id="buy-coins">
            <div class="action-icon">
              <i class="fas fa-coins"></i>
            </div>
            <span>Buy Coins</span>
          </div>
          
          <div class="action-item" id="change-pin">
            <div class="action-icon">
              <i class="fas fa-key"></i>
            </div>
            <span>Change PIN</span>
          </div>
        </div>
      </section>
  
      <!-- Transaction History Section -->
      <section class="transaction-history">
        <div class="section-header">
          <h3>Transaction History</h3>
          <button class="view-all-btn">View All</button>
        </div>
        <div class="transaction-list" id="transaction-list">
          <!-- Transactions will be loaded here dynamically -->
          <div class="empty-state">
            <i class="fas fa-history"></i>
            <p>No transactions yet</p>
          </div>
        </div>
      </section>
  
      <!-- PIN Setup Modal -->
      <div class="modal" id="pin-setup-modal">
        <div class="modal-content">
          <div class="modal-header">
            <h2>Create Wallet PIN</h2>
            <button class="close-modal">&times;</button>
          </div>
          <div class="modal-body">
            <p>Please create a 6-digit PIN to secure your wallet. You'll need this PIN for all transactions.</p>
            <div class="pin-container">
              <input type="password" maxlength="1" class="pin-input" data-index="0">
              <input type="password" maxlength="1" class="pin-input" data-index="1">
              <input type="password" maxlength="1" class="pin-input" data-index="2">
              <input type="password" maxlength="1" class="pin-input" data-index="3">
              <input type="password" maxlength="1" class="pin-input" data-index="4">
              <input type="password" maxlength="1" class="pin-input" data-index="5">
            </div>
            <div class="pin-confirm-container hidden">
              <p>Confirm your PIN</p>
              <div class="pin-container">
                <input type="password" maxlength="1" class="pin-confirm-input" data-index="0">
                <input type="password" maxlength="1" class="pin-confirm-input" data-index="1">
                <input type="password" maxlength="1" class="pin-confirm-input" data-index="2">
                <input type="password" maxlength="1" class="pin-confirm-input" data-index="3">
                <input type="password" maxlength="1" class="pin-confirm-input" data-index="4">
                <input type="password" maxlength="1" class="pin-confirm-input" data-index="5">
              </div>
            </div>
            <button class="primary-button" id="create-pin-btn">Continue</button>
          </div>
        </div>
      </div>
  
      <!-- OTP Verification Modal -->
      <div class="modal" id="otp-modal">
        <div class="modal-content">
          <div class="modal-header">
            <h2>OTP Verification</h2>
            <button class="close-modal">&times;</button>
          </div>
          <div class="modal-body">
            <p>We've sent a one-time password to your email. Please enter it below to verify your identity.</p>
            <div class="otp-container">
              <input type="text" maxlength="1" class="otp-input" data-index="0">
              <input type="text" maxlength="1" class="otp-input" data-index="1">
              <input type="text" maxlength="1" class="otp-input" data-index="2">
              <input type="text" maxlength="1" class="otp-input" data-index="3">
              <input type="text" maxlength="1" class="otp-input" data-index="4">
              <input type="text" maxlength="1" class="otp-input" data-index="5">
            </div>
            <div class="resend-otp">
              <span>Didn't receive the code?</span>
              <button id="resend-otp-btn">Resend OTP</button>
              <span id="otp-timer">in 60s</span>
            </div>
            <button class="primary-button" id="verify-otp-btn">Verify OTP</button>
          </div>
        </div>
      </div>
      
      <div class="modal" id="withdrawModal">
        <div class="modal-content">
          <div class="modal-header">
            <h2>Withdraw Funds</h2>
            <button class="close-modal" id="closeWithdrawModal">&times;</button>
          </div>
          <div class="modal-body">
            <!-- Step 1: Enter Amount -->
            <div class="withdraw-step" id="withdrawStep1">
              <p>How many Talent coins would you like to withdraw?</p>
              
              <div class="available-balance-info">
                <span>Available Balance:</span>
                <div class="available-amount">
                  <img src="assets/images/talent-coin.png" alt="Talent Coin" class="coin-icon-small">
                  <span id="withdrawAvailableBalance">0</span> Talent
                </div>
              </div>
              
              <div class="amount-input-container">
                <img src="assets/images/talent-coin.png" alt="Talent Coin" class="coin-icon-small">
                <input type="number" id="withdraw-amount" placeholder="0" min="100" max="10000">
              </div>
              
              <div class="naira-equivalent-withdraw">
                <p>You will receive: <span id="withdraw-naira-amount">0.00</span></p>
              </div>
              
              <p class="conversion-rate">1 Talent = 10</p>
              <p class="min-withdraw-notice">Minimum withdrawal: 100 Talent (1,000)</p>
              
              <button class="primary-button" id="proceedToBankBtn">Proceed</button>
            </div>
            
            <!-- Step 2: Bank Details -->
            <div class="withdraw-step hidden" id="withdrawStep2">
              <h4>Bank Account Details</h4>
              <p>Please provide your bank account details for the withdrawal:</p>
              
              <div class="form-group">
                <label for="bankName">Bank Name</label>
                <select id="bankName" class="bank-select">
                  <option value="">Select your bank</option>
                  <option value="access">Access Bank</option>
                  <option value="gtb">Guaranty Trust Bank</option>
                  <option value="firstbank">First Bank</option>
                  <option value="uba">United Bank for Africa</option>
                  <option value="zenith">Zenith Bank</option>
                  <option value="stanbic">Stanbic IBTC</option>
                  <option value="fcmb">FCMB</option>
                  <option value="fidelity">Fidelity Bank</option>
                  <option value="ecobank">Ecobank</option>
                  <option value="union">Union Bank</option>
                  <option value="sterling">Sterling Bank</option>
                  <option value="polaris">Polaris Bank</option>
                  <option value="wema">Wema Bank</option>
                  <option value="opay">OPay</option>
                  <option value="palmpay">PalmPay</option>
                  <option value="kuda">Kuda Bank</option>
                  <!-- Add more banks as needed -->
                </select>
              </div>
              
              <div class="form-group">
                <label for="accountNumber">Account Number</label>
                <input type="text" id="accountNumber" placeholder="Enter your account number" maxlength="10" pattern="[0-9]*">
              </div>
              
              <div class="form-group">
                <label for="accountName">Account Name</label>
                <input type="text" id="accountName" placeholder="Enter account name">
              </div>
              
              <div class="withdrawal-summary">
                <div class="summary-item">
                  <span class="summary-label">Amount to Withdraw:</span>
                  <span class="summary-value"><span id="summaryTalentAmount">0</span> Talent</span>
                </div>
                <div class="summary-item">
                  <span class="summary-label">You Will Receive:</span>
                  <span class="summary-value"><span id="summaryNairaAmount">0.00</span></span>
                </div>
              </div>
              
              <div class="processing-notice">
                <i class="fas fa-info-circle"></i>
                <p>Withdrawals are processed within 5 minutes to 7 hours during business hours.</p>
              </div>
              
              <button class="secondary-button" id="backToAmountBtn">Back</button>
              <button class="primary-button" id="proceedToPinBtn">Proceed</button>
            </div>
            
            <!-- Step 3: PIN Confirmation -->
            <div class="withdraw-step hidden" id="withdrawStep3">
              <h4>Security Verification</h4>
              <p>Please enter your 4-digit PIN to confirm this withdrawal:</p>
              
              <div class="pin-container">
                <input type="password" maxlength="1" class="withdraw-pin-input" data-index="0">
                <input type="password" maxlength="1" class="withdraw-pin-input" data-index="1">
                <input type="password" maxlength="1" class="withdraw-pin-input" data-index="2">
                <input type="password" maxlength="1" class="withdraw-pin-input" data-index="3">
                <input type="password" maxlength="1" class="withdraw-pin-input" data-index="4">
                <input type="password" maxlength="1" class="withdraw-pin-input" data-index="5">
              </div>
              
              <div class="pin-error hidden" id="pinError">
                <i class="fas fa-exclamation-circle"></i>
                <span>Incorrect PIN. Please try again.</span>
              </div>
              
                <div class="pin-confirmation">
                    <p>Confirm your withdrawal of:</p>
                    <div class="confirmation-amount">
                    <img src="assets/images/talent-coin.png" alt="Talent Coin" class="coin-icon-small">
                    <span id="pinConfirmAmount">0</span> Talent (<span id="pinConfirmNaira">0.00</span>)
                    </div>
              
              <div class="withdrawal-confirmation">
                <p>You are about to withdraw <span id="pinConfirmAmount">0</span> Talent (<span id="pinConfirmNaira">0.00</span>) to your bank account.</p>
              </div>
              
              <button class="secondary-button" id="backToBankBtn">Back</button>
              <button class="primary-button" id="confirmWithdrawBtn">Confirm Withdrawal</button>
            </div>
            
            <!-- Step 4: Success Message -->
            <div class="withdraw-step hidden" id="withdrawStep4">
              <div class="success-message">
                <div class="status-icon pending">
                  <i class="fas fa-clock"></i>
                </div>
                <h3>Withdrawal Request Received</h3>
                <p>Your withdrawal request of <span id="withdrawTalentConfirm">0</span> Talent (<span id="withdrawNairaConfirm">0.00</span>) has been submitted.</p>
                <div class="verification-info">
                  <p>Your withdrawal will be processed within 5 minutes to 7 hours during business hours. The funds will be sent to:</p>
                  <div class="bank-details-summary">
                    <div class="bank-detail-item">
                      <span class="bank-detail-label">Bank:</span>
                      <span class="bank-detail-value" id="confirmBankName">Bank Name</span>
                    </div>
                    <div class="bank-detail-item">
                      <span class="bank-detail-label">Account:</span>
                      <span class="bank-detail-value" id="confirmAccountNumber">0123456789</span>
                    </div>
                    <div class="bank-detail-item">
                      <span class="bank-detail-label">Name:</span>
                      <span class="bank-detail-value" id="confirmAccountName">Account Name</span>
                    </div>
                  </div>
                </div>
              </div>
              <button class="primary-button" id="withdrawDoneBtn">Done</button>
            </div>
          </div>
        </div>
      </div>
      
            
            
          
             
              
  
      <!-- Change PIN Modal -->
      <div class="modal" id="change-pin-modal">
        <div class="modal-content">
          <div class="modal-header">
            <h2>Change Wallet PIN</h2>
            <button class="close-modal">&times;</button>
          </div>
          <div class="modal-body">
            <div class="current-pin-section">
              <h4>Enter your current PIN</h4>
              <div class="pin-container">
                <input type="password" maxlength="1" class="current-pin-input" data-index="0">
                <input type="password" maxlength="1" class="current-pin-input" data-index="1">
                <input type="password" maxlength="1" class="current-pin-input" data-index="2">
                <input type="password" maxlength="1" class="current-pin-input" data-index="3">
                <input type="password" maxlength="1" class="current-pin-input" data-index="4">
                <input type="password" maxlength="1" class="current-pin-input" data-index="5">
              </div>
            </div>
            <div class="new-pin-section hidden">
              <h4>Enter your new PIN</h4>
              <div class="pin-container">
                <input type="password" maxlength="1" class="new-pin-input" data-index="0">
                <input type="password" maxlength="1" class="new-pin-input" data-index="1">
                <input type="password" maxlength="1" class="new-pin-input" data-index="2">
                <input type="password" maxlength="1" class="new-pin-input" data-index="3">
                <input type="password" maxlength="1" class="new-pin-input" data-index="4">
                <input type="password" maxlength="1" class="new-pin-input" data-index="5">
              </div>
            </div>
            <div class="confirm-pin-section hidden">
              <h4>Confirm your new PIN</h4>
              <div class="pin-container">
                <input type="password" maxlength="1" class="confirm-new-pin-input" data-index="0">
                <input type="password" maxlength="1" class="confirm-new-pin-input" data-index="1">
                <input type="password" maxlength="1" class="confirm-new-pin-input" data-index="2">
                <input type="password" maxlength="1" class="confirm-new-pin-input" data-index="3">
                <input type="password" maxlength="1" class="confirm-new-pin-input" data-index="4">
                <input type="password" maxlength="1" class="confirm-new-pin-input" data-index="5">
              </div>
            </div>
            <button class="primary-button" id="verify-current-pin-btn">Continue</button>
            <button class="primary-button hidden" id="set-new-pin-btn">Continue</button>
            <button class="primary-button hidden" id="confirm-new-pin-btn">Change PIN</button>
          </div>
        </div>
      </div>
  
      <div class="modal" id="buyCoinModal">
        <div class="modal-content">
          <div class="modal-header">
            <h2>Buy Talent Coins</h2>
            <button class="close-modal" id="closeBuyCoinModal">&times;</button>
          </div>
          <div class="modal-body">
            <!-- Step 1: Enter Amount -->
            <div class="buy-step" id="buyStep1">
              <p>How many Talent coins would you like to buy?</p>
              
              <div class="coin-packages">
                <h4>Select Package</h4>
                <div class="package-options">
                  <div class="package-option">
                    <input type="radio" name="coinPackage" id="package1" value="100">
                    <label for="package1">
                      <div class="package-details">
                        <div class="coin-amount">100 Talent</div>
                        <div class="package-price">1,000</div>
                      </div>
                    </label>
                  </div>
                  <div class="package-option">
                    <input type="radio" name="coinPackage" id="package2" value="500">
                    <label for="package2">
                      <div class="package-details">
                        <div class="coin-amount">500 Talent</div>
                        <div class="package-price">5,000</div>
                      </div>
                    </label>
                  </div>
                  <div class="package-option">
                    <input type="radio" name="coinPackage" id="package3" value="1000">
                    <label for="package3">
                      <div class="package-details">
                        <div class="coin-amount">1,000 Talent</div>
                        <div class="package-price">10,000</div>
                      </div>
                    </label>
                  </div>
                  <div class="package-option">
                    <input type="radio" name="coinPackage" id="package4" value="2000">
                    <label for="package4">
                      <div class="package-details">
                        <div class="coin-amount">2,000 Talent</div>
                        <div class="package-price">20,000</div>
                      </div>
                    </label>
                  </div>
                </div>
              </div>
              
              <div class="custom-amount">
                <h4>Or Enter Custom Amount</h4>
                <div class="custom-coin-input">
                  <input type="number" id="custom-coin-amount" placeholder="Enter Talent amount">
                  <div class="estimated-price">Estimated Price: <span id="estimatedPrice">0</span></div>
                </div>
              </div>
              
              <p class="conversion-rate">1 Talent = 10</p>
              
              <button class="primary-button" id="proceedToPaymentBtn">Proceed to Payment</button>
            </div>
            
            <!-- Step 2: Payment Details -->
            <div class="buy-step hidden" id="buyStep2">
              <div class="payment-instructions">
                <h4>Transfer Instructions</h4>
                <p>Please transfer the exact amount to the account below:</p>
                
                <div class="merchant-account-details">
                  <div class="bank-info">
                    <span class="bank-label">Bank Name:</span>
                    <span class="bank-value" id="merchantBankName">PalmPay</span>
                  </div>
                  <div class="account-info">
                    <span class="account-label">Account Number:</span>
                    <span class="account-value" id="merchantAccountNumber">1234567890</span>
                    <button class="copy-btn" id="copyAccountNumber">
                      <i class="fas fa-copy"></i>
                    </button>
                  </div>
                  <div class="account-info">
                    <span class="account-label">Account Name:</span>
                    <span class="account-value" id="merchantAccountName">COMPANY NAME LTD</span>
                  </div>
                  <div class="account-info">
                    <span class="account-label">Amount:</span>
                    <span class="account-value" id="paymentAmount">0.00</span>
                  </div>
                </div>
                
                <div class="important-notice">
                  <i class="fas fa-exclamation-circle"></i>
                  <p>Important: Transfer the exact amount to avoid verification issues.</p>
                </div>
              </div>
              
              <button class="secondary-button" id="backToAmountBtn">Back</button>
              <button class="primary-button" id="iHavePaidBtn">I Have Paid</button>
            </div>
            
            <!-- Step 3: Payment Confirmation -->
            <div class="buy-step hidden" id="buyStep3">
              <h4>Confirm Your Payment</h4>
              <p>Please provide the details of the account you used for the payment:</p>
              
              <div class="form-group">
                <label for="senderAccountName">Account Name Used</label>
                <input type="text" id="senderAccountName" placeholder="Enter the account name you used">
              </div>
              
              <div class="form-group">
                <label for="senderAccountNumber">Account Number Used</label>
                <input type="text" id="senderAccountNumber" placeholder="Enter the account number you used">
              </div>
              
              <div class="form-group">
                <label for="transferReference">Transfer Reference/Narration (Optional)</label>
                <input type="text" id="transferReference" placeholder="Enter transfer reference if any">
              </div>
              
              <div class="verification-notice">
                <p>Your payment will be verified within 5 minutes to 5 hours. The Talent coins will appear in your wallet as "Pending" until verification is complete.</p>
              </div>
              
              <button class="secondary-button" id="backToPaymentBtn">Back</button>
              <button class="primary-button" id="confirmPaymentBtn">Confirm Payment</button>
            </div>
            
            <!-- Step 4: Success Message -->
            <div class="buy-step hidden" id="buyStep4">
              <div class="success-message">
                <div class="status-icon pending">
                  <i class="fas fa-clock"></i>
                </div>
                <h3>Payment Request Received</h3>
                <p>Your payment of <span id="paymentAmountConfirm">0.00</span> for <span id="talentAmountConfirm">0</span> Talent coins is pending verification.</p>
                <div class="verification-info">
                  <p>The Talent coins will appear in your wallet as "Pending" until our team verifies your payment. This typically takes 5 minutes to 5 hours.</p>
                </div>
              </div>
              <button class="primary-button" id="buyDoneBtn">Done</button>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Transaction Details Modal -->
      <div class="modal" id="transaction-details-modal">
        <div class="modal-content">
          <div class="modal-header">
            <h2>Transaction Details</h2>
            <button class="close-modal">&times;</button>
          </div>
          <div class="modal-body">
            <div class="transaction-status">
              <div class="status-icon" id="transaction-status-icon">
                <i class="fas fa-check-circle"></i>
              </div>
              <div class="status-text" id="transaction-status-text">Successful</div>
            </div>
            <div class="transaction-details">
              <div class="detail-item">
                <span class="detail-label">Transaction ID</span>
                <span class="detail-value" id="transaction-id">TRX123456789</span>
              </div>
              <div class="detail-item">
                <span class="detail-label">Date & Time</span>
                <span class="detail-value" id="transaction-date">May 15, 2023 | 10:30 AM</span>
              </div>
              <div class="detail-item">
                <span class="detail-label">Type</span>
                <span class="detail-value" id="transaction-type">Deposit</span>
              </div>
              <div class="detail-item">
                <span class="detail-label">Amount</span>
                <span class="detail-value" id="transaction-amount">5,000</span>
              </div>
              <div class="detail-item" id="transaction-coins-container">
                <span class="detail-label">Coins</span>
                <span class="detail-value" id="transaction-coins">500 Coins</span>
              </div>
              <div class="detail-item" id="transaction-recipient-container">
                <span class="detail-label">Recipient</span>
                <span class="detail-value" id="transaction-recipient">@username</span>
              </div>
              <div class="detail-item" id="transaction-note-container">
                <span class="detail-label">Note</span>
                <span class="detail-value" id="transaction-note">Payment for services</span>
              </div>
            </div>
            <button class="secondary-button" id="download-receipt-btn">
              <i class="fas fa-download"></i> Download Receipt
            </button>
          </div>
        </div>
      </div>
  
      <!-- Success/Error Toast -->
      <div class="toast" id="toast">
        <div class="toast-icon">
          <i class="fas fa-check-circle"></i>
        </div>
        <div class="toast-message">Operation successful!</div>
      </div>
  
      <!-- Loading Overlay -->
      <div class="loading-overlay" id="loading-overlay">
        <div class="spinner"></div>
        <div class="loading-text">Processing...</div>
      </div>
    </div>
  
  
                            

   
    <!-- Firebase SDK scripts -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-analytics-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    
    <script>
// Firebase configuration
const firebaseConfig = {
    apiKey: "AIzaSyBm9PmWgTKGKlzZ1xrJwhUXd93bCClSrEE",
    authDomain: "billsandmallng.firebaseapp.com",
    projectId: "billsandmallng",
    storageBucket: "billsandmallng.firebasestorage.app",
    messagingSenderId: "242278413301",
    appId: "1:242278413301:web:fad95e8c553a18b8e2a6bc",
    measurementId: "G-8GEQEC5SXQ"
};

// Initialize Firebase
firebase.initializeApp(firebaseConfig);
const auth = firebase.auth();
const analytics = firebase.analytics();

document.addEventListener('DOMContentLoaded', () => {
    // DOM Elements
    
const loginForm = document.getElementById('loginForm');
const signupForm = document.getElementById('signupForm');
const showSignup = document.getElementById('showSignup');
const showLogin = document.getElementById('showLogin');
    const passwordInputs = document.querySelectorAll('.password-input input');
    const togglePasswordBtns = document.querySelectorAll('.toggle-password');
    const strengthMeter = document.querySelector('.strength-meter');
    const strengthText = document.querySelector('.strength-text');
    const dashboard = document.getElementById('dashboard');
    const container = document.querySelector('.container');
    const googleButtons = document.querySelectorAll('.google-btn');

    // Tab Elements
    const tabs = document.querySelectorAll('.tab');
    const tabContents = document.querySelectorAll('.tab-content');

    // Modal Elements
    const seeAllBtn = document.getElementById('seeAllBtn');
    const leaderboardModal = document.getElementById('leaderboardModal');
    const closeLeaderboardModal = document.getElementById('closeLeaderboardModal');

    // Menu Elements
    const menuBtn = document.getElementById('menuBtn');
    const menuOverlay = document.getElementById('menuOverlay');
    const closeMenu = document.getElementById('closeMenu');
    const logoutBtn = document.getElementById('logoutBtn');

    // Hide dashboard by default
    if (dashboard) {
        dashboard.style.display = 'none';
    }

    // Show toast notification
    function showToast(message, type) {
        // Remove existing toast if any
        const existingToast = document.querySelector('.toast');
        if (existingToast) {
            existingToast.remove();
        }
        
        // Create new toast
        const toast = document.createElement('div');
        toast.className = `toast ${type}`;
        toast.textContent = message;
        document.body.appendChild(toast);
        
        // Show toast
        setTimeout(() => {
            toast.classList.add('visible');
        }, 10);
        
        // Hide toast after 3 seconds
        setTimeout(() => {
            toast.classList.remove('visible');
            setTimeout(() => {
                toast.remove();
            }, 300);
        }, 3000);
    }

    if (showSignup) {
    showSignup.addEventListener('click', (e) => {
        e.preventDefault();
        loginForm.classList.add('hidden');
        signupForm.classList.remove('hidden');
    });
}

if (showLogin) {
    showLogin.addEventListener('click', (e) => {
        e.preventDefault();
        signupForm.classList.add('hidden');
        loginForm.classList.remove('hidden');
    });
}
document.addEventListener('DOMContentLoaded', () => {
    // Get the password input
    const passwordInput = document.getElementById('signupPassword');
    
    // Only proceed if we found the password input
    if (passwordInput) {
        // Get the strength elements
        const strengthSegments = document.querySelectorAll('.strength-segment');
        const strengthText = document.querySelector('.strength-text');
        
        // Add the input event listener
        passwordInput.addEventListener('input', function() {
            const password = this.value;
            
            // Reset all segments first
            strengthSegments.forEach(segment => {
                segment.classList.remove('weak', 'medium', 'strong');
            });
            
            // If password is empty, reset and return
            if (password.length === 0) {
                strengthText.textContent = 'Password strength';
                strengthText.style.color = '';
                return;
            }
            
            // Calculate password strength
            let strength = 0;
            
            // Length check
            if (password.length >= 8) strength += 1;
            
            // Contains lowercase
            if (/[a-z]/.test(password)) strength += 1;
            
            // Contains uppercase
            if (/[A-Z]/.test(password)) strength += 1;
            
            // Contains number
            if (/[0-9]/.test(password)) strength += 1;
            
            // Contains special character
            if (/[^a-zA-Z0-9]/.test(password)) strength += 1;
            
            console.log('Password strength score:', strength); // Debug output
            
            // Update UI based on strength
            if (strength <= 2) {
                // Weak password
                strengthSegments[0].classList.add('weak');
                strengthText.textContent = 'Weak';
                strengthText.style.color = '#f44336'; // Red
            } else if (strength <= 4) {
                // Medium password
                strengthSegments[0].classList.add('medium');
                strengthSegments[1].classList.add('medium');
                strengthText.textContent = 'Medium';
                strengthText.style.color = '#f39c12'; // Orange
            } else {
                // Strong password
                strengthSegments.forEach(segment => {
                    segment.classList.add('strong');
                });
                strengthText.textContent = 'Strong';
                strengthText.style.color = '#4caf50'; // Green
            }
        });
    } else {
        console.error('Password input element not found');
    }
    
    // Toggle password visibility
    const toggleButtons = document.querySelectorAll('.toggle-password');
    toggleButtons.forEach(button => {
        button.addEventListener('click', function() {
            const passwordInput = this.closest('.password-input').querySelector('input');
            if (passwordInput) {
                // Toggle between password and text
                const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
                passwordInput.setAttribute('type', type);
                
                // Toggle the icon
                this.classList.toggle('fa-eye');
                this.classList.toggle('fa-eye-slash');
            }
        });
    });
});


    // Handle Google Sign In
    if (googleButtons) {
        googleButtons.forEach(button => {
            button.addEventListener('click', () => {
                const provider = new firebase.auth.GoogleAuthProvider();
                
                auth.signInWithPopup(provider)
                    .then((result) => {
                        // This gives you a Google Access Token
                        const user = result.user;
                        
                        showToast('Successfully signed in with Google!', 'success');
                        
                        // Show dashboard
                        if (container) container.style.display = 'none';
                        if (dashboard) dashboard.style.display = 'block';
                        
                        // Set user initial in profile button
                        if (user.email) {
                            const initial = user.email.charAt(0).toUpperCase();
                            document.getElementById('profileInitial').textContent = initial;
                        }
                    })
                    .catch((error) => {
                        const errorMessage = error.message;
                        showToast(errorMessage, 'error');
                    });
            });
        });
    }
// Form submission with Firebase
const loginFormElement = document.getElementById('loginFormElement');
const signupFormElement = document.getElementById('signupFormElement');

if (loginFormElement) {
    loginFormElement.addEventListener('submit', (e) => {
        e.preventDefault();
        
        const email = document.getElementById('loginEmail').value;
        const password = document.getElementById('loginPassword').value;
        const submitBtn = loginFormElement.querySelector('.auth-btn');
        
        // Show loading state
        submitBtn.innerHTML = 'Logging in... <span class="loading-spinner"></span>';
        submitBtn.disabled = true;
        
        auth.signInWithEmailAndPassword(email, password)
            .then((userCredential) => {
                // Signed in 
                const user = userCredential.user;
                
                showToast('Successfully signed in!', 'success');
                
                // Hide auth container and show dashboard
                container.style.display = 'none';
                dashboard.style.display = 'block';
                
                // Set user initial in profile button
                const initial = email.charAt(0).toUpperCase();
                document.getElementById('profileInitial').textContent = initial;
                
                // Reset form
                loginFormElement.reset();
                submitBtn.innerHTML = 'Sign In';
                submitBtn.disabled = false;
            })
            .catch((error) => {
                const errorMessage = error.message;
                showToast(errorMessage, 'error');
                
                // Remove loading state
                submitBtn.innerHTML = 'Sign In';
                submitBtn.disabled = false;
            });
    });
}

if (signupFormElement) {
    signupFormElement.addEventListener('submit', (e) => {
        e.preventDefault();
        
        const email = document.getElementById('signupEmail').value;
        const password = document.getElementById('signupPassword').value;
        const fullName = document.getElementById('fullName') ? document.getElementById('fullName').value : '';
        const userType = document.getElementById('userType') ? document.getElementById('userType').value : '';
        const termsAccepted = document.getElementById('terms') ? document.getElementById('terms').checked : true;
        
        const submitBtn = signupFormElement.querySelector('.auth-btn');
        
        if (document.getElementById('terms') && !termsAccepted) {
            showToast('Please accept the Terms of Service and Privacy Policy', 'error');
            return;
        }
        
        // Show loading state
        submitBtn.innerHTML = 'Creating account... <span class="loading-spinner"></span>';
        submitBtn.disabled = true;
        
        auth.createUserWithEmailAndPassword(email, password)
            .then((userCredential) => {
                // Signed up 
                const user = userCredential.user;
                
                // Update profile with full name if available
                if (fullName) {
                    return user.updateProfile({
                        displayName: fullName
                    }).then(() => {
                        showToast('Account created successfully!', 'success');
                        
                        // Hide auth container and show dashboard
                        container.style.display = 'none';
                        dashboard.style.display = 'block';
                        
                        // Set user initial in profile button
                        const initial = email.charAt(0).toUpperCase();
                        document.getElementById('profileInitial').textContent = initial;
                        
                        // Reset form
                        signupFormElement.reset();
                        submitBtn.innerHTML = 'Create Account';
                        submitBtn.disabled = false;
                    });
                } else {
                    showToast('Account created successfully!', 'success');
                    
                    // Hide auth container and show dashboard
                    container.style.display = 'none';
                    dashboard.style.display = 'block';
                    
                    // Set user initial in profile button
                    const initial = email.charAt(0).toUpperCase();
                    document.getElementById('profileInitial').textContent = initial;
                    
                    // Reset form
                    signupFormElement.reset();
                    submitBtn.innerHTML = 'Create Account';
                    submitBtn.disabled = false;
                }
            })
            .catch((error) => {
                const errorMessage = error.message;
                showToast(errorMessage, 'error');
                
                // Remove loading state
                submitBtn.innerHTML = 'Create Account';
                submitBtn.disabled = false;
            });
    });
}

// Check if user is already signed in
auth.onAuthStateChanged((user) => {
    if (user) {
        // User is signed in, show dashboard
        if (container) container.style.display = 'none';
        if (dashboard) dashboard.style.display = 'block';
        
        // Set user initial in profile button if dashboard is visible
        if (dashboard && dashboard.style.display !== 'none') {
            const initial = user.email ? user.email.charAt(0).toUpperCase() : 'U';
            if (document.getElementById('profileInitial')) {
                document.getElementById('profileInitial').textContent = initial;
            }
        }
    } else {
        // User is signed out, show auth container
        if (container) container.style.display = 'flex';
        if (dashboard) dashboard.style.display = 'none';
    }
});


// Forgot password functionality
const forgotPasswordLink = document.querySelector('.forgot-password');

if (forgotPasswordLink) {
    forgotPasswordLink.addEventListener('click', function(e) {
        e.preventDefault();
        
        // Create modal overlay
        const modalOverlay = document.createElement('div');
        modalOverlay.className = 'modal-overlay';
        
        // Create modal container
        const modalContainer = document.createElement('div');
        modalContainer.className = 'modal-container';
        
        // Create modal content
        modalContainer.innerHTML = `
            <div class="modal-header">
                <h3>Reset Password</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <p>Enter your email address and we'll send you a link to reset your password.</p>
                <form id="resetPasswordForm">
                    <div class="form-group">
                        <label for="resetEmail">Email</label>
                        <input type="email" id="resetEmail" placeholder="Enter your email" required>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="cancel-btn">Cancel</button>
                        <button type="submit" class="submit-btn">Send Reset Link</button>
                    </div>
                </form>
            </div>
        `;
        
        // Append modal to body
        modalOverlay.appendChild(modalContainer);
        document.body.appendChild(modalOverlay);
        
        // Show modal with animation
        setTimeout(() => {
            modalOverlay.classList.add('active');
        }, 10);
        
        // Focus on email input
        setTimeout(() => {
            document.getElementById('resetEmail').focus();
        }, 300);
        
        // Close modal function
        function closeModal() {
            modalOverlay.classList.remove('active');
            setTimeout(() => {
                modalOverlay.remove();
            }, 300);
        }
        
        // Close button event
        const closeButton = modalContainer.querySelector('.modal-close');
        if (closeButton) {
            closeButton.addEventListener('click', closeModal);
        }
        
        // Cancel button event
        const cancelButton = modalContainer.querySelector('.cancel-btn');
        if (cancelButton) {
            cancelButton.addEventListener('click', closeModal);
        }
        
        // Click outside to close
        modalOverlay.addEventListener('click', function(e) {
            if (e.target === modalOverlay) {
                closeModal();
            }
        });
        
        // Escape key to close
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape' && document.body.contains(modalOverlay)) {
                closeModal();
            }
        });
        
        // Handle form submission
        const resetForm = document.getElementById('resetPasswordForm');
        if (resetForm) {
            resetForm.addEventListener('submit', function(e) {
                e.preventDefault();
                
                const email = document.getElementById('resetEmail').value;
                const submitBtn = resetForm.querySelector('.submit-btn');
                
                // Show loading state
                submitBtn.innerHTML = 'Sending... <span class="loading-spinner"></span>';
                submitBtn.disabled = true;
                
                // Send password reset email
                firebase.auth().sendPasswordResetEmail(email)
                    .then(() => {
                        // Close modal
                        closeModal();
                        
                        // Show success message
                        showToast('Password reset email sent. Check your inbox.', 'success');
                    })
                    .catch((error) => {
                        // Get error code and message
                        const errorCode = error.code;
                        const errorMessage = error.message;
                        
                        // Provide user-friendly error messages
                        let userFriendlyMessage;
                        
                        switch (errorCode) {
                            case 'auth/invalid-email':
                                userFriendlyMessage = 'Please enter a valid email address.';
                                break;
                            case 'auth/user-not-found':
                                userFriendlyMessage = 'No account found with this email address.';
                                break;
                            case 'auth/too-many-requests':
                                userFriendlyMessage = 'Too many requests. Please try again later.';
                                break;
                            default:
                                userFriendlyMessage = errorMessage;
                        }
                        
                        // Show error message
                        const errorElement = document.createElement('div');
                        errorElement.className = 'form-error';
                        errorElement.textContent = userFriendlyMessage;
                        
                        // Remove any existing error messages
                        const existingError = resetForm.querySelector('.form-error');
                        if (existingError) {
                            existingError.remove();
                        }
                        
                        // Add error message to form
                        resetForm.insertBefore(errorElement, resetForm.querySelector('.form-actions'));
                        
                        // Log error for debugging
                        console.error('Password reset error:', error);
                    })
                    .finally(() => {
                        // Reset button state
                        submitBtn.innerHTML = 'Send Reset Link';
                        submitBtn.disabled = false;
                    });
            });
        }
    });
}

    // Tab functionality
    if (tabs) {
        tabs.forEach(tab => {
            tab.addEventListener('click', () => {
                // Remove active class from all tabs
                tabs.forEach(t => t.classList.remove('active'));
                
                // Add active class to clicked tab
                tab.classList.add('active');
                
                // Show corresponding tab content
                const tabId = tab.getAttribute('data-tab');
                tabContents.forEach(content => {
                    content.classList.remove('active');
                    if (content.id === `${tabId}Tab`) {
                        content.classList.add('active');
                    }
                });
            });
        });
    }


   

    // Menu functionality
    if (menuBtn) {
        menuBtn.addEventListener('click', () => {
            menuOverlay.classList.add('active');
            document.body.style.overflow = 'hidden'; // Prevent scrolling
        });
    }

    if (closeMenu) {
        closeMenu.addEventListener('click', () => {
            menuOverlay.classList.remove('active');
            document.body.style.overflow = ''; // Enable scrolling
        });
    }

    // Close menu when clicking outside
    if (menuOverlay) {
        menuOverlay.addEventListener('click', (e) => {
            if (e.target === menuOverlay) {
                menuOverlay.classList.remove('active');
                document.body.style.overflow = '';
            }
        });
    }

    // Logout functionality
    if (logoutBtn) {
        logoutBtn.addEventListener('click', () => {
            auth.signOut().then(() => {
                // Sign-out successful
                showToast('Successfully logged out', 'success');
                
                // Hide dashboard and show auth container
                if (dashboard) dashboard.style.display = 'none';
                if (container) container.style.display = 'flex';
                if (menuOverlay) menuOverlay.classList.remove('active');
                document.body.style.overflow = '';
                
                // Reset to login form
                if (registerContainer) registerContainer.classList.add('hidden');
                if (loginContainer) loginContainer.classList.remove('hidden');
            }).catch((error) => {
                // An error happened
                showToast('Error logging out: ' + error.message, 'error');
            });
        });
    }

        // Auto-scrolling sponsors and partners
        function setupAutoScroll() {
        const scrollContainers = document.querySelectorAll('.auto-scroll-container');
        
        scrollContainers.forEach(container => {
            const scrollContent = container.querySelector('.auto-scroll');
            if (scrollContent) {
                const scrollContentClone = scrollContent.cloneNode(true);
                container.appendChild(scrollContentClone);
            }
        });
    }

    // Initialize auto-scrolling
    setupAutoScroll();

    // Video player controls
    const playPauseBtn = document.querySelector('.play-pause-btn');
    if (playPauseBtn) {
        playPauseBtn.addEventListener('click', () => {
            const videoContainer = playPauseBtn.closest('.video-container');
            const video = videoContainer ? videoContainer.querySelector('video') : null;
            const icon = playPauseBtn.querySelector('i');
            
            if (video) {
                if (video.paused) {
                    video.play();
                    icon.classList.remove('fa-play');
                    icon.classList.add('fa-pause');
                } else {
                    video.pause();
                    icon.classList.remove('fa-pause');
                    icon.classList.add('fa-play');
                }
            } else {
                // For demo purposes if no actual video element
                icon.classList.toggle('fa-play');
                icon.classList.toggle('fa-pause');
            }
        });
    }

    // Volume control
    const volumeBtn = document.querySelector('.volume-btn');
    if (volumeBtn) {
        volumeBtn.addEventListener('click', () => {
            const videoContainer = volumeBtn.closest('.video-container');
            const video = videoContainer ? videoContainer.querySelector('video') : null;
            const icon = volumeBtn.querySelector('i');
            
            if (video) {
                if (video.muted) {
                    video.muted = false;
                    icon.classList.remove('fa-volume-mute');
                    icon.classList.add('fa-volume-up');
                } else {
                    video.muted = true;
                    icon.classList.remove('fa-volume-up');
                    icon.classList.add('fa-volume-mute');
                }
            } else {
                // For demo purposes if no actual video element
                icon.classList.toggle('fa-volume-mute');
                icon.classList.toggle('fa-volume-up');
            }
        });
    }

    // Fullscreen control
    const fullscreenBtn = document.querySelector('.fullscreen-btn');
    if (fullscreenBtn) {
        fullscreenBtn.addEventListener('click', () => {
            const videoContainer = fullscreenBtn.closest('.video-container');
            
            if (videoContainer) {
                if (!document.fullscreenElement) {
                    if (videoContainer.requestFullscreen) {
                        videoContainer.requestFullscreen();
                    } else if (videoContainer.webkitRequestFullscreen) { /* Safari */
                        videoContainer.webkitRequestFullscreen();
                    } else if (videoContainer.msRequestFullscreen) { /* IE11 */
                        videoContainer.msRequestFullscreen();
                    }
                } else {
                    if (document.exitFullscreen) {
                        document.exitFullscreen();
                    } else if (document.webkitExitFullscreen) { /* Safari */
                        document.webkitExitFullscreen();
                    } else if (document.msExitFullscreen) { /* IE11 */
                        document.msExitFullscreen();
                    }
                }
            }
        });
    }
      
               

    

       // Update timers periodically
    setInterval(updateTimers, 60000); // Update every minute
});


// Enhanced tab functionality with proper indicator movement
function setupTabs() {
    const tabsContainer = document.querySelector('.tabs');
    const tabs = document.querySelectorAll('.tab');
    const tabContents = document.querySelectorAll('.tab-content');
    
    if (!tabsContainer || !tabs.length) return;
    
    // Function to update the indicator position
    function updateIndicator() {
        const activeTab = document.querySelector('.tab.active');
        if (!activeTab) return;
        
        const index = Array.from(tabs).indexOf(activeTab);
        
        if (index === 1) {
            tabsContainer.classList.add('second-tab-active');
        } else {
            tabsContainer.classList.remove('second-tab-active');
        }
    }
    
    // Initialize indicator position
    updateIndicator();
    
    tabs.forEach(tab => {
        tab.addEventListener('click', () => {
            // Remove active class from all tabs
            tabs.forEach(t => t.classList.remove('active'));
            
            // Add active class to clicked tab
            tab.classList.add('active');
            
            // Update indicator position
            updateIndicator();
            
            // Show corresponding tab content
            const tabId = tab.getAttribute('data-tab');
            tabContents.forEach(content => {
                content.classList.remove('active');
                if (content.id === `${tabId}Tab`) {
                    content.classList.add('active');
                }
            });
        });
    });
    
    // Handle touch events for better mobile experience
    tabs.forEach(tab => {
        tab.addEventListener('touchstart', function() {
            this.classList.add('touch-active');
        }, { passive: true });
        
        tab.addEventListener('touchend', function() {
            this.classList.remove('touch-active');
        }, { passive: true });
    });
}

// Call the function when the DOM is loaded
document.addEventListener('DOMContentLoaded', setupTabs);
document.addEventListener('DOMContentLoaded', function() {
    // Ad Carousel functionality
    const carousel = document.querySelector('.ad-carousel-container');
    const dots = document.querySelectorAll('.carousel-dots .dot');
    const videoAds = document.querySelectorAll('.video-ad video');
    const muteButtons = document.querySelectorAll('.mute-btn');
    
    if (!carousel) return;
    
    let currentIndex = 0;
    const totalSlides = dots.length;
    let autoScrollInterval;
    
    // Function to update carousel position
    function updateCarousel(index) {
        // Update carousel position
        carousel.style.transform = `translateX(-${index * (100 / totalSlides)}%)`;
        
        // Update active dot
        dots.forEach(dot => dot.classList.remove('active'));
        dots[index].classList.add('active');
        
        // Pause all videos first
        videoAds.forEach(video => {
            video.pause();
        });
        
        // Play video if the current slide is a video ad
        const currentSlide = carousel.children[index];
        if (currentSlide.classList.contains('video-ad')) {
            const video = currentSlide.querySelector('video');
            if (video) {
                video.currentTime = 0;
                video.play();
            }
        }
    }
    
    // Initialize auto-scrolling
    function startAutoScroll() {
        autoScrollInterval = setInterval(() => {
            currentIndex = (currentIndex + 1) % totalSlides;
            updateCarousel(currentIndex);
        }, 5000); // Change slide every 5 seconds
    }
    
    // Start auto-scrolling
    startAutoScroll();
    
    // Handle dot clicks
    dots.forEach((dot, index) => {
        dot.addEventListener('click', () => {
            // Clear the interval and restart
            clearInterval(autoScrollInterval);
            
            currentIndex = index;
            updateCarousel(currentIndex);
            
            // Restart auto-scrolling
            startAutoScroll();
        });
    });
    
    // Handle mute/unmute for video ads
    muteButtons.forEach(button => {
        button.addEventListener('click', () => {
            const videoAd = button.closest('.video-ad');
            const video = videoAd.querySelector('video');
            const icon = button.querySelector('i');
            
            if (video) {
                video.muted = !video.muted;
                
                if (video.muted) {
                    icon.classList.remove('fa-volume-up');
                    icon.classList.add('fa-volume-mute');
                } else {
                    icon.classList.remove('fa-volume-mute');
                    icon.classList.add('fa-volume-up');
                }
            }
        });
    });
    
    // Pause auto-scrolling when hovering over the carousel
    carousel.addEventListener('mouseenter', () => {
        clearInterval(autoScrollInterval);
    });
    
    // Resume auto-scrolling when mouse leaves the carousel
    carousel.addEventListener('mouseleave', () => {
        clearInterval(autoScrollInterval);
        startAutoScroll();
    });
    
    // Initialize videos
    videoAds.forEach(video => {
        // Ensure videos start muted
        video.muted = true;
        
        // Preload videos
        video.load();
    });
});
// Menu functionality
function setupMenu() {
    const menuBtn = document.getElementById('menuBtn');
    const menuOverlay = document.getElementById('menuOverlay');
    const closeMenu = document.getElementById('closeMenu');
    const logoutBtn = document.getElementById('logoutBtn');
    
    if (!menuBtn || !menuOverlay || !closeMenu) return;
    
    // Open menu
    menuBtn.addEventListener('click', () => {
        menuOverlay.classList.add('active');
        document.body.classList.add('menu-open');
    });
    
    // Close menu
    function closeMenuPanel() {
        menuOverlay.classList.remove('active');
        document.body.classList.remove('menu-open');
    }
    
    closeMenu.addEventListener('click', closeMenuPanel);
    
    // Close menu when clicking on overlay
    menuOverlay.addEventListener('click', (e) => {
        if (e.target === menuOverlay) {
            closeMenuPanel();
        }
    });
    
    // Close menu with escape key
    document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape' && menuOverlay.classList.contains('active')) {
            closeMenuPanel();
        }
    });
    
    // Handle logout
    if (logoutBtn) {
        logoutBtn.addEventListener('click', () => {
            // First close the menu
            closeMenuPanel();
            
            // Then handle logout (using Firebase from previous code)
            if (typeof auth !== 'undefined' && auth.signOut) {
                auth.signOut().then(() => {
                    showToast('Logged out successfully', 'success');
                    // Hide dashboard and show auth container
                    const dashboard = document.getElementById('dashboard');
                    const authContainer = document.getElementById('authContainer');
                    
                    if (dashboard) dashboard.style.display = 'none';
                    if (authContainer) authContainer.style.display = 'flex';
                }).catch((error) => {
                    showToast('Error logging out: ' + error.message, 'error');
                });
            } else {
                // Fallback for demo purposes
                showToast('Logged out successfully', 'success');
                
                // Hide dashboard and show auth container
                const dashboard = document.getElementById('dashboard');
                const authContainer = document.getElementById('authContainer');
                
                if (dashboard) dashboard.style.display = 'none';
                if (authContainer) authContainer.style.display = 'flex';
            }
        });
    }
}

// Call the function when the DOM is loaded
document.addEventListener('DOMContentLoaded', setupMenu);

document.addEventListener('DOMContentLoaded', function() {
    // Get all modal elements
    const profileChangeModal = document.getElementById('profileChangeModal');
    const emailChangeModal = document.getElementById('emailChangeModal');
    const passwordChangeModal = document.getElementById('passwordChangeModal');
    const twoFactorModal = document.getElementById('twoFactorModal');
    const verificationCodeModal = document.getElementById('verificationCodeModal');
    
    // Get all modal close buttons
    const closeProfileModal = document.getElementById('closeProfileModal');
    const closeEmailModal = document.getElementById('closeEmailModal');
    const closePasswordModal = document.getElementById('closePasswordModal');
    const close2FAModal = document.getElementById('close2FAModal');
    const closeVerificationModal = document.getElementById('closeVerificationModal');
    
    // Get all modal trigger links
    const changeProfileLink = document.getElementById('changeProfileLink');
    const changeEmailLink = document.getElementById('changeEmailLink');
    const changePasswordLink = document.getElementById('changePasswordLink');
    const enable2FALink = document.getElementById('enable2FALink');
    
    // Get form elements
    const profileUpdateForm = document.getElementById('profileUpdateForm');
    const emailChangeForm = document.getElementById('emailChangeForm');
    const passwordChangeForm = document.getElementById('passwordChangeForm');
    const verificationForm = document.getElementById('verificationForm');
    
    // Get 2FA elements
    const twoFactorToggle = document.getElementById('twoFactorToggle');
    const twoFactorMethods = document.getElementById('twoFactorMethods');
    const emailVerificationSetup = document.getElementById('emailVerificationSetup');
    const authenticatorSetup = document.getElementById('authenticatorSetup');
    const emailMethod = document.getElementById('emailMethod');
    const authenticatorMethod = document.getElementById('authenticatorMethod');
    const setupEmailVerification = document.getElementById('setupEmailVerification');
    const verifyAuthenticatorCode = document.getElementById('verifyAuthenticatorCode');
    
    // Get verification code inputs
    const verificationInputs = document.querySelectorAll('.verification-input');
    const resendCodeBtn = document.getElementById('resendCodeBtn');
    const resendCountdown = document.getElementById('resendCountdown');
    
    // Function to show toast notifications
    function showToast(message, type = 'success') {
        // Remove existing toast if any
        const existingToast = document.querySelector('.toast');
        if (existingToast) {
            existingToast.remove();
        }
        
        // Create new toast
        const toast = document.createElement('div');
        toast.className = `toast ${type}`;
        
        // Add icon based on type
        const icon = document.createElement('i');
        icon.className = type === 'success' ? 'fas fa-check-circle' : 'fas fa-exclamation-circle';
        toast.appendChild(icon);
        
        // Add message
        const messageSpan = document.createElement('span');
        messageSpan.textContent = message;
        toast.appendChild(messageSpan);
        
        // Add to body
        document.body.appendChild(toast);
        
        // Show toast
        setTimeout(() => {
            toast.classList.add('show');
        }, 10);
        
        // Hide toast after 3 seconds
        setTimeout(() => {
            toast.classList.remove('show');
            setTimeout(() => {
                toast.remove();
            }, 300);
        }, 3000);
    }
    
    // Function to open modal
    function openModal(modal) {
        if (modal) {
            modal.classList.add('active');
            document.body.style.overflow = 'hidden';
        }
    }
    
    // Function to close modal
    function closeModal(modal) {
        if (modal) {
            modal.classList.remove('active');
            document.body.style.overflow = '';
        }
    }
    
    // Function to close all modals
    function closeAllModals() {
        closeModal(profileChangeModal);
        closeModal(emailChangeModal);
        closeModal(passwordChangeModal);
        closeModal(twoFactorModal);
        closeModal(verificationCodeModal);
    }
    
    // Close modal when clicking outside
    function setupModalOutsideClick(modal) {
        if (modal) {
            modal.addEventListener('click', function(e) {
                if (e.target === modal) {
                    closeModal(modal);
                }
            });
        }
    }
    
    // Setup outside click for all modals
    setupModalOutsideClick(profileChangeModal);
    setupModalOutsideClick(emailChangeModal);
    setupModalOutsideClick(passwordChangeModal);
    setupModalOutsideClick(twoFactorModal);
    setupModalOutsideClick(verificationCodeModal);
    
    // Close modals with escape key
    document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape') {
            closeAllModals();
        }
    });
    
    // Add click event listeners to close buttons
    if (closeProfileModal) closeProfileModal.addEventListener('click', () => closeModal(profileChangeModal));
    if (closeEmailModal) closeEmailModal.addEventListener('click', () => closeModal(emailChangeModal));
    if (closePasswordModal) closePasswordModal.addEventListener('click', () => closeModal(passwordChangeModal));
    if (close2FAModal) close2FAModal.addEventListener('click', () => closeModal(twoFactorModal));
    if (closeVerificationModal) closeVerificationModal.addEventListener('click', () => closeModal(verificationCodeModal));
    
    // Add click event listeners to modal trigger links
    if (changeProfileLink) {
        changeProfileLink.addEventListener('click', function(e) {
            e.preventDefault();
            
            // Close profile popup
            const profilePopup = document.getElementById('profilePopup');
            const overlay = document.querySelector('.profile-popup-overlay');
            if (profilePopup) profilePopup.classList.remove('active');
            if (overlay) overlay.classList.remove('active');
            
            // Populate form with current user data
            const displayNameInput = document.getElementById('displayName');
            const phoneNumberInput = document.getElementById('phoneNumber');
            
            if (displayNameInput) {
                // Get user data from localStorage or Firebase
                const userData = JSON.parse(localStorage.getItem('userData')) || {};
                displayNameInput.value = userData.displayName || '';
                
                if (phoneNumberInput) {
                    phoneNumberInput.value = userData.phoneNumber || '';
                }
            }
            
            openModal(profileChangeModal);
        });
    }
    
    if (changeEmailLink) {
        changeEmailLink.addEventListener('click', function(e) {
            e.preventDefault();
            
            // Close profile popup
            const profilePopup = document.getElementById('profilePopup');
            const overlay = document.querySelector('.profile-popup-overlay');
            if (profilePopup) profilePopup.classList.remove('active');
            if (overlay) overlay.classList.remove('active');
            
            // Populate form with current email
            const currentEmailInput = document.getElementById('currentEmail');
            
            if (currentEmailInput) {
                // Get user data from localStorage or Firebase
                const userData = JSON.parse(localStorage.getItem('userData')) || {};
                currentEmailInput.value = userData.email || 'john.doe@example.com';
            }
            
            openModal(emailChangeModal);
        });
    }
    
    if (changePasswordLink) {
        changePasswordLink.addEventListener('click', function(e) {
            e.preventDefault();
            
            // Close profile popup
            const profilePopup = document.getElementById('profilePopup');
            const overlay = document.querySelector('.profile-popup-overlay');
            if (profilePopup) profilePopup.classList.remove('active');
            if (overlay) overlay.classList.remove('active');
            
            openModal(passwordChangeModal);
        });
    }
    
    if (enable2FALink) {
        enable2FALink.addEventListener('click', function(e) {
            e.preventDefault();
            
            // Close profile popup
            const profilePopup = document.getElementById('profilePopup');
            const overlay = document.querySelector('.profile-popup-overlay');
            if (profilePopup) profilePopup.classList.remove('active');
            if (overlay) overlay.classList.remove('active');
            
            // Update 2FA email display
            const twoFactorEmail = document.getElementById('twoFactorEmail');
            if (twoFactorEmail) {
                const userData = JSON.parse(localStorage.getItem('userData')) || {};
                twoFactorEmail.textContent = userData.email || 'john.doe@example.com';
            }
            
            // Check if 2FA is already enabled
            const is2FAEnabled = localStorage.getItem('2FAEnabled') === 'true';
            if (twoFactorToggle) {
                twoFactorToggle.checked = is2FAEnabled;
                
                // Show/hide methods based on toggle state
                if (is2FAEnabled && twoFactorMethods) {
                    twoFactorMethods.style.display = 'block';
                    
                    // Show the appropriate setup section based on saved method
                    const savedMethod = localStorage.getItem('2FAMethod') || 'email';
                    if (savedMethod === 'email') {
                        emailMethod.checked = true;
                        if (emailVerificationSetup) emailVerificationSetup.style.display = 'block';
                        if (authenticatorSetup) authenticatorSetup.style.display = 'none';
                    } else {
                      
                        authenticatorMethod.checked = true;
                        if (emailVerificationSetup) emailVerificationSetup.style.display = 'none';
                        if (authenticatorSetup) authenticatorSetup.style.display = 'block';
                    }
                }
            }
            
            openModal(twoFactorModal);
        });
    }
    
    // Handle toggle password visibility
    const togglePasswordButtons = document.querySelectorAll('.toggle-password');
    togglePasswordButtons.forEach(button => {
        button.addEventListener('click', function() {
            const passwordInput = this.previousElementSibling;
            const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
            passwordInput.setAttribute('type', type);
            
            // Toggle icon
            const icon = this.querySelector('i');
            if (icon) {
                icon.className = type === 'password' ? 'fas fa-eye' : 'fas fa-eye-slash';
            }
        });
    });
    
    // Handle profile update form submission
    if (profileUpdateForm) {
        profileUpdateForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            const displayName = document.getElementById('displayName').value;
            const phoneNumber = document.getElementById('phoneNumber').value;
            
            // Validate inputs
            if (!displayName.trim()) {
                showToast('Please enter your display name', 'error');
                return;
            }
            
            // Simulate API call with timeout
            const submitButton = this.querySelector('button[type="submit"]');
            submitButton.disabled = true;
            submitButton.textContent = 'Updating...';
            
            setTimeout(() => {
                // Get existing user data or create new object
                const userData = JSON.parse(localStorage.getItem('userData')) || {};
                
                // Update user data
                userData.displayName = displayName;
                userData.phoneNumber = phoneNumber;
                
                // Save to localStorage (in a real app, you'd send to server)
                localStorage.setItem('userData', JSON.stringify(userData));
                
                // Update profile name in the header
                const profileName = document.getElementById('profileName');
                if (profileName) {
                    profileName.textContent = displayName;
                }
                
                // Show success message
                showToast('Profile updated successfully', 'success');
                
                // Close modal
                closeModal(profileChangeModal);
                
                // Reset button
                submitButton.disabled = false;
                submitButton.textContent = 'Update Profile';
            }, 1500);
        });
    }
    
    // Handle email change form submission
    if (emailChangeForm) {
        emailChangeForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            const currentEmail = document.getElementById('currentEmail').value;
            const newEmail = document.getElementById('newEmail').value;
            const currentPassword = document.getElementById('currentPassword').value;
            
            // Validate inputs
            if (!newEmail.trim()) {
                showToast('Please enter your new email address', 'error');
                return;
            }
            
            if (!currentPassword.trim()) {
                showToast('Please enter your current password', 'error');
                return;
            }
            
            // Validate email format
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!emailRegex.test(newEmail)) {
                showToast('Please enter a valid email address', 'error');
                return;
            }
            
            // Check if new email is different from current
            if (newEmail === currentEmail) {
                showToast('New email must be different from current email', 'error');
                return;
            }
            
            // Simulate password verification
            if (currentPassword !== 'password123') { // In a real app, this would be a server-side check
                showToast('Incorrect password', 'error');
                return;
            }
            
            // Simulate API call with timeout
            const submitButton = this.querySelector('button[type="submit"]');
            submitButton.disabled = true;
            submitButton.textContent = 'Sending...';
            
            setTimeout(() => {
                // Store the new email temporarily
                localStorage.setItem('pendingEmailChange', newEmail);
                
                // Update verification email display
                const verificationEmail = document.getElementById('verificationEmail');
                if (verificationEmail) {
                    verificationEmail.textContent = newEmail;
                }
                
                // Close email change modal and open verification modal
                closeModal(emailChangeModal);
                openModal(verificationCodeModal);
                
                // Reset button
                submitButton.disabled = false;
                submitButton.textContent = 'Send Verification Email';
                
                // Focus on first verification input
                if (verificationInputs.length > 0) {
                    verificationInputs[0].focus();
                }
                
                // Start countdown for resend button
                startResendCountdown();
            }, 1500);
        });
    }
    
    // Handle password change form submission
    if (passwordChangeForm) {
        const newPasswordInput = document.getElementById('newPassword');
        const strengthMeter = document.getElementById('strengthMeter');
        const strengthText = document.getElementById('strengthText');
        
        // Password strength checker
        if (newPasswordInput && strengthMeter && strengthText) {
            newPasswordInput.addEventListener('input', function() {
                const password = this.value;
                let strength = 0;
                let feedback = '';
                
                if (password.length >= 8) strength += 25;
                if (password.match(/[a-z]+/)) strength += 25;
                if (password.match(/[A-Z]+/)) strength += 25;
                if (password.match(/[0-9]+/) || password.match(/[^a-zA-Z0-9]+/)) strength += 25;
                
                // Update strength meter
                strengthMeter.style.width = strength + '%';
                
                // Set color based on strength
                if (strength <= 25) {
                    strengthMeter.style.backgroundColor = '#f44336';
                    feedback = 'Weak';
                } else if (strength <= 50) {
                    strengthMeter.style.backgroundColor = '#ff9800';
                    feedback = 'Fair';
                } else if (strength <= 75) {
                    strengthMeter.style.backgroundColor = '#ffc107';
                    feedback = 'Good';
                } else {
                    strengthMeter.style.backgroundColor = '#4caf50';
                    feedback = 'Strong';
                }
                
                strengthText.textContent = password ? `Password strength: ${feedback}` : 'Password strength';
            });
        }
        
        passwordChangeForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            const oldPassword = document.getElementById('oldPassword').value;
            const newPassword = document.getElementById('newPassword').value;
            const confirmNewPassword = document.getElementById('confirmNewPassword').value;
            
            // Validate inputs
            if (!oldPassword.trim() || !newPassword.trim() || !confirmNewPassword.trim()) {
                showToast('Please fill in all fields', 'error');
                return;
            }
            
            // Validate old password
            if (oldPassword !== 'password123') { // In a real app, this would be a server-side check
                showToast('Current password is incorrect', 'error');
                return;
            }
            
            // Check password strength
            if (newPassword.length < 8) {
                showToast('Password must be at least 8 characters long', 'error');
                return;
            }
            
            // Check if passwords match
            if (newPassword !== confirmNewPassword) {
                showToast('New passwords do not match', 'error');
                return;
            }
            
            // Simulate API call with timeout
            const submitButton = this.querySelector('button[type="submit"]');
            submitButton.disabled = true;
            submitButton.textContent = 'Updating...';
            
            setTimeout(() => {
                // In a real app, you'd update the password on the server
                
                // Show success message
                showToast('Password updated successfully', 'success');
                
                // Close modal
                closeModal(passwordChangeModal);
                
                // Reset form
                passwordChangeForm.reset();
                if (strengthMeter) strengthMeter.style.width = '0%';
                if (strengthText) strengthText.textContent = 'Password strength';
                
                // Reset button
                submitButton.disabled = false;
                submitButton.textContent = 'Update Password';
            }, 1500);
        });
    }
    
    // Handle 2FA toggle
    if (twoFactorToggle) {
        twoFactorToggle.addEventListener('change', function() {
            if (this.checked) {
                // Show 2FA methods
                if (twoFactorMethods) twoFactorMethods.style.display = 'block';
                
                // Show default method (email)
                if (emailMethod && emailMethod.checked) {
                    if (emailVerificationSetup) emailVerificationSetup.style.display = 'block';
                    if (authenticatorSetup) authenticatorSetup.style.display = 'none';
                } else if (authenticatorMethod && authenticatorMethod.checked) {
                    if (emailVerificationSetup) emailVerificationSetup.style.display = 'none';
                    if (authenticatorSetup) authenticatorSetup.style.display = 'block';
                    generateQRCode();
                }
            } else {
                // Hide 2FA methods and setup sections
                if (twoFactorMethods) twoFactorMethods.style.display = 'none';
                if (emailVerificationSetup) emailVerificationSetup.style.display = 'none';
                if (authenticatorSetup) authenticatorSetup.style.display = 'none';
                
                // Disable 2FA in localStorage
                localStorage.setItem('2FAEnabled', 'false');
                localStorage.removeItem('2FAMethod');
                
                showToast('Two-factor authentication disabled', 'success');
            }
        });
    }
    
    // Handle 2FA method selection
    if (emailMethod) {
        emailMethod.addEventListener('change', function() {
            if (this.checked) {
                if (emailVerificationSetup) emailVerificationSetup.style.display = 'block';
                if (authenticatorSetup) authenticatorSetup.style.display = 'none';
            }
        });
    }
    
    if (authenticatorMethod) {
        authenticatorMethod.addEventListener('change', function() {
            if (this.checked) {
                if (emailVerificationSetup) emailVerificationSetup.style.display = 'none';
                if (authenticatorSetup) authenticatorSetup.style.display = 'block';
                generateQRCode();
            }
        });
    }
    
    // Function to generate QR code for authenticator app
    function generateQRCode() {
        const qrCodeContainer = document.getElementById('qrCodeContainer');
        const secretKey = document.getElementById('secretKey');
        
        if (qrCodeContainer && secretKey) {
            // In a real app, you'd generate this on the server
            const fakeSecretKey = 'ABCD EFGH IJKL MNOP';
            secretKey.textContent = fakeSecretKey;
            
            // Clear previous QR code
            qrCodeContainer.innerHTML = '';
            
            // Create a fake QR code (in a real app, use a QR code library)
            const qrImg = document.createElement('img');
            qrImg.src = 'https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=otpauth://totp/Example:user@example.com?secret=' + fakeSecretKey.replace(/\s/g, '') + '&issuer=Example';
            qrImg.alt = 'QR Code for Authenticator App';
            qrCodeContainer.appendChild(qrImg);
        }
    }
    
    // Handle email verification setup
    if (setupEmailVerification) {
        setupEmailVerification.addEventListener('click', function() {
            // Simulate API call
            this.disabled = true;
            this.textContent = 'Sending verification...';
            
            setTimeout(() => {
                // Enable 2FA in localStorage
                localStorage.setItem('2FAEnabled', 'true');
                localStorage.setItem('2FAMethod', 'email');
                
                // Show success message
                showToast('Email verification enabled successfully', 'success');
                
                // Close modal
                closeModal(twoFactorModal);
                
                // Reset button
                this.disabled = false;
                this.textContent = 'Enable Email Verification';
            }, 1500);
        });
    }
    
    // Handle authenticator verification
    if (verifyAuthenticatorCode) {
        verifyAuthenticatorCode.addEventListener('click', function() {
            const verificationCode = document.getElementById('verificationCode').value;
            
            // Validate code
            if (!verificationCode || verificationCode.length !== 6 || !/^\d+$/.test(verificationCode)) {
                showToast('Please enter a valid 6-digit code', 'error');
                return;
            }
            
            // Simulate verification (in a real app, verify on server)
            this.disabled = true;
            this.textContent = 'Verifying...';
            
            setTimeout(() => {
                // For demo, we'll accept any 6-digit code
                // Enable 2FA in localStorage
                localStorage.setItem('2FAEnabled', 'true');
                localStorage.setItem('2FAMethod', 'authenticator');
                
                // Show success message
                showToast('Authenticator app verified and enabled', 'success');
                
                // Close modal
                closeModal(twoFactorModal);
                
                // Reset button and input
                this.disabled = false;
                this.textContent = 'Verify & Enable';
                document.getElementById('verificationCode').value = '';
            }, 1500);
        });
    }
    
    // Handle verification code inputs
    if (verificationInputs.length > 0) {
        // Auto-focus next input when typing
        verificationInputs.forEach((input, index) => {
            input.addEventListener('input', function() {
                if (this.value.length === this.maxLength) {
                    // Move to next input
                    if (index < verificationInputs.length - 1) {
                        verificationInputs[index + 1].focus();
                    }
                }
            });
            
            // Handle backspace to go to previous input
            input.addEventListener('keydown', function(e) {
                if (e.key === 'Backspace' && this.value.length === 0 && index > 0) {
                    verificationInputs[index - 1].focus();
                }
            });
        });
    }
    
    // Handle verification form submission
    if (verificationForm) {
        verificationForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Get verification code
            let verificationCode = '';
            verificationInputs.forEach(input => {
                verificationCode += input.value;
            });
            
            // Validate code
            if (verificationCode.length !== 6 || !/^\d+$/.test(verificationCode)) {
                showToast('Please enter a valid verification code', 'error');
                return;
            }
            
            // Simulate verification (in a real app, verify on server)
            const submitButton = this.querySelector('button[type="submit"]');
            submitButton.disabled = true;
            submitButton.textContent = 'Verifying...';
            
            setTimeout(() => {
                // For demo, we'll accept any 6-digit code
                const pendingEmail = localStorage.getItem('pendingEmailChange');
                
                if (pendingEmail) {
                    // Get existing user data or create new object
                    const userData = JSON.parse(localStorage.getItem('userData')) || {};
                    
                    // Update email
                    userData.email = pendingEmail;
                    
                    // Save to localStorage (in a real app, you'd update on server)
                    localStorage.setItem('userData', JSON.stringify(userData));
                    
                    // Clear pending email
                    localStorage.removeItem('pendingEmailChange');
                    
                    // Update profile email in the header
                    const profileEmail = document.getElementById('profileEmail');
                    if (profileEmail) {
                        profileEmail.textContent = pendingEmail;
                    }
                    
                    // Show success message
                    showToast('Email updated successfully', 'success');
                }
                
                // Close modal
                closeModal(verificationCodeModal);
                
                // Reset form and button
                verificationForm.reset();
                submitButton.disabled = false;
                submitButton.textContent = 'Verify';
            }, 1500);
        });
    }
    
    // Handle resend code button
    if (resendCodeBtn) {
        resendCodeBtn.addEventListener('click', function() {
            if (this.disabled) return;
            
            // Disable button and start countdown
            this.disabled = true;
            startResendCountdown();
            
            // Simulate sending new code
            showToast('Verification code resent', 'success');
        });
    }
    
    // Function to start countdown for resend button
    function startResendCountdown() {
        if (!resendCodeBtn || !resendCountdown) return;
        
        let countdown = 60;
        resendCodeBtn.disabled = true;
        
        // Display initial countdown
        resendCountdown.textContent = `(${countdown}s)`;
        
        // Start interval
        const interval = setInterval(() => {
            countdown--;
            
            if (countdown <= 0) {
                clearInterval(interval);
                resendCodeBtn.disabled = false;
                resendCountdown.textContent = '';
            } else {
                resendCountdown.textContent = `(${countdown}s)`;
            }
        }, 1000);
    }
    
    // Initialize user data if not exists
    if (!localStorage.getItem('userData')) {
        const defaultUserData = {
            displayName: 'John Doe',
            email: 'john.doe@example.com',
            phoneNumber: ''
        };
        
        localStorage.setItem('userData', JSON.stringify(defaultUserData));
    }
    
    // Update profile display with user data
    function updateProfileDisplay() {
        const userData = JSON.parse(localStorage.getItem('userData')) || {};
        
        // Update profile name
        const profileName = document.getElementById('profileName');
        if (profileName) {
            profileName.textContent = userData.displayName || 'John Doe';
        }
        
        // Update profile email
        const profileEmail = document.getElementById('profileEmail');
        if (profileEmail) {
            profileEmail.textContent = userData.email || 'john.doe@example.com';
        }
        
        // Update profile initial
        const profileInitial = document.getElementById('profileInitial');
        const popupProfileInitial = document.getElementById('popupProfileInitial');
        
        const initial = userData.displayName ? userData.displayName.charAt(0).toUpperCase() : 'J';
        
        if (profileInitial) profileInitial.textContent = initial;
        if (popupProfileInitial) popupProfileInitial.textContent = initial;
    }
    
    // Call the function to update profile display
    updateProfileDisplay();
});

document.addEventListener('DOMContentLoaded', function() {
    // Get DOM elements
    const profileBtn = document.getElementById('profileBtn');
    const profilePopup = document.getElementById('profilePopup');
    const profileInitial = document.getElementById('profileInitial');
    const popupProfileInitial = document.getElementById('popupProfileInitial');
    const avatarUpload = document.getElementById('avatarUpload');
    const profileAvatarContainer = document.getElementById('profileAvatarContainer');
    const logoutBtn = document.getElementById('profileLogoutBtn');
    const profileName = document.getElementById('profileName');
    const profileEmail = document.getElementById('profileEmail');
    
    // Early return if critical elements are missing
    if (!profileBtn || !profilePopup) {
        console.error('Profile button or popup not found!');
        return;
    }
    
    // Create overlay for clicking outside to close
    const overlay = document.createElement('div');
    overlay.className = 'profile-popup-overlay';
    document.body.appendChild(overlay);
    
    // Function to show toast notifications
    function showToast(message, type = 'success') {
        // Remove existing toast if any
        const existingToast = document.querySelector('.toast');
        if (existingToast) {
            existingToast.remove();
        }
        
        // Create new toast
        const toast = document.createElement('div');
        toast.className = `toast ${type}`;
        
        // Add icon based on type
        const icon = document.createElement('i');
        icon.className = type === 'success' ? 'fas fa-check-circle' : 
                         type === 'error' ? 'fas fa-exclamation-circle' :
                         type === 'warning' ? 'fas fa-exclamation-triangle' : 'fas fa-info-circle';
        toast.appendChild(icon);
        
        // Add message
        const messageSpan = document.createElement('span');
        messageSpan.textContent = message;
        toast.appendChild(messageSpan);
        
        // Add close button
        const closeBtn = document.createElement('button');
        closeBtn.innerHTML = '&times;';
        closeBtn.className = 'toast-close';
        closeBtn.addEventListener('click', () => {
            toast.classList.remove('show');
            setTimeout(() => toast.remove(), 300);
        });
        toast.appendChild(closeBtn);
        
        // Add to body
        document.body.appendChild(toast);
        
        // Show toast
        setTimeout(() => {
            toast.classList.add('show');
        }, 10);
        
        // Hide toast after 3 seconds
        setTimeout(() => {
            if (document.body.contains(toast)) {
                toast.classList.remove('show');
                setTimeout(() => {
                    if (document.body.contains(toast)) {
                        toast.remove();
                    }
                }, 300);
            }
        }, 3000);
    }
    
    // Function to update user profile information
    function updateProfileInfo(user) {
        if (!user) return;
        
        // Update profile initials
        const initial = user.displayName ? 
            user.displayName.charAt(0).toUpperCase() : 
            user.email.charAt(0).toUpperCase();
            
        if (profileInitial) profileInitial.textContent = initial;
        if (popupProfileInitial) popupProfileInitial.textContent = initial;
        
        // Update profile name and email
        if (profileName) {
            profileName.textContent = user.displayName || 'User';
            
            // If no display name, show a message encouraging the user to set one
            if (!user.displayName && user.email) {
                const setNameLink = document.createElement('a');
                setNameLink.href = '#';
                setNameLink.textContent = 'Set display name';
                setNameLink.className = 'set-name-link';
                setNameLink.addEventListener('click', function(e) {
                    e.preventDefault();
                    promptForDisplayName(user);
                });
                
                profileName.innerHTML = '';
                profileName.appendChild(document.createTextNode('User '));
                profileName.appendChild(setNameLink);
            }
        }
        
        if (profileEmail) {
            profileEmail.textContent = user.email || 'No email provided';
        }
    }
    
    // Function to prompt user to set display name
    function promptForDisplayName(user) {
        const newName = prompt('Please enter your display name:', '');
        
        if (newName !== null && newName.trim() !== '') {
            // Show loading state
            if (profileName) profileName.innerHTML = `<span class="loading-text">Updating...</span>`;
            
            // Update Firebase profile
            user.updateProfile({
                displayName: newName.trim()
            }).then(() => {
                // Update UI
                if (profileName) profileName.textContent = newName.trim();
                
                // Update initials
                const initial = newName.trim().charAt(0).toUpperCase();
                if (profileInitial) profileInitial.textContent = initial;
                if (popupProfileInitial) popupProfileInitial.textContent = initial;
                
                showToast('Display name updated successfully', 'success');
            }).catch(error => {
                console.error('Error updating display name:', error);
                showToast('Failed to update display name', 'error');
                
                // Reset UI
                if (profileName) {
                    const setNameLink = document.createElement('a');
                    setNameLink.href = '#';
                    setNameLink.textContent = 'Set display name';
                    setNameLink.className = 'set-name-link';
                    setNameLink.addEventListener('click', function(e) {
                        e.preventDefault();
                        promptForDisplayName(user);
                    });
                    
                    profileName.innerHTML = '';
                    profileName.appendChild(document.createTextNode('User '));
                    profileName.appendChild(setNameLink);
                }
            });
        }
    }
    
    // Function to update profile image in both header and popup
    function updateProfileImage(imageUrl) {
        try {
            // Create img elements
            const profileImg = document.createElement('img');
            profileImg.src = imageUrl;
            profileImg.alt = 'Profile';
            profileImg.className = 'profile-avatar-img';
            
            const popupProfileImg = document.createElement('img');
            popupProfileImg.src = imageUrl;
            popupProfileImg.alt = 'Profile';
            popupProfileImg.className = 'popup-avatar-img';
            
            // Update header profile button
            if (profileBtn) {
                // Remove existing image if any
                const existingImg = profileBtn.querySelector('img');
                if (existingImg) {
                    existingImg.remove();
                }
                
                if (profileInitial) {
                    profileInitial.style.display = 'none';
                }
                profileBtn.appendChild(profileImg);
            }
            
            // Update popup profile avatar
            if (profileAvatarContainer) {
                // Remove existing image if any
                const existingImg = profileAvatarContainer.querySelector('img');
                if (existingImg) {
                    existingImg.remove();
                }
                
                if (popupProfileInitial) {
                    popupProfileInitial.style.display = 'none';
                }
                
                // Insert before the upload button
                const uploadElement = profileAvatarContainer.querySelector('.avatar-upload');
                if (uploadElement) {
                    profileAvatarContainer.insertBefore(popupProfileImg, uploadElement);
                } else {
                    profileAvatarContainer.appendChild(popupProfileImg);
                }
            }
            
            // Save to localStorage for persistence
            localStorage.setItem('userProfileImage', imageUrl);
            
            // Update remove button visibility
            updateRemoveButtonVisibility();
        } catch (error) {
            console.error('Error updating profile image:', error);
            showToast('Failed to update profile image', 'error');
        }
    }
    
    // Function to reset profile image to initials
    function resetProfileImage() {
        try {
            // Remove images
            const headerImg = profileBtn.querySelector('img');
            if (headerImg) headerImg.remove();
            
            const popupImg = profileAvatarContainer.querySelector('img');
            if (popupImg) popupImg.remove();
            
            // Show initials
            if (profileInitial) profileInitial.style.display = 'flex';
            if (popupProfileInitial) popupProfileInitial.style.display = 'flex';
            
            // Clear from localStorage
            localStorage.removeItem('userProfileImage');
            
            // Update remove button visibility
            updateRemoveButtonVisibility();
        } catch (error) {
            console.error('Error resetting profile image:', error);
        }
    }
    
    // Add remove profile image button
    const removeImageBtn = document.createElement('button');
    removeImageBtn.className = 'remove-avatar-btn';
    removeImageBtn.innerHTML = '<i class="fas fa-trash"></i>';
    removeImageBtn.title = 'Remove profile image';
    removeImageBtn.style.display = 'none'; // Hide initially
    
    if (profileAvatarContainer) {
        profileAvatarContainer.appendChild(removeImageBtn);
    }
    
    // Function to update remove button visibility
    function updateRemoveButtonVisibility() {
        if (!removeImageBtn || !profileAvatarContainer) return;
        
        const hasImage = profileAvatarContainer.querySelector('img') !== null;
        removeImageBtn.style.display = hasImage ? 'block' : 'none';
    }
    
    // Handle remove image button click
    if (removeImageBtn) {
        removeImageBtn.addEventListener('click', function() {
            resetProfileImage();
            showToast('Profile image removed', 'success');
        });
    }
    
    // Handle image upload
    if (avatarUpload) {
        avatarUpload.addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (!file) return;
            
            // Check file type
            if (!file.type.match('image.*')) {
                showToast('Please select an image file', 'error');
                return;
            }
            
            // Check file size (max 2MB)
            if (file.size > 2 * 1024 * 1024) {
                showToast('Image size should be less than 2MB', 'error');
                return;
            }
            
            // Create progress indicator
            const progressBar = document.createElement('div');
            progressBar.className = 'avatar-upload-progress';
            progressBar.style.width = '0%';
            profileAvatarContainer.appendChild(progressBar);
            
            // Read file as data URL
            const reader = new FileReader();
            
            reader.onprogress = function(event) {
                if (event.lengthComputable) {
                    const progress = (event.loaded / event.total) * 100;
                    progressBar.style.width = `${progress}%`;
                }
            };
            
            reader.onload = function(event) {
                // Complete progress
                progressBar.style.width = '100%';
                
                // Get image data URL
                const imageUrl = event.target.result;
                
                // Get current user
                const user = firebase.auth().currentUser;
                
                if (user) {
                    // Update Firebase profile photo URL
                    user.updateProfile({
                        photoURL: imageUrl
                    }).then(() => {
                        // Update local UI
                        updateProfileImage(imageUrl);
                        showToast('Profile image updated successfully', 'success');
                    }).catch(error => {
                        console.error('Error updating profile photo:', error);
                        // Still update local UI even if Firebase update fails
                        updateProfileImage(imageUrl);
                        showToast('Profile image updated locally only', 'warning');
                    });
                } else {
                    // Just update local UI if no user is signed in
                    updateProfileImage(imageUrl);
                    showToast('Profile image updated successfully', 'success');
                }
                
                // Remove progress bar after a delay
                setTimeout(() => {
                    if (profileAvatarContainer.contains(progressBar)) {
                        progressBar.remove();
                    }
                }, 500);
            };
            
            reader.onerror = function() {
                if (profileAvatarContainer.contains(progressBar)) {
                    progressBar.remove();
                }
                showToast('Error reading file', 'error');
            };
            
            reader.readAsDataURL(file);
            
            // Reset the file input so the same file can be selected again if needed
            avatarUpload.value = '';
        });
    }
    
    // Toggle profile popup
    profileBtn.addEventListener('click', function(e) {
        e.stopPropagation();
        profilePopup.classList.toggle('active');
        overlay.classList.toggle('active');
        
        // Update remove button visibility when popup opens
        if (profilePopup.classList.contains('active')) {
            updateRemoveButtonVisibility();
        }
    });
    
    // Close when clicking outside
    overlay.addEventListener('click', function() {
        profilePopup.classList.remove('active');
        overlay.classList.remove('active');
    });
    
    // Close with escape key
    document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape' && profilePopup.classList.contains('active')) {
            profilePopup.classList.remove('active');
            overlay.classList.remove('active');
        }
    });
    
    // Logout button
    if (logoutBtn) {
        logoutBtn.addEventListener('click', function() {
            // Close the popup
            profilePopup.classList.remove('active');
            overlay.classList.remove('active');
            
            // Reset profile image
            resetProfileImage();
            
            // Firebase logout
            firebase.auth().signOut().then(() => {
                showToast('Logged out successfully', 'success');
                
                // Redirect to login page if needed
                // window.location.href = 'login.html';
            }).catch(error => {
                console.error('Logout error:', error);
                showToast('Error logging out', 'error');
            });
        });
    }
    
    // Listen for authentication state changes
    firebase.auth().onAuthStateChanged(user => {
        if (user) {
            // User is signed in
            console.log('User is signed in:', user);
            
            // Update profile info with user data
            updateProfileInfo(user);
            
            // Check for profile photo
            if (user.photoURL) {
                updateProfileImage(user.photoURL);
            } else {
                // Check for locally saved image
                const savedImage = localStorage.getItem('userProfileImage');
                if (savedImage) {
                    updateProfileImage(savedImage);
                } else {
                    // Show initials
                    resetProfileImage();
                }
            }
        } else {
            // User is signed out
            console.log('User is signed out');
            
            // Reset profile info to defaults
            if (profileName) profileName.textContent = 'Guest';
            if (profileEmail) profileEmail.textContent = 'Not signed in';
            
            // Reset profile image
            resetProfileImage();
        }
    });
});

document.addEventListener('DOMContentLoaded', function() {
    // Clone sponsor items for infinite scroll
    const sponsorScroll = document.querySelector('.sponsors-banner .auto-scroll');
    const sponsorItems = document.querySelectorAll('.sponsors-banner .sponsor-item');
    
    if (sponsorScroll && sponsorItems.length > 0) {
        // Clone each item and append to the container
        sponsorItems.forEach(item => {
            const clone = item.cloneNode(true);
            sponsorScroll.appendChild(clone);
        });
    }
    
    // Clone partner items for infinite scroll
    const partnerScroll = document.querySelector('.partners-banner .auto-scroll');
    const partnerItems = document.querySelectorAll('.partners-banner .partner-item');
    
    if (partnerScroll && partnerItems.length > 0) {
        // Clone each item and append to the container
        partnerItems.forEach(item => {
            const clone = item.cloneNode(true);
            partnerScroll.appendChild(clone);
        });
    }
    
    // Add hover pause effect
    const scrollContainers = document.querySelectorAll('.auto-scroll-container');
    scrollContainers.forEach(container => {
        container.addEventListener('mouseenter', () => {
            const scrollElement = container.querySelector('.auto-scroll');
            scrollElement.style.animationPlayState = 'paused';
        });
        
        container.addEventListener('mouseleave', () => {
            const scrollElement = container.querySelector('.auto-scroll');
            scrollElement.style.animationPlayState = 'running';
        });
    });
});

document.addEventListener('DOMContentLoaded', function() {
    // Set current year in footer
    document.getElementById('year').textContent = new Date().getFullYear();
    
    // Modal functionality
    const modalOverlay = document.getElementById('modal');
    const modalContent = document.querySelector('.modal-content');
    const modalText = document.getElementById('modal-text');
    const modalClose = document.querySelector('.modal-close');
    
    // Modal content for each link
    const modalContents = {
        about: `
            <h2>About Rewarder</h2>
            <p>Rewarder is a cutting-edge platform designed to connect talented performers with exciting opportunities and audiences worldwide. Founded in 2023, our mission is to revolutionize how artists showcase their talents and how audiences discover new performances.</p>
            <p>Our team consists of industry professionals, technology experts, and passionate supporters of the arts who are dedicated to creating a vibrant community where creativity thrives.</p>
            <p>At Rewarder, we believe that every performer deserves a chance to shine, and every audience deserves to experience exceptional talent. Through our platform, we aim to break down barriers and create meaningful connections that celebrate the power of live performance.</p>
            <h3>Our Vision</h3>
            <p>To become the world's leading platform for discovering, supporting, and celebrating performing arts talent across all genres and backgrounds.</p>
            <h3>Our Values</h3>
            <ul>
                <li><strong>Inclusivity:</strong> We welcome performers of all backgrounds, styles, and experience levels.</li>
                <li><strong>Innovation:</strong> We continuously improve our platform to better serve our community.</li>
                <li><strong>Integrity:</strong> We operate with transparency and fairness in all our dealings.</li>
                <li><strong>Passion:</strong> We are driven by a genuine love for the performing arts.</li>
            </ul>
        `,
        how: `
            <h2>How Rewarder Works</h2>
            <p>Rewarder provides a seamless platform for performers to showcase their talents and for audiences to discover and support amazing artists. Here's how it works:</p>
            
            <h3>For Performers</h3>
            <ol>
                <li><strong>Create Your Profile:</strong> Sign up and build your performer profile with photos, videos, and details about your talents.</li>
                <li><strong>Upload Performances:</strong> Share your best work through high-quality videos that showcase your unique abilities.</li>
                <li><strong>Participate in Challenges:</strong> Join themed challenges to gain visibility and compete for prizes and opportunities.</li>
                <li><strong>Connect with Fans:</strong> Build a following and engage with supporters who appreciate your work.</li>
                <li><strong>Receive Rewards:</strong> Earn rewards through audience support, challenge wins, and special opportunities.</li>
            </ol>
            
            <h3>For Audiences</h3>
            <ol>
                <li><strong>Discover Talent:</strong> Browse through a diverse range of performers and performances.</li>
                <li><strong>Support Artists:</strong> Vote for your favorites in challenges and provide direct support.</li>
                <li><strong>Attend Events:</strong> Get notified about live performances and special events featuring Rewarder artists.</li>
                <li><strong>Join the Community:</strong> Participate in discussions and help talented performers gain recognition.</li>
            </ol>
            
            <h3>For Event Organizers</h3>
            <ol>
                <li><strong>Find Talent:</strong> Discover performers for your events, productions, or venues.</li>
                <li><strong>Create Opportunities:</strong> Post casting calls, auditions, or special performance opportunities.</li>
                <li><strong>Host Challenges:</strong> Sponsor themed challenges to find specific talents for your needs.</li>
            </ol>
            
            <p>Rewarder uses advanced algorithms to match performers with relevant opportunities and to help audiences discover artists that match their preferences.</p>
        `,
        faq: `
            <h2>Frequently Asked Questions</h2>
            
            <h3>General Questions</h3>
            <div class="faq-item">
                <h4>What is Rewarder?</h4>
                <p>Rewarder is a platform that connects performers with audiences and opportunities. We help talented individuals showcase their abilities, participate in challenges, and receive recognition and rewards.</p>
            </div>
            
            <div class="faq-item">
                <h4>Is Rewarder free to use?</h4>
                <p>Basic accounts are free for both performers and audience members. We also offer premium subscriptions with additional features and benefits.</p>
            </div>
            
            <div class="faq-item">
                <h4>What types of performances are allowed?</h4>
                <p>We welcome a wide range of performing arts including music, dance, acting, comedy, magic, spoken word, and more. All content must adhere to our community guidelines.</p>
            </div>
            
            <h3>For Performers</h3>
            <div class="faq-item">
                <h4>How do I get started as a performer?</h4>
                <p>Simply create an account, complete your profile with details about your talents, and upload videos of your performances. You can then start participating in challenges and building your audience.</p>
            </div>
            
            <div class="faq-item">
                <h4>How are rewards distributed?</h4>
                <p>Rewards come in various forms including cash prizes, opportunities, exposure, and in-platform benefits. Distribution methods vary by challenge or opportunity type.</p>
            </div>
            
            <h3>For Audiences</h3>
            <div class="faq-item">
                <h4>How can I support my favorite performers?</h4>
                <p>You can support performers by following their profiles, voting for them in challenges, sharing their content, and providing direct support through our platform's features.</p>
            </div>
            
            <div class="faq-item">
                <h4>Can I request specific performances?</h4>
                <p>Yes, many performers on our platform accept performance requests. You can contact them directly through our messaging system.</p>
            </div>
            
            <h3>Technical Questions</h3>
            <div class="faq-item">
                <h4>What video formats are supported?</h4>
                <p>We support most common video formats including MP4, MOV, and AVI. Videos should be high quality but under 500MB in size.</p>
            </div>
            
            <div class="faq-item">
                <h4>How do I report inappropriate content?</h4>
                <p>You can report any content that violates our guidelines by clicking the "Report" button available on all videos and profiles.</p>
            </div>
        `,
        contact: `
            <h2>Contact Us</h2>
            <p>We'd love to hear from you! Whether you have questions, feedback, or need assistance, our team is here to help.</p>
            
            <h3>Customer Support</h3>
            <p>For general inquiries and support:</p>
            <p>Email: <a href="mailto:support@rewarder.com">support@rewarder.com</a><br>
            Response time: Within 24 hours</p>
            
            <h3>Business Inquiries</h3>
            <p>For partnerships, sponsorships, and business opportunities:</p>
            <p>Email: <a href="mailto:business@rewarder.com">business@rewarder.com</a></p>
            
            <h3>Press & Media</h3>
            <p>For press inquiries and media requests:</p>
            <p>Email: <a href="mailto:press@rewarder.com">press@rewarder.com</a></p>
            
            <h3>Report Issues</h3>
            <p>To report technical issues or bugs:</p>
            <p>Email: <a href="mailto:technical@rewarder.com">technical@rewarder.com</a></p>
            
            
            
            <h3>Send Us a Message</h3>
            <form id="contact-form" class="contact-form">
                <div class="form-group">
                    <label for="name">Name</label>
                    <input type="text" id="name" name="name" required>
                </div>
                <div class="form-group">
                    <label for="email">Email</label>
                    <input type="email" id="email" name="email" required>
                </div>
                <div class="form-group">
                    <label for="subject">Subject</label>
                    <input type="text" id="subject" name="subject" required>
                </div>
                <div class="form-group">
                    <label for="message">Message</label>
                    <textarea id="message" name="message" rows="5" required></textarea>
                </div>
                <button type="submit" class="submit-btn">Send Message</button>
            </form>
        `,
       

terms: `
            <h2>Terms of Service</h2>
            <p>Last Updated: January 1, 2023</p>
            
            <p>Please read these Terms of Service ("Terms", "Terms of Service") carefully before using the Rewarder website and platform (the "Service") operated by Rewarder Inc. ("us", "we", or "our").</p>
            
            <p>Your access to and use of the Service is conditioned on your acceptance of and compliance with these Terms. These Terms apply to all visitors, users, and others who access or use the Service.</p>
            
            <p>By accessing or using the Service you agree to be bound by these Terms. If you disagree with any part of the terms, you may not access the Service.</p>
            
            <h3>1. Accounts</h3>
            <p>When you create an account with us, you must provide information that is accurate, complete, and current at all times. Failure to do so constitutes a breach of the Terms, which may result in immediate termination of your account on our Service.</p>
            
            <p>You are responsible for safeguarding the password that you use to access the Service and for any activities or actions under your password, whether your password is with our Service or a third-party service.</p>
            
            <p>You agree not to disclose your password to any third party. You must notify us immediately upon becoming aware of any breach of security or unauthorized use of your account.</p>
            
            <h3>2. Content</h3>
            <p>Our Service allows you to post, link, store, share and otherwise make available certain information, text, graphics, videos, or other material ("Content"). You are responsible for the Content that you post on or through the Service, including its legality, reliability, and appropriateness.</p>
            
            <p>By posting Content on or through the Service, you represent and warrant that: (i) the Content is yours (you own it) or you have the right to use it and grant us the rights and license as provided in these Terms, and (ii) the posting of your Content on or through the Service does not violate the privacy rights, publicity rights, copyrights, contract rights or any other rights of any person or entity.</p>
            
            <h3>3. Intellectual Property</h3>
            <p>The Service and its original content (excluding Content provided by users), features and functionality are and will remain the exclusive property of Rewarder Inc. and its licensors. The Service is protected by copyright, trademark, and other laws of both the United States and foreign countries. Our trademarks and trade dress may not be used in connection with any product or service without the prior written consent of Rewarder Inc.</p>
            
            <h3>4. Links To Other Web Sites</h3>
            <p>Our Service may contain links to third-party websites or services that are not owned or controlled by Rewarder Inc.</p>
            
            <p>Rewarder Inc. has no control over, and assumes no responsibility for, the content, privacy policies, or practices of any third party websites or services. You further acknowledge and agree that Rewarder Inc. shall not be responsible or liable, directly or indirectly, for any damage or loss caused or alleged to be caused by or in connection with the use of or reliance on any such content, goods or services available on or through any such websites or services.</p>
            
            <h3>5. Termination</h3>
            <p>We may terminate or suspend your account immediately, without prior notice or liability, for any reason whatsoever, including without limitation if you breach the Terms.</p>
            
            <p>Upon termination, your right to use the Service will immediately cease. If you wish to terminate your account, you may simply discontinue using the Service.</p>
            
            <h3>6. Limitation Of Liability</h3>
            <p>In no event shall Rewarder Inc., nor its directors, employees, partners, agents, suppliers, or affiliates, be liable for any indirect, incidental, special, consequential or punitive damages, including without limitation, loss of profits, data, use, goodwill, or other intangible losses, resulting from (i) your access to or use of or inability to access or use the Service; (ii) any conduct or content of any third party on the Service; (iii) any content obtained from the Service; and (iv) unauthorized access, use or alteration of your transmissions or content, whether based on warranty, contract, tort (including negligence) or any other legal theory, whether or not we have been informed of the possibility of such damage.</p>
            
            <h3>7. Changes</h3>
            <p>We reserve the right, at our sole discretion, to modify or replace these Terms at any time. If a revision is material we will try to provide at least 30 days' notice prior to any new terms taking effect. What constitutes a material change will be determined at our sole discretion.</p>
            
            <h3>8. Contact Us</h3>
            <p>If you have any questions about these Terms, please contact us at legal@rewarder.com.</p>
        `,
       
        privacy: `
            <h2>Privacy Policy</h2>
            <p>Last Updated: January 1, 2023</p>
            
            <p>Rewarder Inc. ("us", "we", or "our") operates the Rewarder website and platform (the "Service"). This page informs you of our policies regarding the collection, use, and disclosure of personal data when you use our Service and the choices you have associated with that data.</p>
            
            <p>We use your data to provide and improve the Service. By using the Service, you agree to the collection and use of information in accordance with this policy.</p>
            
            <h3>1. Information Collection and Use</h3>
            <p>We collect several different types of information for various purposes to provide and improve our Service to you.</p>
            
            <h4>Types of Data Collected:</h4>
            
            <p><strong>Personal Data</strong></p>
            <p>While using our Service, we may ask you to provide us with certain personally identifiable information that can be used to contact or identify you ("Personal Data"). Personally identifiable information may include, but is not limited to:</p>
            <ul>
                <li>Email address</li>
                <li>First name and last name</li>
                <li>Phone number</li>
                <li>Address, State, Province, ZIP/Postal code, City</li>
                <li>Cookies and Usage Data</li>
            </ul>
            
            <p><strong>Usage Data</strong></p>
            <p>We may also collect information on how the Service is accessed and used ("Usage Data"). This Usage Data may include information such as your computer's Internet Protocol address (e.g. IP address), browser type, browser version, the pages of our Service that you visit, the time and date of your visit, the time spent on those pages, unique device identifiers and other diagnostic data.</p>
            
            <h3>2. Use of Data</h3>
            <p>Rewarder Inc. uses the collected data for various purposes:</p>
            <ul>
                <li>To provide and maintain the Service</li>
                <li>To notify you about changes to our Service</li>
                <li>To allow you to participate in interactive features of our Service when you choose to do so</li>
                <li>To provide customer care and support</li>
                <li>To provide analysis or valuable information so that we can improve the Service</li>
                <li>To monitor the usage of the Service</li>
                <li>To detect, prevent and address technical issues</li>
            </ul>
            
            <h3>3. Transfer of Data</h3>
            <p>Your information, including Personal Data, may be transferred to  and maintained on  computers located outside of your state, province, country or other governmental jurisdiction where the data protection laws may differ from those of your jurisdiction.</p>
            
            <p>If you are located outside United States and choose to provide information to us, please note that we transfer the data, including Personal Data, to United States and process it there.</p>
            
            <p>Your consent to this Privacy Policy followed by your submission of such information represents your agreement to that transfer.</p>
            
            <p>Rewarder Inc. will take all steps reasonably necessary to ensure that your data is treated securely and in accordance with this Privacy Policy and no transfer of your Personal Data will take place to an organization or a country unless there are adequate controls in place including the security of your data and other personal information.</p>
            
            <h3>4. Disclosure of Data</h3>
            
            <h4>Legal Requirements</h4>
            <p>Rewarder Inc. may disclose your Personal Data in the good faith belief that such action is necessary to:</p>
            <ul>
                <li>To comply with a legal obligation</li>
                <li>To protect and defend the rights or property of Rewarder Inc.</li>
                <li>To prevent or investigate possible wrongdoing in connection with the Service</li>
                <li>To protect the personal safety of users of the Service or the public</li>
                <li>To protect against legal liability</li>
            </ul>
            
            <h3>5. Security of Data</h3>
            <p>The security of your data is important to us, but remember that no method of transmission over the Internet, or method of electronic storage is 100% secure. While we strive to use commercially acceptable means to protect your Personal Data, we cannot guarantee its absolute security.</p>
            
            <h3>6. Your Data Protection Rights</h3>
            <p>We aim to take reasonable steps to allow you to correct, amend, delete, or limit the use of your Personal Data.</p>
            
            <p>If you wish to be informed what Personal Data we hold about you and if you want it to be removed from our systems, please contact us.</p>
            
            <p>In certain circumstances, you have the following data protection rights:</p>
            <ul>
                <li>The right to access, update or to delete the information we have on you</li>
                <li>The right of rectification</li>
                <li>The right to object</li>
                <li>The right of restriction</li>
                <li>The right to data portability</li>
                <li>The right to withdraw consent</li>
            </ul>
            
            <h3>7. Changes to This Privacy Policy</h3>
            <p>We may update our Privacy Policy from time to time. We will notify you of any changes by posting the new Privacy Policy on this page.</p>
            
            <p>We will let you know via email and/or a prominent notice on our Service, prior to the change becoming effective and update the "effective date" at the top of this Privacy Policy.</p>
            
            <p>You are advised to review this Privacy Policy periodically for any changes. Changes to this Privacy Policy are effective when they are posted on this page.</p>
            
            <h3>8. Contact Us</h3>
            <p>If you have any questions about this Privacy Policy, please contact us:</p>
            <ul>
                <li>By email: privacy@rewarder.com</li>
                <li>By visiting this page on our website: www.rewarder.com/contact</li>
            </ul>
        `
    };
    
    // Open modal when footer link is clicked
    const footerLinks = document.querySelectorAll('.footer-link');
    footerLinks.forEach(link => {
        link.addEventListener('click', function(e) {
            e.preventDefault();
            
            const modalType = this.getAttribute('data-modal');
            if (modalType && modalContents[modalType]) {
                // Set modal content
                modalText.innerHTML = modalContents[modalType];
                
                // Add animation class
                modalContent.classList.add('animate');
                
                // Show modal
                modalOverlay.classList.add('active');
                
                // Prevent body scrolling when modal is open
                document.body.style.overflow = 'hidden';
                
                // Add event listener for contact form if it exists
                const contactForm = document.getElementById('contact-form');
                if (contactForm) {
                    contactForm.addEventListener('submit', function(e) {
                        e.preventDefault();
                        
                        // Get form data
                        const name = document.getElementById('name').value;
                        const email = document.getElementById('email').value;
                        const subject = document.getElementById('subject').value;
                        const message = document.getElementById('message').value;
                        
                        // Here you would typically send the form data to your server
                        // For this example, we'll just show a success message
                        
                        // Replace form with success message
                        contactForm.innerHTML = `
                            <div class="success-message">
                                <i class="fas fa-check-circle"></i>
                                <h3>Message Sent!</h3>
                                <p>Thank you for contacting us, ${name}. We'll get back to you as soon as possible.</p>
                            </div>
                        `;
                        
                        // Log form data to console (for demonstration)
                        console.log('Contact form submitted:', { name, email, subject, message });
                    });
                }
            }
        });
    });
    
    // Close modal when close button is clicked
    if (modalClose) {
        modalClose.addEventListener('click', function() {
            closeModal();
        });
    }
    
    // Close modal when clicking outside content
    modalOverlay.addEventListener('click', function(e) {
        if (e.target === modalOverlay) {
            closeModal();
        }
    });
    
    // Close modal when ESC key is pressed
    document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape' && modalOverlay.classList.contains('active')) {
            closeModal();
        }
    });
    
    // Function to close modal
    function closeModal() {
        modalOverlay.classList.remove('active');
        
        // Remove animation class after transition
        setTimeout(() => {
            modalContent.classList.remove('animate');
        }, 300);
        
        // Re-enable body scrolling
        document.body.style.overflow = '';
    }
    
    // Social media links - add your actual social media URLs here
    const socialLinks = document.querySelectorAll('.social-link');
    const socialUrls = {
        'fa-facebook-f': 'https://facebook.com/rewarder',
        'fa-twitter': 'https://twitter.com/rewarder',
        'fa-instagram': 'https://instagram.com/rewarder',
        'fa-youtube': 'https://youtube.com/rewarder',
        'fa-tiktok': 'https://tiktok.com/@rewarder'
    };
    
    socialLinks.forEach(link => {
        const icon = link.querySelector('i');
        if (icon) {
            // Find which social media this is
            for (const [className, url] of Object.entries(socialUrls)) {
                if (icon.classList.contains(className)) {
                    link.href = url;
                    
                    // Open in new tab
                    link.target = '_blank';
                    link.rel = 'noopener noreferrer';
                    
                    break;
                }
            }
        }
    });
    
    // Add CSS for contact form
    const style = document.createElement('style');
    style.textContent = `
        .contact-form {
            margin-top: 20px;
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
        }
        
        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 14px;
        }
        
        .form-group textarea {
            resize: vertical;
        }
        
        .submit-btn {
            background-color: #4285F4;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 500;
            transition: background-color 0.2s;
        }
        
        .submit-btn:hover {
            background-color: #3367D6;
        }
        
        .success-message {
            text-align: center;
            padding: 20px;
        }
        
        .success-message i {
            font-size: 48px;
            color: #34A853;
            margin-bottom: 15px;
        }
        
        .success-message h3 {
            margin-bottom: 10px;
            color: #333;
        }
        
        .success-message p {
            color: #666;
        }
        
        .faq-item {
            margin-bottom: 20px;
        }
        
        .faq-item h4 {
            margin-bottom: 8px;
            color: #333;
        }
    `;
    document.head.appendChild(style);
});

    
document.addEventListener('DOMContentLoaded', function() {
    const walletButton = document.getElementById('walletButton');
    const walletContainer = document.querySelector('.wallet-container');
    const backButton = document.querySelector('.back-button');
    
    // Show wallet when button is clicked
    walletButton.addEventListener('click', function() {
      walletContainer.classList.add('active');
      document.body.style.overflow = 'hidden'; // Prevent scrolling of background
    });
    
    // Hide wallet when back button is clicked
    backButton.addEventListener('click', function() {
      walletContainer.classList.remove('active');
      document.body.style.overflow = ''; // Restore scrolling
    });
    
    // Close wallet when clicking outside (optional)
    walletContainer.addEventListener('click', function(e) {
      if (e.target === walletContainer) {
        walletContainer.classList.remove('active');
        document.body.style.overflow = '';
      }
    });
  });


// Admin passcode (in a real app, this would be securely stored on the server)
const ADMIN_PASSCODE = "BISASK19";

// DOM Elements
const adminButton = document.getElementById('adminButton');
const adminDashboard = document.querySelector('.admin-dashboard');
const adminAccessContainer = document.querySelector('.admin-access-container');
const adminContent = document.querySelector('.admin-content');
const passcodeInput = document.getElementById('passcodeInput');
const accessBtn = document.getElementById('accessBtn');
const errorMessage = document.getElementById('errorMessage');
const closeDashboardBtn = document.getElementById('closeDashboardBtn');

// Modal references
const modals = {
  confirmation: document.getElementById('confirmation-modal'),
  success: document.getElementById('success-modal'),
  transaction: document.getElementById('transaction-details-modal')
};

// Function to safely show a modal
function showModal(modalId) {
  if (!modals[modalId]) return;
  
  // Hide all other modals first
  Object.values(modals).forEach(modal => {
    if (modal) modal.classList.remove('show');
  });
  
  // Show the requested modal
  modals[modalId].classList.add('show');
  document.body.style.overflow = 'hidden'; // Prevent scrolling
  
  // Make sure modal content doesn't trigger modal close
  const modalContent = modals[modalId].querySelector('.modal-content');
  if (modalContent) {
    modalContent.onclick = function(e) {
      e.stopPropagation();
    };
  }
}

// Function to safely hide a modal
function hideModal(modalId) {
  if (!modals[modalId]) return;
  modals[modalId].classList.remove('show');
  document.body.style.overflow = ''; // Restore scrolling
}

// Admin Button Click - Show Admin Access Container
if (adminButton) {
  adminButton.addEventListener('click', function() {
    adminDashboard.style.display = 'block';
    adminAccessContainer.style.display = 'flex';
    adminContent.style.display = 'none';
    errorMessage.style.display = 'none';
    passcodeInput.value = '';
    accessBtn.disabled = true;
  });
}

// Close Dashboard Button Click
if (closeDashboardBtn) {
  closeDashboardBtn.addEventListener('click', function() {
    adminDashboard.style.display = 'none';
  });
}

// Passcode Input Validation
if (passcodeInput) {
  passcodeInput.addEventListener('input', function() {
    accessBtn.disabled = this.value.length === 0;
    errorMessage.style.display = 'none';
  });
  
  passcodeInput.addEventListener('keypress', function(e) {
    if (e.key === 'Enter' && !accessBtn.disabled) {
      accessBtn.click();
    }
  });
}

// Access Button Click - Validate Passcode
if (accessBtn) {
  accessBtn.addEventListener('click', function() {
    if (passcodeInput.value === ADMIN_PASSCODE) {
      adminAccessContainer.style.display = 'none';
      adminContent.style.display = 'block';
      loadTransactions();
    } else {
      errorMessage.style.display = 'block';
      passcodeInput.value = '';
      accessBtn.disabled = true;
    }
  });
}

// Tab Navigation
const adminTabs = document.querySelectorAll('.admin-tab');
const tabContents = document.querySelectorAll('.admin-tab-content');

adminTabs.forEach(tab => {
  tab.addEventListener('click', function() {
    const tabId = this.getAttribute('data-tab');
    
    // Update active tab
    adminTabs.forEach(t => t.classList.remove('active'));
    this.classList.add('active');
    
    // Show selected tab content
    tabContents.forEach(content => {
      content.style.display = 'none';
      if (content.id === `${tabId}-tab`) {
        content.style.display = 'block';
      }
    });
    
    // Load data for the selected tab
    if (tabId === 'transactions') {
      loadTransactions();
    } else if (tabId === 'users') {
      loadUsers();
    }
  });
});

// Load Transactions from Firebase
function loadTransactions() {
  const transactionsTableBody = document.getElementById('transactionsTableBody');
  if (!transactionsTableBody) return;
  
  // Clear existing rows
  transactionsTableBody.innerHTML = '<tr><td colspan="7" class="loading-data">Loading transactions...</td></tr>';
  
  // Fetch transactions from Firestore
  db.collection('transactions')
    .orderBy('timestamp', 'desc')
    .limit(50)
    .get()
    .then(snapshot => {
      if (snapshot.empty) {
        transactionsTableBody.innerHTML = '<tr><td colspan="7" class="no-data">No transactions found</td></tr>';
        return;
      }
      
      // Clear loading message
      transactionsTableBody.innerHTML = '';
      
      // Add transaction rows
      snapshot.forEach(doc => {
        const transaction = doc.data();
        const row = createTransactionRow(doc.id, transaction);
        transactionsTableBody.appendChild(row);
      });
      
      // Add event listeners to the new buttons
      setupTransactionButtons();
    })
    .catch(error => {
      console.error("Error loading transactions:", error);
      transactionsTableBody.innerHTML = `<tr><td colspan="7" class="error-data">Error loading transactions: ${error.message}</td></tr>`;
    });
}

// Create Transaction Row
function createTransactionRow(id, transaction) {
  const row = document.createElement('tr');
  row.setAttribute('data-id', id);
  
  // Format date
  const date = transaction.timestamp ? new Date(transaction.timestamp.toDate()) : new Date();
  const formattedDate = date.toLocaleDateString() + ' ' + date.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
  
  // Format amount
  const formattedAmount = new Intl.NumberFormat('en-NG', { 
    style: 'currency', 
    currency: 'NGN',
    minimumFractionDigits: 2
  }).format(transaction.amount || 0);
  
  // Status class
  const statusClass = transaction.status === 'approved' ? 'approved' : 
                      transaction.status === 'rejected' ? 'rejected' : 'pending';
  
  row.innerHTML = `
    <td>${id.substring(0, 8)}...</td>
    <td>
      <div class="user-cell">
        <div class="user-avatar">
          <i class="fas fa-user"></i>
        </div>
        <div class="user-info">
          <span class="user-name">${transaction.userName || 'Unknown User'}</span>
          <span class="user-email">${transaction.userEmail || 'No email'}</span>
        </div>
      </div>
    </td>
    <td>${formattedAmount}</td>
    <td>${formattedDate}</td>
    <td>${transaction.type || 'Unknown'}</td>
    <td><span class="status-badge ${statusClass}">${transaction.status || 'Pending'}</span></td>
    <td>
      <div class="action-buttons">
        <button class="view-btn" data-id="${id}">View</button>
        ${transaction.status === 'pending' ? `
          <button class="approve-btn" data-id="${id}">Approve</button>
          <button class="reject-btn" data-id="${id}">Reject</button>
        ` : ''}
      </div>
    </td>
  `;
  
  return row;
}

// Load Users from Firebase
function loadUsers() {
  const usersTableBody = document.getElementById('usersTableBody');
  if (!usersTableBody) return;
  
  // Clear existing rows
  usersTableBody.innerHTML = '<tr><td colspan="6" class="loading-data">Loading users...</td></tr>';
  
  // Fetch users from Firestore
  db.collection('users')
    .orderBy('createdAt', 'desc')
    .limit(50)
    .get()
    .then(snapshot => {
      if (snapshot.empty) {
        usersTableBody.innerHTML = '<tr><td colspan="6" class="no-data">No users found</td></tr>';
        return;
      }
      
      // Clear loading message
      usersTableBody.innerHTML = '';
      
      // Add user rows
      snapshot.forEach(doc => {
        const user = doc.data();
        const row = createUserRow(doc.id, user);
        usersTableBody.appendChild(row);
      });
    })
    .catch(error => {
      console.error("Error loading users:", error);
      usersTableBody.innerHTML = `<tr><td colspan="6" class="error-data">Error loading users: ${error.message}</td></tr>`;
    });
}

// Create User Row
function createUserRow(id, user) {
  const row = document.createElement('tr');
  row.setAttribute('data-id', id);
  
  // Format date
  const date = user.createdAt ? new Date(user.createdAt.toDate()) : new Date();
  const formattedDate = date.toLocaleDateString();
  
  // Status class
  const statusClass = user.status === 'active' ? 'approved' : 
                      user.status === 'blocked' ? 'rejected' : 'pending';
  
  row.innerHTML = `
    <td>${id.substring(0, 8)}...</td>
    <td>
      <div class="user-cell">
        <div class="user-avatar">
          <i class="fas fa-user"></i>
        </div>
        <div class="user-info">
                    <span class="user-name">${user.displayName || 'Unknown User'}</span>
          <span class="user-email">${user.phoneNumber || 'No phone'}</span>
        </div>
      </div>
    </td>
    <td>${user.email || 'No email'}</td>
    <td>${formattedDate}</td>
    <td><span class="status-badge ${statusClass}">${user.status || 'Inactive'}</span></td>
    <td>
      <div class="action-buttons">
        <button class="view-btn" data-id="${id}">View</button>
        ${user.status !== 'blocked' ? `<button class="reject-btn" data-id="${id}">Block</button>` : ''}
        ${user.status !== 'active' ? `<button class="approve-btn" data-id="${id}">Activate</button>` : ''}
      </div>
    </td>
  `;
  
  return row;
}

// Setup Transaction Buttons
function setupTransactionButtons() {
  // View Transaction Buttons
  document.querySelectorAll('.view-btn').forEach(button => {
    button.onclick = function(e) {
      e.preventDefault();
      e.stopPropagation();
      
      const transactionId = this.getAttribute('data-id');
      viewTransactionDetails(transactionId);
      return false;
    };
  });

  // Approve Transaction Buttons
  document.querySelectorAll('.approve-btn').forEach(button => {
    button.onclick = function(e) {
      e.preventDefault();
      e.stopPropagation();
      
      const transactionId = this.getAttribute('data-id');
      const row = this.closest('tr');
      const userName = row.querySelector('.user-name').textContent;
      const amount = row.querySelector('td:nth-child(3)').textContent;
      
      // Update confirmation modal content
      const confirmationTitle = document.getElementById('confirmation-title');
      const confirmationMessage = document.getElementById('confirmation-message');
      const confirmTransactionId = document.getElementById('confirm-transaction-id');
      const confirmUser = document.getElementById('confirm-user');
      const confirmAmount = document.getElementById('confirm-amount');
      
      if (confirmationTitle) confirmationTitle.textContent = 'Confirm Approval';
      if (confirmationMessage) confirmationMessage.textContent = 'Are you sure you want to approve this transaction?';
      if (confirmTransactionId) confirmTransactionId.textContent = transactionId;
      if (confirmUser) confirmUser.textContent = userName;
      if (confirmAmount) confirmAmount.textContent = amount;
      
      // Store action data
      if (modals.confirmation) {
        modals.confirmation.setAttribute('data-action', 'approve');
        modals.confirmation.setAttribute('data-id', transactionId);
      }
      
      // Show the confirmation modal
      showModal('confirmation');
      return false;
    };
  });

  // Reject Transaction Buttons
  document.querySelectorAll('.reject-btn').forEach(button => {
    button.onclick = function(e) {
      e.preventDefault();
      e.stopPropagation();
      
      const transactionId = this.getAttribute('data-id');
      const row = this.closest('tr');
      const userName = row.querySelector('.user-name').textContent;
      const amount = row.querySelector('td:nth-child(3)').textContent;
      
      // Update confirmation modal content
      const confirmationTitle = document.getElementById('confirmation-title');
      const confirmationMessage = document.getElementById('confirmation-message');
      const confirmTransactionId = document.getElementById('confirm-transaction-id');
      const confirmUser = document.getElementById('confirm-user');
      const confirmAmount = document.getElementById('confirm-amount');
      
      if (confirmationTitle) confirmationTitle.textContent = 'Confirm Rejection';
      if (confirmationMessage) confirmationMessage.textContent = 'Are you sure you want to reject this transaction?';
      if (confirmTransactionId) confirmTransactionId.textContent = transactionId;
      if (confirmUser) confirmUser.textContent = userName;
      if (confirmAmount) confirmAmount.textContent = amount;
      
      // Store action data
      if (modals.confirmation) {
        modals.confirmation.setAttribute('data-action', 'reject');
        modals.confirmation.setAttribute('data-id', transactionId);
      }
      
      // Show the confirmation modal
      showModal('confirmation');
      return false;
    };
  });
}

// View Transaction Details
function viewTransactionDetails(transactionId) {
  // Fetch transaction details from Firestore
  db.collection('transactions').doc(transactionId).get()
    .then(doc => {
      if (!doc.exists) {
        console.error("Transaction not found");
        return;
      }
      
      const transaction = doc.data();
      
      // Update transaction details modal
      document.querySelector('.transaction-id').textContent = transactionId;
      
      // User info
      const userProfileName = document.querySelector('.user-profile-info h4');
      const userProfileEmail = document.querySelector('.user-profile-info p');
      if (userProfileName) userProfileName.textContent = transaction.userName || 'Unknown User';
      if (userProfileEmail) userProfileEmail.textContent = transaction.userEmail || 'No email';
      
      // Transaction details
      const transactionAmount = document.getElementById('transaction-amount');
      if (transactionAmount) {
        transactionAmount.textContent = new Intl.NumberFormat('en-NG', { 
          style: 'currency', 
          currency: 'NGN',
          minimumFractionDigits: 2
        }).format(transaction.amount || 0);
      }
      
      // Date
      const dateElements = document.querySelectorAll('.transaction-detail-item:nth-child(2) .detail-value');
      if (dateElements.length > 0) {
        const date = transaction.timestamp ? new Date(transaction.timestamp.toDate()) : new Date();
        dateElements[0].textContent = date.toLocaleDateString() + ' - ' + date.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
      }
      
      // Type
      const typeElements = document.querySelectorAll('.transaction-detail-item:nth-child(3) .detail-value');
      if (typeElements.length > 0) {
        typeElements[0].textContent = transaction.type || 'Unknown';
      }
      
      // Status
      const statusElements = document.querySelectorAll('.transaction-detail-item:nth-child(4) .detail-value');
      if (statusElements.length > 0) {
        const statusElement = statusElements[0];
        statusElement.className = 'detail-value status-badge ' + 
          (transaction.status === 'approved' ? 'approved' : 
           transaction.status === 'rejected' ? 'rejected' : 'pending');
        statusElement.textContent = transaction.status || 'Pending';
      }
      
      // Notes
      const notesElement = document.querySelector('.transaction-notes p');
      if (notesElement) {
        notesElement.textContent = transaction.notes || 'No additional notes for this transaction.';
      }
      
      // Show/hide approve/reject buttons based on status
      const approveBtn = document.getElementById('approve-transaction-btn');
      const rejectBtn = document.getElementById('reject-transaction-btn');
      
      if (approveBtn && rejectBtn) {
        if (transaction.status === 'pending') {
          approveBtn.style.display = 'block';
          rejectBtn.style.display = 'block';
        } else {
          approveBtn.style.display = 'none';
          rejectBtn.style.display = 'none';
        }
      }
      
      // Show the transaction details modal
      showModal('transaction');
    })
    .catch(error => {
      console.error("Error fetching transaction details:", error);
    });
}

// Confirm Action Button
const confirmActionBtn = document.getElementById('confirm-action-btn');
if (confirmActionBtn) {
  confirmActionBtn.onclick = function(e) {
    e.preventDefault();
    e.stopPropagation();
    
    if (modals.confirmation) {
      const action = modals.confirmation.getAttribute('data-action');
      const transactionId = modals.confirmation.getAttribute('data-id');
      
      // Update transaction in Firestore
      db.collection('transactions').doc(transactionId).update({
        status: action === 'approve' ? 'approved' : 'rejected',
        processedAt: firebase.firestore.FieldValue.serverTimestamp(),
        processedBy: auth.currentUser ? auth.currentUser.uid : 'admin'
      })
      .then(() => {
        // Hide confirmation modal
        hideModal('confirmation');
        
        // Update success message
        const successMessage = document.getElementById('success-message');
        if (successMessage) {
          successMessage.textContent = action === 'approve' 
            ? 'Transaction has been successfully approved!' 
            : 'Transaction has been successfully rejected!';
        }
        
        // Show success modal
        showModal('success');
        
        // Update transaction status in the table
        const statusCell = document.querySelector(`tr[data-id="${transactionId}"] td:nth-child(6) .status-badge`);
        if (statusCell) {
          statusCell.className = 'status-badge ' + (action === 'approve' ? 'approved' : 'rejected');
          statusCell.textContent = action === 'approve' ? 'Approved' : 'Rejected';
        }
        
        // Disable action buttons for this transaction
        const actionButtons = document.querySelectorAll(`tr[data-id="${transactionId}"] .action-buttons button`);
        actionButtons.forEach(btn => {
          if (!btn.classList.contains('view-btn')) {
            btn.remove();
          }
        });
      })
      .catch(error => {
        console.error("Error updating transaction:", error);
        alert("Error updating transaction: " + error.message);
      });
    }
    return false;
  };
}

// Cancel Action Button
const cancelActionBtn = document.getElementById('cancel-action-btn');
if (cancelActionBtn) {
  cancelActionBtn.onclick = function(e) {
    e.preventDefault();
    e.stopPropagation();
    hideModal('confirmation');
    return false;
  };
}

// Success Done Button
const successDoneBtn = document.getElementById('success-done-btn');
if (successDoneBtn) {
  successDoneBtn.onclick = function(e) {
    e.preventDefault();
    e.stopPropagation();
    hideModal('success');
    return false;
  };
}

// Transaction Details Modal Approve/Reject Buttons
const approveTransactionBtn = document.getElementById('approve-transaction-btn');
if (approveTransactionBtn) {
  approveTransactionBtn.onclick = function(e) {
    e.preventDefault();
    e.stopPropagation();
    
    // Get transaction ID from the modal
    const transactionId = document.querySelector('.transaction-id').textContent;
    
    // Close transaction details modal
    hideModal('transaction');
    
    // Update confirmation modal
    const confirmationTitle = document.getElementById('confirmation-title');
    const confirmationMessage = document.getElementById('confirmation-message');
    const confirmTransactionId = document.getElementById('confirm-transaction-id');
    const confirmUser = document.getElementById('confirm-user');
    const confirmAmount = document.getElementById('confirm-amount');
    
    if (confirmationTitle) confirmationTitle.textContent = 'Confirm Approval';
    if (confirmationMessage) confirmationMessage.textContent = 'Are you sure you want to approve this transaction?';
    if (confirmTransactionId) confirmTransactionId.textContent = transactionId;
    
    // Get user and amount from the modal
    const userName = document.querySelector('.user-profile-info h4').textContent;
    const amount = document.getElementById('transaction-amount').textContent;
    
    if (confirmUser) confirmUser.textContent = userName;
    if (confirmAmount) confirmAmount.textContent = amount;
    
    // Store action type for confirmation
    if (modals.confirmation) {
      modals.confirmation.setAttribute('data-action', 'approve');
      modals.confirmation.setAttribute('data-id', transactionId);
    }
    
    // Show confirmation modal
    showModal('confirmation');
    return false;
  };
}

const rejectTransactionBtn = document.getElementById('reject-transaction-btn');
if (rejectTransactionBtn) {
  rejectTransactionBtn.onclick = function(e) {
    e.preventDefault();
    e.stopPropagation();
    
    // Get transaction ID from the modal
    const transactionId = document.querySelector('.transaction-id').textContent;
    
    // Close transaction details modal
    hideModal('transaction');
    
    // Update confirmation modal
    const confirmationTitle = document.getElementById('confirmation-title');
    const confirmationMessage = document.getElementById('confirmation-message');
    const confirmTransactionId = document.getElementById('confirm-transaction-id');
    const confirmUser = document.getElementById('confirm-user');
    const confirmAmount = document.getElementById('confirm-amount');
    
    if (confirmationTitle) confirmationTitle.textContent = 'Confirm Rejection';
    if (confirmationMessage) confirmationMessage.textContent = 'Are you sure you want to reject this transaction?';
    if (confirmTransactionId) confirmTransactionId.textContent = transactionId;
    
    // Get user and amount from the modal
    const userName = document.querySelector('.user-profile-info h4').textContent;
    const amount = document.getElementById('transaction-amount').textContent;
    
    if (confirmUser) confirmUser.textContent = userName;
    if (confirmAmount) confirmAmount.textContent = amount;
    
    // Store action type for confirmation
    if (modals.confirmation) {
      modals.confirmation.setAttribute('data-action', 'reject');
      modals.confirmation.setAttribute('data-id', transactionId);
    }
    
    // Show confirmation modal
    showModal('confirmation');
    return false;
  };
}

// Close Modal Buttons
document.querySelectorAll('.close-modal').forEach(button => {
  button.onclick = function(e) {
    e.preventDefault();
    e.stopPropagation();
    
    const modal = this.closest('.modal');
    if (modal) {
      modal.classList.remove('show');
      document.body.style.overflow = '';
    }
    return false;
  };
});

// Prevent modal content clicks from closing the modal
document.querySelectorAll('.modal-content').forEach(content => {
  content.addEventListener('click', function(e) {
    e.stopPropagation();
  }, true);
});

// Make sure modals only close when clicking outside content
document.querySelectorAll('.modal').forEach(modal => {
  modal.addEventListener('click', function(e) {
    if (e.target === this) {
      this.classList.remove('show');
      document.body.style.overflow = '';
    }
  }, true);
});

// Prevent form submissions from causing page reload
document.querySelectorAll('form').forEach(form => {
  form.addEventListener('submit', function(e) {
    e.preventDefault();
    return false;
  });
});

// Initialize the app
document.addEventListener('DOMContentLoaded', function() {
  console.log("Admin Dashboard initialized");
  
  // Check if user is authenticated
  auth.onAuthStateChanged(user => {
    if (user) {
      console.log("User is signed in:", user.email);
      // You could check if the user has admin privileges here
       } else {
      console.log("No user is signed in");
      // You could redirect to a login page or show a login form
      // For this demo, we'll allow access with just the passcode
    }
  });
});

// Settings Tab Functionality
const maintenanceMode = document.getElementById('maintenanceMode');
const allowRegistrations = document.getElementById('allowRegistrations');
const minTransactionAmount = document.getElementById('minTransactionAmount');
const maxTransactionAmount = document.getElementById('maxTransactionAmount');
const autoApproveThreshold = document.getElementById('autoApproveThreshold');

// Load settings from Firebase
function loadSettings() {
  db.collection('settings').doc('app_settings')
    .get()
    .then(doc => {
      if (doc.exists) {
        const settings = doc.data();
        
        if (maintenanceMode) maintenanceMode.checked = settings.maintenanceMode || false;
        if (allowRegistrations) allowRegistrations.checked = settings.allowRegistrations !== false; // default to true
        if (minTransactionAmount) minTransactionAmount.value = settings.minTransactionAmount || 100;
        if (maxTransactionAmount) maxTransactionAmount.value = settings.maxTransactionAmount || 1000000;
        if (autoApproveThreshold) autoApproveThreshold.value = settings.autoApproveThreshold || 1000;
      }
    })
    .catch(error => {
      console.error("Error loading settings:", error);
    });
}

// Save settings to Firebase
document.querySelector('.settings-actions .primary-button')?.addEventListener('click', function() {
  const settings = {
    maintenanceMode: maintenanceMode ? maintenanceMode.checked : false,
    allowRegistrations: allowRegistrations ? allowRegistrations.checked : true,
    minTransactionAmount: minTransactionAmount ? parseInt(minTransactionAmount.value) : 100,
    maxTransactionAmount: maxTransactionAmount ? parseInt(maxTransactionAmount.value) : 1000000,
    autoApproveThreshold: autoApproveThreshold ? parseInt(autoApproveThreshold.value) : 1000,
    updatedAt: firebase.firestore.FieldValue.serverTimestamp(),
    updatedBy: auth.currentUser ? auth.currentUser.uid : 'admin'
  };
  
  db.collection('settings').doc('app_settings')
    .set(settings, { merge: true })
    .then(() => {
      // Show success message
      const successMessage = document.getElementById('success-message');
      if (successMessage) {
        successMessage.textContent = 'Settings have been successfully updated!';
      }
      
      // Show success modal
      showModal('success');
    })
    .catch(error => {
      console.error("Error saving settings:", error);
      alert("Error saving settings: " + error.message);
    });
});

// Reset settings to default
document.querySelector('.settings-actions .secondary-button')?.addEventListener('click', function() {
  if (maintenanceMode) maintenanceMode.checked = false;
  if (allowRegistrations) allowRegistrations.checked = true;
  if (minTransactionAmount) minTransactionAmount.value = 100;
  if (maxTransactionAmount) maxTransactionAmount.value = 1000000;
  if (autoApproveThreshold) autoApproveThreshold.value = 1000;
});

// Load settings when settings tab is clicked
document.querySelector('.admin-tab[data-tab="settings"]')?.addEventListener('click', loadSettings);

// Refresh button functionality
document.querySelector('.refresh-btn')?.addEventListener('click', function() {
  const activeTab = document.querySelector('.admin-tab.active');
  if (activeTab) {
    const tabId = activeTab.getAttribute('data-tab');
    if (tabId === 'transactions') {
      loadTransactions();
    } else if (tabId === 'users') {
      loadUsers();
    }
  }
});

// Search functionality for transactions
const transactionSearchInput = document.querySelector('#transactions-tab .search-box input');
if (transactionSearchInput) {
  transactionSearchInput.addEventListener('input', function() {
    const searchTerm = this.value.toLowerCase();
    const rows = document.querySelectorAll('#transactionsTableBody tr');
    
    rows.forEach(row => {
      const text = row.textContent.toLowerCase();
      row.style.display = text.includes(searchTerm) ? '' : 'none';
    });
  });
}

// Search functionality for users
const userSearchInput = document.querySelector('#users-tab .search-box input');
if (userSearchInput) {
  userSearchInput.addEventListener('input', function() {
    const searchTerm = this.value.toLowerCase();
    const rows = document.querySelectorAll('#usersTableBody tr');
    
    rows.forEach(row => {
      const text = row.textContent.toLowerCase();
      row.style.display = text.includes(searchTerm) ? '' : 'none';
    });
  });
}

// Filter functionality for transactions
const transactionFilterSelect = document.querySelector('#transactions-tab .filter-select');
if (transactionFilterSelect) {
  transactionFilterSelect.addEventListener('change', function() {
    const filterValue = this.value;
    const rows = document.querySelectorAll('#transactionsTableBody tr');
    
    if (filterValue === 'all') {
      rows.forEach(row => row.style.display = '');
      return;
    }
    
    rows.forEach(row => {
      const statusBadge = row.querySelector('.status-badge');
      if (statusBadge && statusBadge.textContent.toLowerCase() === filterValue) {
        row.style.display = '';
      } else {
        row.style.display = 'none';
      }
    });
  });
}

// Sort functionality for transactions
const transactionSortSelect = document.querySelector('#transactions-tab .filter-select:nth-child(3)');
if (transactionSortSelect) {
  transactionSortSelect.addEventListener('change', function() {
    const sortValue = this.value;
    const tbody = document.getElementById('transactionsTableBody');
    const rows = Array.from(tbody.querySelectorAll('tr'));
    
    rows.sort((a, b) => {
      if (sortValue === 'newest' || sortValue === 'oldest') {
        // Sort by date (4th column)
        const dateA = new Date(a.querySelector('td:nth-child(4)').textContent);
        const dateB = new Date(b.querySelector('td:nth-child(4)').textContent);
        
        return sortValue === 'newest' ? dateB - dateA : dateA - dateB;
      } else {
        // Sort by amount (3rd column)
        const amountA = parseFloat(a.querySelector('td:nth-child(3)').textContent.replace(/[^0-9.-]+/g, ''));
        const amountB = parseFloat(b.querySelector('td:nth-child(3)').textContent.replace(/[^0-9.-]+/g, ''));
        
        return sortValue === 'highest' ? amountB - amountA : amountA - amountB;
      }
    });
    
    // Clear and re-append sorted rows
    tbody.innerHTML = '';
    rows.forEach(row => tbody.appendChild(row));
  });
}

// File upload functionality
const fileUploadBtn = document.querySelector('.file-upload-btn');
const fileNameDisplay = document.querySelector('.file-name');
const fileInput = document.getElementById('message-attachment');

if (fileUploadBtn && fileInput && fileNameDisplay) {
  fileUploadBtn.addEventListener('click', function(e) {
    e.preventDefault();
    fileInput.click();
  });
  
  fileInput.addEventListener('change', function() {
    if (this.files.length > 0) {
      fileNameDisplay.textContent = this.files[0].name;
    } else {
      fileNameDisplay.textContent = 'No file chosen';
    }
  });
}

// Send message functionality
const sendMessageBtn = document.querySelector('.send-message-btn');
const messageTextarea = document.querySelector('.admin-message textarea');

if (sendMessageBtn && messageTextarea) {
  sendMessageBtn.addEventListener('click', function() {
    const message = messageTextarea.value.trim();
    if (!message) {
      alert('Please enter a message');
      return;
    }
    
    const transactionId = document.querySelector('.transaction-id').textContent;
    const userId = document.querySelector('.user-profile-info h4').textContent;
    
    // Create a new message in Firestore
    db.collection('messages').add({
      transactionId: transactionId,
      userId: userId,
      message: message,
      sentBy: 'admin',
      sentAt: firebase.firestore.FieldValue.serverTimestamp(),
      read: false
    })
    .then(() => {
      alert('Message sent successfully');
      messageTextarea.value = '';
      fileNameDisplay.textContent = 'No file chosen';
      fileInput.value = '';
    })
    .catch(error => {
      console.error("Error sending message:", error);
      alert("Error sending message: " + error.message);
    });
  });
}

// View attachment functionality
document.querySelector('.view-attachment-btn')?.addEventListener('click', function() {
  // In a real app, this would open the attachment in a new window or modal
  alert('Viewing attachment: proof_of_payment.jpg');
});


</script>
       </body>
       </html>
